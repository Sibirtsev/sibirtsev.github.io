function Cm(l,r){for(var a=0;a<r.length;a++){const o=r[a];if(typeof o!="string"&&!Array.isArray(o)){for(const u in o)if(u!=="default"&&!(u in l)){const d=Object.getOwnPropertyDescriptor(o,u);d&&Object.defineProperty(l,u,d.get?d:{enumerable:!0,get:()=>o[u]})}}}return Object.freeze(Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const f of d.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function a(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function o(u){if(u.ep)return;u.ep=!0;const d=a(u);fetch(u.href,d)}})();function sd(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var xs={exports:{}},Yr={},ws={exports:{}},pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cc;function bm(){if(Cc)return pe;Cc=1;var l=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),k=Symbol.iterator;function w(C){return C===null||typeof C!="object"?null:(C=k&&C[k]||C["@@iterator"],typeof C=="function"?C:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,R={};function _(C,O,ue){this.props=C,this.context=O,this.refs=R,this.updater=ue||I}_.prototype.isReactComponent={},_.prototype.setState=function(C,O){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,O,"setState")},_.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function M(){}M.prototype=_.prototype;function G(C,O,ue){this.props=C,this.context=O,this.refs=R,this.updater=ue||I}var U=G.prototype=new M;U.constructor=G,j(U,_.prototype),U.isPureReactComponent=!0;var W=Array.isArray,H=Object.prototype.hasOwnProperty,ce={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function Ne(C,O,ue){var le,ye={},me=null,be=null;if(O!=null)for(le in O.ref!==void 0&&(be=O.ref),O.key!==void 0&&(me=""+O.key),O)H.call(O,le)&&!ae.hasOwnProperty(le)&&(ye[le]=O[le]);var ke=arguments.length-2;if(ke===1)ye.children=ue;else if(1<ke){for(var Te=Array(ke),rt=0;rt<ke;rt++)Te[rt]=arguments[rt+2];ye.children=Te}if(C&&C.defaultProps)for(le in ke=C.defaultProps,ke)ye[le]===void 0&&(ye[le]=ke[le]);return{$$typeof:l,type:C,key:me,ref:be,props:ye,_owner:ce.current}}function Ge(C,O){return{$$typeof:l,type:C.type,key:O,ref:C.ref,props:C.props,_owner:C._owner}}function Le(C){return typeof C=="object"&&C!==null&&C.$$typeof===l}function te(C){var O={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(ue){return O[ue]})}var he=/\/+/g;function oe(C,O){return typeof C=="object"&&C!==null&&C.key!=null?te(""+C.key):O.toString(36)}function de(C,O,ue,le,ye){var me=typeof C;(me==="undefined"||me==="boolean")&&(C=null);var be=!1;if(C===null)be=!0;else switch(me){case"string":case"number":be=!0;break;case"object":switch(C.$$typeof){case l:case r:be=!0}}if(be)return be=C,ye=ye(be),C=le===""?"."+oe(be,0):le,W(ye)?(ue="",C!=null&&(ue=C.replace(he,"$&/")+"/"),de(ye,O,ue,"",function(rt){return rt})):ye!=null&&(Le(ye)&&(ye=Ge(ye,ue+(!ye.key||be&&be.key===ye.key?"":(""+ye.key).replace(he,"$&/")+"/")+C)),O.push(ye)),1;if(be=0,le=le===""?".":le+":",W(C))for(var ke=0;ke<C.length;ke++){me=C[ke];var Te=le+oe(me,ke);be+=de(me,O,ue,Te,ye)}else if(Te=w(C),typeof Te=="function")for(C=Te.call(C),ke=0;!(me=C.next()).done;)me=me.value,Te=le+oe(me,ke++),be+=de(me,O,ue,Te,ye);else if(me==="object")throw O=String(C),Error("Objects are not valid as a React child (found: "+(O==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":O)+"). If you meant to render a collection of children, use an array instead.");return be}function fe(C,O,ue){if(C==null)return C;var le=[],ye=0;return de(C,le,"","",function(me){return O.call(ue,me,ye++)}),le}function ge(C){if(C._status===-1){var O=C._result;O=O(),O.then(function(ue){(C._status===0||C._status===-1)&&(C._status=1,C._result=ue)},function(ue){(C._status===0||C._status===-1)&&(C._status=2,C._result=ue)}),C._status===-1&&(C._status=0,C._result=O)}if(C._status===1)return C._result.default;throw C._result}var xe={current:null},z={transition:null},q={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:z,ReactCurrentOwner:ce};function B(){throw Error("act(...) is not supported in production builds of React.")}return pe.Children={map:fe,forEach:function(C,O,ue){fe(C,function(){O.apply(this,arguments)},ue)},count:function(C){var O=0;return fe(C,function(){O++}),O},toArray:function(C){return fe(C,function(O){return O})||[]},only:function(C){if(!Le(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},pe.Component=_,pe.Fragment=a,pe.Profiler=u,pe.PureComponent=G,pe.StrictMode=o,pe.Suspense=g,pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=q,pe.act=B,pe.cloneElement=function(C,O,ue){if(C==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+C+".");var le=j({},C.props),ye=C.key,me=C.ref,be=C._owner;if(O!=null){if(O.ref!==void 0&&(me=O.ref,be=ce.current),O.key!==void 0&&(ye=""+O.key),C.type&&C.type.defaultProps)var ke=C.type.defaultProps;for(Te in O)H.call(O,Te)&&!ae.hasOwnProperty(Te)&&(le[Te]=O[Te]===void 0&&ke!==void 0?ke[Te]:O[Te])}var Te=arguments.length-2;if(Te===1)le.children=ue;else if(1<Te){ke=Array(Te);for(var rt=0;rt<Te;rt++)ke[rt]=arguments[rt+2];le.children=ke}return{$$typeof:l,type:C.type,key:ye,ref:me,props:le,_owner:be}},pe.createContext=function(C){return C={$$typeof:f,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},C.Provider={$$typeof:d,_context:C},C.Consumer=C},pe.createElement=Ne,pe.createFactory=function(C){var O=Ne.bind(null,C);return O.type=C,O},pe.createRef=function(){return{current:null}},pe.forwardRef=function(C){return{$$typeof:p,render:C}},pe.isValidElement=Le,pe.lazy=function(C){return{$$typeof:y,_payload:{_status:-1,_result:C},_init:ge}},pe.memo=function(C,O){return{$$typeof:v,type:C,compare:O===void 0?null:O}},pe.startTransition=function(C){var O=z.transition;z.transition={};try{C()}finally{z.transition=O}},pe.unstable_act=B,pe.useCallback=function(C,O){return xe.current.useCallback(C,O)},pe.useContext=function(C){return xe.current.useContext(C)},pe.useDebugValue=function(){},pe.useDeferredValue=function(C){return xe.current.useDeferredValue(C)},pe.useEffect=function(C,O){return xe.current.useEffect(C,O)},pe.useId=function(){return xe.current.useId()},pe.useImperativeHandle=function(C,O,ue){return xe.current.useImperativeHandle(C,O,ue)},pe.useInsertionEffect=function(C,O){return xe.current.useInsertionEffect(C,O)},pe.useLayoutEffect=function(C,O){return xe.current.useLayoutEffect(C,O)},pe.useMemo=function(C,O){return xe.current.useMemo(C,O)},pe.useReducer=function(C,O,ue){return xe.current.useReducer(C,O,ue)},pe.useRef=function(C){return xe.current.useRef(C)},pe.useState=function(C){return xe.current.useState(C)},pe.useSyncExternalStore=function(C,O,ue){return xe.current.useSyncExternalStore(C,O,ue)},pe.useTransition=function(){return xe.current.useTransition()},pe.version="18.3.1",pe}var bc;function Ps(){return bc||(bc=1,ws.exports=bm()),ws.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ec;function Em(){if(Ec)return Yr;Ec=1;var l=Ps(),r=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function f(p,g,v){var y,k={},w=null,I=null;v!==void 0&&(w=""+v),g.key!==void 0&&(w=""+g.key),g.ref!==void 0&&(I=g.ref);for(y in g)o.call(g,y)&&!d.hasOwnProperty(y)&&(k[y]=g[y]);if(p&&p.defaultProps)for(y in g=p.defaultProps,g)k[y]===void 0&&(k[y]=g[y]);return{$$typeof:r,type:p,key:w,ref:I,props:k,_owner:u.current}}return Yr.Fragment=a,Yr.jsx=f,Yr.jsxs=f,Yr}var Tc;function Tm(){return Tc||(Tc=1,xs.exports=Em()),xs.exports}var h=Tm(),P=Ps();const pn=sd(P),jm=Cm({__proto__:null,default:pn},[P]);var gi={},Ss={exports:{}},ft={},ks={exports:{}},Ns={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc;function Im(){return jc||(jc=1,(function(l){function r(z,q){var B=z.length;z.push(q);e:for(;0<B;){var C=B-1>>>1,O=z[C];if(0<u(O,q))z[C]=q,z[B]=O,B=C;else break e}}function a(z){return z.length===0?null:z[0]}function o(z){if(z.length===0)return null;var q=z[0],B=z.pop();if(B!==q){z[0]=B;e:for(var C=0,O=z.length,ue=O>>>1;C<ue;){var le=2*(C+1)-1,ye=z[le],me=le+1,be=z[me];if(0>u(ye,B))me<O&&0>u(be,ye)?(z[C]=be,z[me]=B,C=me):(z[C]=ye,z[le]=B,C=le);else if(me<O&&0>u(be,B))z[C]=be,z[me]=B,C=me;else break e}}return q}function u(z,q){var B=z.sortIndex-q.sortIndex;return B!==0?B:z.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;l.unstable_now=function(){return d.now()}}else{var f=Date,p=f.now();l.unstable_now=function(){return f.now()-p}}var g=[],v=[],y=1,k=null,w=3,I=!1,j=!1,R=!1,_=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function U(z){for(var q=a(v);q!==null;){if(q.callback===null)o(v);else if(q.startTime<=z)o(v),q.sortIndex=q.expirationTime,r(g,q);else break;q=a(v)}}function W(z){if(R=!1,U(z),!j)if(a(g)!==null)j=!0,ge(H);else{var q=a(v);q!==null&&xe(W,q.startTime-z)}}function H(z,q){j=!1,R&&(R=!1,M(Ne),Ne=-1),I=!0;var B=w;try{for(U(q),k=a(g);k!==null&&(!(k.expirationTime>q)||z&&!te());){var C=k.callback;if(typeof C=="function"){k.callback=null,w=k.priorityLevel;var O=C(k.expirationTime<=q);q=l.unstable_now(),typeof O=="function"?k.callback=O:k===a(g)&&o(g),U(q)}else o(g);k=a(g)}if(k!==null)var ue=!0;else{var le=a(v);le!==null&&xe(W,le.startTime-q),ue=!1}return ue}finally{k=null,w=B,I=!1}}var ce=!1,ae=null,Ne=-1,Ge=5,Le=-1;function te(){return!(l.unstable_now()-Le<Ge)}function he(){if(ae!==null){var z=l.unstable_now();Le=z;var q=!0;try{q=ae(!0,z)}finally{q?oe():(ce=!1,ae=null)}}else ce=!1}var oe;if(typeof G=="function")oe=function(){G(he)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,fe=de.port2;de.port1.onmessage=he,oe=function(){fe.postMessage(null)}}else oe=function(){_(he,0)};function ge(z){ae=z,ce||(ce=!0,oe())}function xe(z,q){Ne=_(function(){z(l.unstable_now())},q)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(z){z.callback=null},l.unstable_continueExecution=function(){j||I||(j=!0,ge(H))},l.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ge=0<z?Math.floor(1e3/z):5},l.unstable_getCurrentPriorityLevel=function(){return w},l.unstable_getFirstCallbackNode=function(){return a(g)},l.unstable_next=function(z){switch(w){case 1:case 2:case 3:var q=3;break;default:q=w}var B=w;w=q;try{return z()}finally{w=B}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(z,q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var B=w;w=z;try{return q()}finally{w=B}},l.unstable_scheduleCallback=function(z,q,B){var C=l.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?C+B:C):B=C,z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=B+O,z={id:y++,callback:q,priorityLevel:z,startTime:B,expirationTime:O,sortIndex:-1},B>C?(z.sortIndex=B,r(v,z),a(g)===null&&z===a(v)&&(R?(M(Ne),Ne=-1):R=!0,xe(W,B-C))):(z.sortIndex=O,r(g,z),j||I||(j=!0,ge(H))),z},l.unstable_shouldYield=te,l.unstable_wrapCallback=function(z){var q=w;return function(){var B=w;w=q;try{return z.apply(this,arguments)}finally{w=B}}}})(Ns)),Ns}var Ic;function _m(){return Ic||(Ic=1,ks.exports=Im()),ks.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _c;function Mm(){if(_c)return ft;_c=1;var l=Ps(),r=_m();function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function d(e,t){f(e,t),f(e+"Capture",t)}function f(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},k={};function w(e){return g.call(k,e)?!0:g.call(y,e)?!1:v.test(e)?k[e]=!0:(y[e]=!0,!1)}function I(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function j(e,t,n,i){if(t===null||typeof t>"u"||I(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,i,s,c,m){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=c,this.removeEmptyString=m}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){_[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];_[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){_[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){_[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){_[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){_[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){_[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){_[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){_[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function G(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(M,G);_[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(M,G);_[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(M,G);_[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){_[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),_.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){_[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function U(e,t,n,i){var s=_.hasOwnProperty(t)?_[t]:null;(s!==null?s.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(j(t,n,s,i)&&(n=null),i||s===null?w(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,i=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var W=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,H=Symbol.for("react.element"),ce=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),Ne=Symbol.for("react.strict_mode"),Ge=Symbol.for("react.profiler"),Le=Symbol.for("react.provider"),te=Symbol.for("react.context"),he=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),de=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),xe=Symbol.for("react.offscreen"),z=Symbol.iterator;function q(e){return e===null||typeof e!="object"?null:(e=z&&e[z]||e["@@iterator"],typeof e=="function"?e:null)}var B=Object.assign,C;function O(e){if(C===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);C=t&&t[1]||""}return`
`+C+e}var ue=!1;function le(e,t){if(!e||ue)return"";ue=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(T){var i=T}Reflect.construct(e,[],t)}else{try{t.call()}catch(T){i=T}e.call(t.prototype)}else{try{throw Error()}catch(T){i=T}e()}}catch(T){if(T&&i&&typeof T.stack=="string"){for(var s=T.stack.split(`
`),c=i.stack.split(`
`),m=s.length-1,x=c.length-1;1<=m&&0<=x&&s[m]!==c[x];)x--;for(;1<=m&&0<=x;m--,x--)if(s[m]!==c[x]){if(m!==1||x!==1)do if(m--,x--,0>x||s[m]!==c[x]){var S=`
`+s[m].replace(" at new "," at ");return e.displayName&&S.includes("<anonymous>")&&(S=S.replace("<anonymous>",e.displayName)),S}while(1<=m&&0<=x);break}}}finally{ue=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?O(e):""}function ye(e){switch(e.tag){case 5:return O(e.type);case 16:return O("Lazy");case 13:return O("Suspense");case 19:return O("SuspenseList");case 0:case 2:case 15:return e=le(e.type,!1),e;case 11:return e=le(e.type.render,!1),e;case 1:return e=le(e.type,!0),e;default:return""}}function me(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case ce:return"Portal";case Ge:return"Profiler";case Ne:return"StrictMode";case oe:return"Suspense";case de:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case te:return(e.displayName||"Context")+".Consumer";case Le:return(e._context.displayName||"Context")+".Provider";case he:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case fe:return t=e.displayName||null,t!==null?t:me(e.type)||"Memo";case ge:t=e._payload,e=e._init;try{return me(e(t))}catch{}}return null}function be(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(t);case 8:return t===Ne?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ke(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Te(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function rt(e){var t=Te(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,c=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(m){i=""+m,c.call(this,m)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(m){i=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yn(e){e._valueTracker||(e._valueTracker=rt(e))}function vn(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=Te(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function On(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Dn(e,t){var n=t.checked;return B({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sa(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=ke(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function fr(e,t){t=t.checked,t!=null&&U(e,"checked",t,!1)}function An(e,t){fr(e,t);var n=ke(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,ke(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function L(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Z(e,t,n){(t!=="number"||On(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function ve(e,t,n,i){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ke(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,i&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function De(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(a(91));return B({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ve(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(a(92));if(ee(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ke(n)}}function mr(e,t){var n=ke(t.value),i=ke(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Ds(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function As(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ii(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?As(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var la,Fs=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,s)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(la=la||document.createElement("div"),la.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=la.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function pr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Td=["Webkit","ms","Moz","O"];Object.keys(hr).forEach(function(e){Td.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hr[t]=hr[e]})});function zs(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hr.hasOwnProperty(e)&&hr[e]?(""+t).trim():t+"px"}function Vs(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=zs(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,s):e[n]=s}}var jd=B({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _i(e,t){if(t){if(jd[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(a(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(t.style!=null&&typeof t.style!="object")throw Error(a(62))}}function Mi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ri=null;function Pi(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Li=null,Fn=null,zn=null;function $s(e){if(e=Ar(e)){if(typeof Li!="function")throw Error(a(280));var t=e.stateNode;t&&(t=Ma(t),Li(e.stateNode,e.type,t))}}function Bs(e){Fn?zn?zn.push(e):zn=[e]:Fn=e}function Us(){if(Fn){var e=Fn,t=zn;if(zn=Fn=null,$s(e),t)for(e=0;e<t.length;e++)$s(t[e])}}function Gs(e,t){return e(t)}function Hs(){}var Oi=!1;function Ks(e,t,n){if(Oi)return e(t,n);Oi=!0;try{return Gs(e,t,n)}finally{Oi=!1,(Fn!==null||zn!==null)&&(Hs(),Us())}}function gr(e,t){var n=e.stateNode;if(n===null)return null;var i=Ma(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(a(231,t,typeof n));return n}var Di=!1;if(p)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Di=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Di=!1}function Id(e,t,n,i,s,c,m,x,S){var T=Array.prototype.slice.call(arguments,3);try{t.apply(n,T)}catch(A){this.onError(A)}}var vr=!1,ua=null,ca=!1,Ai=null,_d={onError:function(e){vr=!0,ua=e}};function Md(e,t,n,i,s,c,m,x,S){vr=!1,ua=null,Id.apply(_d,arguments)}function Rd(e,t,n,i,s,c,m,x,S){if(Md.apply(this,arguments),vr){if(vr){var T=ua;vr=!1,ua=null}else throw Error(a(198));ca||(ca=!0,Ai=T)}}function xn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ws(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qs(e){if(xn(e)!==e)throw Error(a(188))}function Pd(e){var t=e.alternate;if(!t){if(t=xn(e),t===null)throw Error(a(188));return t!==e?null:e}for(var n=e,i=t;;){var s=n.return;if(s===null)break;var c=s.alternate;if(c===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===c.child){for(c=s.child;c;){if(c===n)return Qs(s),e;if(c===i)return Qs(s),t;c=c.sibling}throw Error(a(188))}if(n.return!==i.return)n=s,i=c;else{for(var m=!1,x=s.child;x;){if(x===n){m=!0,n=s,i=c;break}if(x===i){m=!0,i=s,n=c;break}x=x.sibling}if(!m){for(x=c.child;x;){if(x===n){m=!0,n=c,i=s;break}if(x===i){m=!0,i=c,n=s;break}x=x.sibling}if(!m)throw Error(a(189))}}if(n.alternate!==i)throw Error(a(190))}if(n.tag!==3)throw Error(a(188));return n.stateNode.current===n?e:t}function qs(e){return e=Pd(e),e!==null?Js(e):null}function Js(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Js(e);if(t!==null)return t;e=e.sibling}return null}var Xs=r.unstable_scheduleCallback,Ys=r.unstable_cancelCallback,Ld=r.unstable_shouldYield,Od=r.unstable_requestPaint,Ae=r.unstable_now,Dd=r.unstable_getCurrentPriorityLevel,Fi=r.unstable_ImmediatePriority,Zs=r.unstable_UserBlockingPriority,da=r.unstable_NormalPriority,Ad=r.unstable_LowPriority,el=r.unstable_IdlePriority,fa=null,Mt=null;function Fd(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(fa,e,void 0,(e.current.flags&128)===128)}catch{}}var Nt=Math.clz32?Math.clz32:$d,zd=Math.log,Vd=Math.LN2;function $d(e){return e>>>=0,e===0?32:31-(zd(e)/Vd|0)|0}var ma=64,pa=4194304;function xr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ha(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,s=e.suspendedLanes,c=e.pingedLanes,m=n&268435455;if(m!==0){var x=m&~s;x!==0?i=xr(x):(c&=m,c!==0&&(i=xr(c)))}else m=n&~s,m!==0?i=xr(m):c!==0&&(i=xr(c));if(i===0)return 0;if(t!==0&&t!==i&&(t&s)===0&&(s=i&-i,c=t&-t,s>=c||s===16&&(c&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Nt(t),s=1<<n,i|=e[n],t&=~s;return i}function Bd(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ud(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,s=e.expirationTimes,c=e.pendingLanes;0<c;){var m=31-Nt(c),x=1<<m,S=s[m];S===-1?((x&n)===0||(x&i)!==0)&&(s[m]=Bd(x,t)):S<=t&&(e.expiredLanes|=x),c&=~x}}function zi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function tl(){var e=ma;return ma<<=1,(ma&4194240)===0&&(ma=64),e}function Vi(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Nt(t),e[t]=n}function Gd(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Nt(n),c=1<<s;t[s]=0,i[s]=-1,e[s]=-1,n&=~c}}function $i(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Nt(n),s=1<<i;s&t|e[i]&t&&(e[i]|=t),n&=~s}}var Ce=0;function nl(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var rl,Bi,al,il,ol,Ui=!1,ga=[],Wt=null,Qt=null,qt=null,Sr=new Map,kr=new Map,Jt=[],Hd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sl(e,t){switch(e){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":kr.delete(t.pointerId)}}function Nr(e,t,n,i,s,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:c,targetContainers:[s]},t!==null&&(t=Ar(t),t!==null&&Bi(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Kd(e,t,n,i,s){switch(t){case"focusin":return Wt=Nr(Wt,e,t,n,i,s),!0;case"dragenter":return Qt=Nr(Qt,e,t,n,i,s),!0;case"mouseover":return qt=Nr(qt,e,t,n,i,s),!0;case"pointerover":var c=s.pointerId;return Sr.set(c,Nr(Sr.get(c)||null,e,t,n,i,s)),!0;case"gotpointercapture":return c=s.pointerId,kr.set(c,Nr(kr.get(c)||null,e,t,n,i,s)),!0}return!1}function ll(e){var t=wn(e.target);if(t!==null){var n=xn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ws(n),t!==null){e.blockedOn=t,ol(e.priority,function(){al(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ya(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Hi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);Ri=i,n.target.dispatchEvent(i),Ri=null}else return t=Ar(n),t!==null&&Bi(t),e.blockedOn=n,!1;t.shift()}return!0}function ul(e,t,n){ya(e)&&n.delete(t)}function Wd(){Ui=!1,Wt!==null&&ya(Wt)&&(Wt=null),Qt!==null&&ya(Qt)&&(Qt=null),qt!==null&&ya(qt)&&(qt=null),Sr.forEach(ul),kr.forEach(ul)}function Cr(e,t){e.blockedOn===t&&(e.blockedOn=null,Ui||(Ui=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Wd)))}function br(e){function t(s){return Cr(s,e)}if(0<ga.length){Cr(ga[0],e);for(var n=1;n<ga.length;n++){var i=ga[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Wt!==null&&Cr(Wt,e),Qt!==null&&Cr(Qt,e),qt!==null&&Cr(qt,e),Sr.forEach(t),kr.forEach(t),n=0;n<Jt.length;n++)i=Jt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Jt.length&&(n=Jt[0],n.blockedOn===null);)ll(n),n.blockedOn===null&&Jt.shift()}var Vn=W.ReactCurrentBatchConfig,va=!0;function Qd(e,t,n,i){var s=Ce,c=Vn.transition;Vn.transition=null;try{Ce=1,Gi(e,t,n,i)}finally{Ce=s,Vn.transition=c}}function qd(e,t,n,i){var s=Ce,c=Vn.transition;Vn.transition=null;try{Ce=4,Gi(e,t,n,i)}finally{Ce=s,Vn.transition=c}}function Gi(e,t,n,i){if(va){var s=Hi(e,t,n,i);if(s===null)lo(e,t,i,xa,n),sl(e,i);else if(Kd(s,e,t,n,i))i.stopPropagation();else if(sl(e,i),t&4&&-1<Hd.indexOf(e)){for(;s!==null;){var c=Ar(s);if(c!==null&&rl(c),c=Hi(e,t,n,i),c===null&&lo(e,t,i,xa,n),c===s)break;s=c}s!==null&&i.stopPropagation()}else lo(e,t,i,null,n)}}var xa=null;function Hi(e,t,n,i){if(xa=null,e=Pi(i),e=wn(e),e!==null)if(t=xn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ws(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xa=e,null}function cl(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dd()){case Fi:return 1;case Zs:return 4;case da:case Ad:return 16;case el:return 536870912;default:return 16}default:return 16}}var Xt=null,Ki=null,wa=null;function dl(){if(wa)return wa;var e,t=Ki,n=t.length,i,s="value"in Xt?Xt.value:Xt.textContent,c=s.length;for(e=0;e<n&&t[e]===s[e];e++);var m=n-e;for(i=1;i<=m&&t[n-i]===s[c-i];i++);return wa=s.slice(e,1<i?1-i:void 0)}function Sa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ka(){return!0}function fl(){return!1}function mt(e){function t(n,i,s,c,m){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=c,this.target=m,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(c):c[x]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?ka:fl,this.isPropagationStopped=fl,this}return B(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),t}var $n={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wi=mt($n),Er=B({},$n,{view:0,detail:0}),Jd=mt(Er),Qi,qi,Tr,Na=B({},Er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xi,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tr&&(Tr&&e.type==="mousemove"?(Qi=e.screenX-Tr.screenX,qi=e.screenY-Tr.screenY):qi=Qi=0,Tr=e),Qi)},movementY:function(e){return"movementY"in e?e.movementY:qi}}),ml=mt(Na),Xd=B({},Na,{dataTransfer:0}),Yd=mt(Xd),Zd=B({},Er,{relatedTarget:0}),Ji=mt(Zd),ef=B({},$n,{animationName:0,elapsedTime:0,pseudoElement:0}),tf=mt(ef),nf=B({},$n,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rf=mt(nf),af=B({},$n,{data:0}),pl=mt(af),of={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function uf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=lf[e])?!!t[e]:!1}function Xi(){return uf}var cf=B({},Er,{key:function(e){if(e.key){var t=of[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Sa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xi,charCode:function(e){return e.type==="keypress"?Sa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),df=mt(cf),ff=B({},Na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hl=mt(ff),mf=B({},Er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xi}),pf=mt(mf),hf=B({},$n,{propertyName:0,elapsedTime:0,pseudoElement:0}),gf=mt(hf),yf=B({},Na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),vf=mt(yf),xf=[9,13,27,32],Yi=p&&"CompositionEvent"in window,jr=null;p&&"documentMode"in document&&(jr=document.documentMode);var wf=p&&"TextEvent"in window&&!jr,gl=p&&(!Yi||jr&&8<jr&&11>=jr),yl=" ",vl=!1;function xl(e,t){switch(e){case"keyup":return xf.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wl(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Bn=!1;function Sf(e,t){switch(e){case"compositionend":return wl(t);case"keypress":return t.which!==32?null:(vl=!0,yl);case"textInput":return e=t.data,e===yl&&vl?null:e;default:return null}}function kf(e,t){if(Bn)return e==="compositionend"||!Yi&&xl(e,t)?(e=dl(),wa=Ki=Xt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return gl&&t.locale!=="ko"?null:t.data;default:return null}}var Nf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nf[e.type]:t==="textarea"}function kl(e,t,n,i){Bs(i),t=ja(t,"onChange"),0<t.length&&(n=new Wi("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ir=null,_r=null;function Cf(e){Vl(e,0)}function Ca(e){var t=Wn(e);if(vn(t))return e}function bf(e,t){if(e==="change")return t}var Nl=!1;if(p){var Zi;if(p){var eo="oninput"in document;if(!eo){var Cl=document.createElement("div");Cl.setAttribute("oninput","return;"),eo=typeof Cl.oninput=="function"}Zi=eo}else Zi=!1;Nl=Zi&&(!document.documentMode||9<document.documentMode)}function bl(){Ir&&(Ir.detachEvent("onpropertychange",El),_r=Ir=null)}function El(e){if(e.propertyName==="value"&&Ca(_r)){var t=[];kl(t,_r,e,Pi(e)),Ks(Cf,t)}}function Ef(e,t,n){e==="focusin"?(bl(),Ir=t,_r=n,Ir.attachEvent("onpropertychange",El)):e==="focusout"&&bl()}function Tf(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ca(_r)}function jf(e,t){if(e==="click")return Ca(t)}function If(e,t){if(e==="input"||e==="change")return Ca(t)}function _f(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ct=typeof Object.is=="function"?Object.is:_f;function Mr(e,t){if(Ct(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!g.call(t,s)||!Ct(e[s],t[s]))return!1}return!0}function Tl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jl(e,t){var n=Tl(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tl(n)}}function Il(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Il(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _l(){for(var e=window,t=On();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=On(e.document)}return t}function to(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Mf(e){var t=_l(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Il(n.ownerDocument.documentElement,n)){if(i!==null&&to(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,c=Math.min(i.start,s);i=i.end===void 0?c:Math.min(i.end,s),!e.extend&&c>i&&(s=i,i=c,c=s),s=jl(n,c);var m=jl(n,i);s&&m&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==m.node||e.focusOffset!==m.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),c>i?(e.addRange(t),e.extend(m.node,m.offset)):(t.setEnd(m.node,m.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Rf=p&&"documentMode"in document&&11>=document.documentMode,Un=null,no=null,Rr=null,ro=!1;function Ml(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ro||Un==null||Un!==On(i)||(i=Un,"selectionStart"in i&&to(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Rr&&Mr(Rr,i)||(Rr=i,i=ja(no,"onSelect"),0<i.length&&(t=new Wi("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Un)))}function ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionend:ba("Transition","TransitionEnd")},ao={},Rl={};p&&(Rl=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Ea(e){if(ao[e])return ao[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Rl)return ao[e]=t[n];return e}var Pl=Ea("animationend"),Ll=Ea("animationiteration"),Ol=Ea("animationstart"),Dl=Ea("transitionend"),Al=new Map,Fl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){Al.set(e,t),d(t,[e])}for(var io=0;io<Fl.length;io++){var oo=Fl[io],Pf=oo.toLowerCase(),Lf=oo[0].toUpperCase()+oo.slice(1);Yt(Pf,"on"+Lf)}Yt(Pl,"onAnimationEnd"),Yt(Ll,"onAnimationIteration"),Yt(Ol,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Dl,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Of=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function zl(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Rd(i,t,void 0,e),e.currentTarget=null}function Vl(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],s=i.event;i=i.listeners;e:{var c=void 0;if(t)for(var m=i.length-1;0<=m;m--){var x=i[m],S=x.instance,T=x.currentTarget;if(x=x.listener,S!==c&&s.isPropagationStopped())break e;zl(s,x,T),c=S}else for(m=0;m<i.length;m++){if(x=i[m],S=x.instance,T=x.currentTarget,x=x.listener,S!==c&&s.isPropagationStopped())break e;zl(s,x,T),c=S}}}if(ca)throw e=Ai,ca=!1,Ai=null,e}function Ie(e,t){var n=t[ho];n===void 0&&(n=t[ho]=new Set);var i=e+"__bubble";n.has(i)||($l(t,e,2,!1),n.add(i))}function so(e,t,n){var i=0;t&&(i|=4),$l(n,e,i,t)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function Lr(e){if(!e[Ta]){e[Ta]=!0,o.forEach(function(n){n!=="selectionchange"&&(Of.has(n)||so(n,!1,e),so(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ta]||(t[Ta]=!0,so("selectionchange",!1,t))}}function $l(e,t,n,i){switch(cl(t)){case 1:var s=Qd;break;case 4:s=qd;break;default:s=Gi}n=s.bind(null,t,n,e),s=void 0,!Di||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),i?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function lo(e,t,n,i,s){var c=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var x=i.stateNode.containerInfo;if(x===s||x.nodeType===8&&x.parentNode===s)break;if(m===4)for(m=i.return;m!==null;){var S=m.tag;if((S===3||S===4)&&(S=m.stateNode.containerInfo,S===s||S.nodeType===8&&S.parentNode===s))return;m=m.return}for(;x!==null;){if(m=wn(x),m===null)return;if(S=m.tag,S===5||S===6){i=c=m;continue e}x=x.parentNode}}i=i.return}Ks(function(){var T=c,A=Pi(n),F=[];e:{var D=Al.get(e);if(D!==void 0){var K=Wi,J=e;switch(e){case"keypress":if(Sa(n)===0)break e;case"keydown":case"keyup":K=df;break;case"focusin":J="focus",K=Ji;break;case"focusout":J="blur",K=Ji;break;case"beforeblur":case"afterblur":K=Ji;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=ml;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=pf;break;case Pl:case Ll:case Ol:K=tf;break;case Dl:K=gf;break;case"scroll":K=Jd;break;case"wheel":K=vf;break;case"copy":case"cut":case"paste":K=rf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=hl}var X=(t&4)!==0,Fe=!X&&e==="scroll",b=X?D!==null?D+"Capture":null:D;X=[];for(var N=T,E;N!==null;){E=N;var V=E.stateNode;if(E.tag===5&&V!==null&&(E=V,b!==null&&(V=gr(N,b),V!=null&&X.push(Or(N,V,E)))),Fe)break;N=N.return}0<X.length&&(D=new K(D,J,null,n,A),F.push({event:D,listeners:X}))}}if((t&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",K=e==="mouseout"||e==="pointerout",D&&n!==Ri&&(J=n.relatedTarget||n.fromElement)&&(wn(J)||J[At]))break e;if((K||D)&&(D=A.window===A?A:(D=A.ownerDocument)?D.defaultView||D.parentWindow:window,K?(J=n.relatedTarget||n.toElement,K=T,J=J?wn(J):null,J!==null&&(Fe=xn(J),J!==Fe||J.tag!==5&&J.tag!==6)&&(J=null)):(K=null,J=T),K!==J)){if(X=ml,V="onMouseLeave",b="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(X=hl,V="onPointerLeave",b="onPointerEnter",N="pointer"),Fe=K==null?D:Wn(K),E=J==null?D:Wn(J),D=new X(V,N+"leave",K,n,A),D.target=Fe,D.relatedTarget=E,V=null,wn(A)===T&&(X=new X(b,N+"enter",J,n,A),X.target=E,X.relatedTarget=Fe,V=X),Fe=V,K&&J)t:{for(X=K,b=J,N=0,E=X;E;E=Hn(E))N++;for(E=0,V=b;V;V=Hn(V))E++;for(;0<N-E;)X=Hn(X),N--;for(;0<E-N;)b=Hn(b),E--;for(;N--;){if(X===b||b!==null&&X===b.alternate)break t;X=Hn(X),b=Hn(b)}X=null}else X=null;K!==null&&Bl(F,D,K,X,!1),J!==null&&Fe!==null&&Bl(F,Fe,J,X,!0)}}e:{if(D=T?Wn(T):window,K=D.nodeName&&D.nodeName.toLowerCase(),K==="select"||K==="input"&&D.type==="file")var Y=bf;else if(Sl(D))if(Nl)Y=If;else{Y=Tf;var ne=Ef}else(K=D.nodeName)&&K.toLowerCase()==="input"&&(D.type==="checkbox"||D.type==="radio")&&(Y=jf);if(Y&&(Y=Y(e,T))){kl(F,Y,n,A);break e}ne&&ne(e,D,T),e==="focusout"&&(ne=D._wrapperState)&&ne.controlled&&D.type==="number"&&Z(D,"number",D.value)}switch(ne=T?Wn(T):window,e){case"focusin":(Sl(ne)||ne.contentEditable==="true")&&(Un=ne,no=T,Rr=null);break;case"focusout":Rr=no=Un=null;break;case"mousedown":ro=!0;break;case"contextmenu":case"mouseup":case"dragend":ro=!1,Ml(F,n,A);break;case"selectionchange":if(Rf)break;case"keydown":case"keyup":Ml(F,n,A)}var re;if(Yi)e:{switch(e){case"compositionstart":var ie="onCompositionStart";break e;case"compositionend":ie="onCompositionEnd";break e;case"compositionupdate":ie="onCompositionUpdate";break e}ie=void 0}else Bn?xl(e,n)&&(ie="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ie="onCompositionStart");ie&&(gl&&n.locale!=="ko"&&(Bn||ie!=="onCompositionStart"?ie==="onCompositionEnd"&&Bn&&(re=dl()):(Xt=A,Ki="value"in Xt?Xt.value:Xt.textContent,Bn=!0)),ne=ja(T,ie),0<ne.length&&(ie=new pl(ie,e,null,n,A),F.push({event:ie,listeners:ne}),re?ie.data=re:(re=wl(n),re!==null&&(ie.data=re)))),(re=wf?Sf(e,n):kf(e,n))&&(T=ja(T,"onBeforeInput"),0<T.length&&(A=new pl("onBeforeInput","beforeinput",null,n,A),F.push({event:A,listeners:T}),A.data=re))}Vl(F,t)})}function Or(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ja(e,t){for(var n=t+"Capture",i=[];e!==null;){var s=e,c=s.stateNode;s.tag===5&&c!==null&&(s=c,c=gr(e,n),c!=null&&i.unshift(Or(e,c,s)),c=gr(e,t),c!=null&&i.push(Or(e,c,s))),e=e.return}return i}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bl(e,t,n,i,s){for(var c=t._reactName,m=[];n!==null&&n!==i;){var x=n,S=x.alternate,T=x.stateNode;if(S!==null&&S===i)break;x.tag===5&&T!==null&&(x=T,s?(S=gr(n,c),S!=null&&m.unshift(Or(n,S,x))):s||(S=gr(n,c),S!=null&&m.push(Or(n,S,x)))),n=n.return}m.length!==0&&e.push({event:t,listeners:m})}var Df=/\r\n?/g,Af=/\u0000|\uFFFD/g;function Ul(e){return(typeof e=="string"?e:""+e).replace(Df,`
`).replace(Af,"")}function Ia(e,t,n){if(t=Ul(t),Ul(e)!==t&&n)throw Error(a(425))}function _a(){}var uo=null,co=null;function fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var mo=typeof setTimeout=="function"?setTimeout:void 0,Ff=typeof clearTimeout=="function"?clearTimeout:void 0,Gl=typeof Promise=="function"?Promise:void 0,zf=typeof queueMicrotask=="function"?queueMicrotask:typeof Gl<"u"?function(e){return Gl.resolve(null).then(e).catch(Vf)}:mo;function Vf(e){setTimeout(function(){throw e})}function po(e,t){var n=t,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){e.removeChild(s),br(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);br(t)}function Zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kn=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Kn,Dr="__reactProps$"+Kn,At="__reactContainer$"+Kn,ho="__reactEvents$"+Kn,$f="__reactListeners$"+Kn,Bf="__reactHandles$"+Kn;function wn(e){var t=e[Rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[At]||n[Rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hl(e);e!==null;){if(n=e[Rt])return n;e=Hl(e)}return t}e=n,n=e.parentNode}return null}function Ar(e){return e=e[Rt]||e[At],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Wn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function Ma(e){return e[Dr]||null}var go=[],Qn=-1;function en(e){return{current:e}}function _e(e){0>Qn||(e.current=go[Qn],go[Qn]=null,Qn--)}function je(e,t){Qn++,go[Qn]=e.current,e.current=t}var tn={},Ye=en(tn),st=en(!1),Sn=tn;function qn(e,t){var n=e.type.contextTypes;if(!n)return tn;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var s={},c;for(c in n)s[c]=t[c];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function lt(e){return e=e.childContextTypes,e!=null}function Ra(){_e(st),_e(Ye)}function Kl(e,t,n){if(Ye.current!==tn)throw Error(a(168));je(Ye,t),je(st,n)}function Wl(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in t))throw Error(a(108,be(e)||"Unknown",s));return B({},n,i)}function Pa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tn,Sn=Ye.current,je(Ye,e),je(st,st.current),!0}function Ql(e,t,n){var i=e.stateNode;if(!i)throw Error(a(169));n?(e=Wl(e,t,Sn),i.__reactInternalMemoizedMergedChildContext=e,_e(st),_e(Ye),je(Ye,e)):_e(st),je(st,n)}var Ft=null,La=!1,yo=!1;function ql(e){Ft===null?Ft=[e]:Ft.push(e)}function Uf(e){La=!0,ql(e)}function nn(){if(!yo&&Ft!==null){yo=!0;var e=0,t=Ce;try{var n=Ft;for(Ce=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Ft=null,La=!1}catch(s){throw Ft!==null&&(Ft=Ft.slice(e+1)),Xs(Fi,nn),s}finally{Ce=t,yo=!1}}return null}var Jn=[],Xn=0,Oa=null,Da=0,yt=[],vt=0,kn=null,zt=1,Vt="";function Nn(e,t){Jn[Xn++]=Da,Jn[Xn++]=Oa,Oa=e,Da=t}function Jl(e,t,n){yt[vt++]=zt,yt[vt++]=Vt,yt[vt++]=kn,kn=e;var i=zt;e=Vt;var s=32-Nt(i)-1;i&=~(1<<s),n+=1;var c=32-Nt(t)+s;if(30<c){var m=s-s%5;c=(i&(1<<m)-1).toString(32),i>>=m,s-=m,zt=1<<32-Nt(t)+s|n<<s|i,Vt=c+e}else zt=1<<c|n<<s|i,Vt=e}function vo(e){e.return!==null&&(Nn(e,1),Jl(e,1,0))}function xo(e){for(;e===Oa;)Oa=Jn[--Xn],Jn[Xn]=null,Da=Jn[--Xn],Jn[Xn]=null;for(;e===kn;)kn=yt[--vt],yt[vt]=null,Vt=yt[--vt],yt[vt]=null,zt=yt[--vt],yt[vt]=null}var pt=null,ht=null,Me=!1,bt=null;function Xl(e,t){var n=kt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yl(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,pt=e,ht=Zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,pt=e,ht=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=kn!==null?{id:zt,overflow:Vt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=kt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,pt=e,ht=null,!0):!1;default:return!1}}function wo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function So(e){if(Me){var t=ht;if(t){var n=t;if(!Yl(e,t)){if(wo(e))throw Error(a(418));t=Zt(n.nextSibling);var i=pt;t&&Yl(e,t)?Xl(i,n):(e.flags=e.flags&-4097|2,Me=!1,pt=e)}}else{if(wo(e))throw Error(a(418));e.flags=e.flags&-4097|2,Me=!1,pt=e}}}function Zl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;pt=e}function Aa(e){if(e!==pt)return!1;if(!Me)return Zl(e),Me=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fo(e.type,e.memoizedProps)),t&&(t=ht)){if(wo(e))throw eu(),Error(a(418));for(;t;)Xl(e,t),t=Zt(t.nextSibling)}if(Zl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ht=Zt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ht=null}}else ht=pt?Zt(e.stateNode.nextSibling):null;return!0}function eu(){for(var e=ht;e;)e=Zt(e.nextSibling)}function Yn(){ht=pt=null,Me=!1}function ko(e){bt===null?bt=[e]:bt.push(e)}var Gf=W.ReactCurrentBatchConfig;function Fr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(a(309));var i=n.stateNode}if(!i)throw Error(a(147,e));var s=i,c=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===c?t.ref:(t=function(m){var x=s.refs;m===null?delete x[c]:x[c]=m},t._stringRef=c,t)}if(typeof e!="string")throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function Fa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function tu(e){var t=e._init;return t(e._payload)}function nu(e){function t(b,N){if(e){var E=b.deletions;E===null?(b.deletions=[N],b.flags|=16):E.push(N)}}function n(b,N){if(!e)return null;for(;N!==null;)t(b,N),N=N.sibling;return null}function i(b,N){for(b=new Map;N!==null;)N.key!==null?b.set(N.key,N):b.set(N.index,N),N=N.sibling;return b}function s(b,N){return b=dn(b,N),b.index=0,b.sibling=null,b}function c(b,N,E){return b.index=E,e?(E=b.alternate,E!==null?(E=E.index,E<N?(b.flags|=2,N):E):(b.flags|=2,N)):(b.flags|=1048576,N)}function m(b){return e&&b.alternate===null&&(b.flags|=2),b}function x(b,N,E,V){return N===null||N.tag!==6?(N=ms(E,b.mode,V),N.return=b,N):(N=s(N,E),N.return=b,N)}function S(b,N,E,V){var Y=E.type;return Y===ae?A(b,N,E.props.children,V,E.key):N!==null&&(N.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ge&&tu(Y)===N.type)?(V=s(N,E.props),V.ref=Fr(b,N,E),V.return=b,V):(V=li(E.type,E.key,E.props,null,b.mode,V),V.ref=Fr(b,N,E),V.return=b,V)}function T(b,N,E,V){return N===null||N.tag!==4||N.stateNode.containerInfo!==E.containerInfo||N.stateNode.implementation!==E.implementation?(N=ps(E,b.mode,V),N.return=b,N):(N=s(N,E.children||[]),N.return=b,N)}function A(b,N,E,V,Y){return N===null||N.tag!==7?(N=Mn(E,b.mode,V,Y),N.return=b,N):(N=s(N,E),N.return=b,N)}function F(b,N,E){if(typeof N=="string"&&N!==""||typeof N=="number")return N=ms(""+N,b.mode,E),N.return=b,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return E=li(N.type,N.key,N.props,null,b.mode,E),E.ref=Fr(b,null,N),E.return=b,E;case ce:return N=ps(N,b.mode,E),N.return=b,N;case ge:var V=N._init;return F(b,V(N._payload),E)}if(ee(N)||q(N))return N=Mn(N,b.mode,E,null),N.return=b,N;Fa(b,N)}return null}function D(b,N,E,V){var Y=N!==null?N.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return Y!==null?null:x(b,N,""+E,V);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case H:return E.key===Y?S(b,N,E,V):null;case ce:return E.key===Y?T(b,N,E,V):null;case ge:return Y=E._init,D(b,N,Y(E._payload),V)}if(ee(E)||q(E))return Y!==null?null:A(b,N,E,V,null);Fa(b,E)}return null}function K(b,N,E,V,Y){if(typeof V=="string"&&V!==""||typeof V=="number")return b=b.get(E)||null,x(N,b,""+V,Y);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case H:return b=b.get(V.key===null?E:V.key)||null,S(N,b,V,Y);case ce:return b=b.get(V.key===null?E:V.key)||null,T(N,b,V,Y);case ge:var ne=V._init;return K(b,N,E,ne(V._payload),Y)}if(ee(V)||q(V))return b=b.get(E)||null,A(N,b,V,Y,null);Fa(N,V)}return null}function J(b,N,E,V){for(var Y=null,ne=null,re=N,ie=N=0,qe=null;re!==null&&ie<E.length;ie++){re.index>ie?(qe=re,re=null):qe=re.sibling;var Se=D(b,re,E[ie],V);if(Se===null){re===null&&(re=qe);break}e&&re&&Se.alternate===null&&t(b,re),N=c(Se,N,ie),ne===null?Y=Se:ne.sibling=Se,ne=Se,re=qe}if(ie===E.length)return n(b,re),Me&&Nn(b,ie),Y;if(re===null){for(;ie<E.length;ie++)re=F(b,E[ie],V),re!==null&&(N=c(re,N,ie),ne===null?Y=re:ne.sibling=re,ne=re);return Me&&Nn(b,ie),Y}for(re=i(b,re);ie<E.length;ie++)qe=K(re,b,ie,E[ie],V),qe!==null&&(e&&qe.alternate!==null&&re.delete(qe.key===null?ie:qe.key),N=c(qe,N,ie),ne===null?Y=qe:ne.sibling=qe,ne=qe);return e&&re.forEach(function(fn){return t(b,fn)}),Me&&Nn(b,ie),Y}function X(b,N,E,V){var Y=q(E);if(typeof Y!="function")throw Error(a(150));if(E=Y.call(E),E==null)throw Error(a(151));for(var ne=Y=null,re=N,ie=N=0,qe=null,Se=E.next();re!==null&&!Se.done;ie++,Se=E.next()){re.index>ie?(qe=re,re=null):qe=re.sibling;var fn=D(b,re,Se.value,V);if(fn===null){re===null&&(re=qe);break}e&&re&&fn.alternate===null&&t(b,re),N=c(fn,N,ie),ne===null?Y=fn:ne.sibling=fn,ne=fn,re=qe}if(Se.done)return n(b,re),Me&&Nn(b,ie),Y;if(re===null){for(;!Se.done;ie++,Se=E.next())Se=F(b,Se.value,V),Se!==null&&(N=c(Se,N,ie),ne===null?Y=Se:ne.sibling=Se,ne=Se);return Me&&Nn(b,ie),Y}for(re=i(b,re);!Se.done;ie++,Se=E.next())Se=K(re,b,ie,Se.value,V),Se!==null&&(e&&Se.alternate!==null&&re.delete(Se.key===null?ie:Se.key),N=c(Se,N,ie),ne===null?Y=Se:ne.sibling=Se,ne=Se);return e&&re.forEach(function(Nm){return t(b,Nm)}),Me&&Nn(b,ie),Y}function Fe(b,N,E,V){if(typeof E=="object"&&E!==null&&E.type===ae&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case H:e:{for(var Y=E.key,ne=N;ne!==null;){if(ne.key===Y){if(Y=E.type,Y===ae){if(ne.tag===7){n(b,ne.sibling),N=s(ne,E.props.children),N.return=b,b=N;break e}}else if(ne.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===ge&&tu(Y)===ne.type){n(b,ne.sibling),N=s(ne,E.props),N.ref=Fr(b,ne,E),N.return=b,b=N;break e}n(b,ne);break}else t(b,ne);ne=ne.sibling}E.type===ae?(N=Mn(E.props.children,b.mode,V,E.key),N.return=b,b=N):(V=li(E.type,E.key,E.props,null,b.mode,V),V.ref=Fr(b,N,E),V.return=b,b=V)}return m(b);case ce:e:{for(ne=E.key;N!==null;){if(N.key===ne)if(N.tag===4&&N.stateNode.containerInfo===E.containerInfo&&N.stateNode.implementation===E.implementation){n(b,N.sibling),N=s(N,E.children||[]),N.return=b,b=N;break e}else{n(b,N);break}else t(b,N);N=N.sibling}N=ps(E,b.mode,V),N.return=b,b=N}return m(b);case ge:return ne=E._init,Fe(b,N,ne(E._payload),V)}if(ee(E))return J(b,N,E,V);if(q(E))return X(b,N,E,V);Fa(b,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,N!==null&&N.tag===6?(n(b,N.sibling),N=s(N,E),N.return=b,b=N):(n(b,N),N=ms(E,b.mode,V),N.return=b,b=N),m(b)):n(b,N)}return Fe}var Zn=nu(!0),ru=nu(!1),za=en(null),Va=null,er=null,No=null;function Co(){No=er=Va=null}function bo(e){var t=za.current;_e(za),e._currentValue=t}function Eo(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){Va=e,No=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(ut=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(No!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(Va===null)throw Error(a(308));er=e,Va.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var Cn=null;function To(e){Cn===null?Cn=[e]:Cn.push(e)}function au(e,t,n,i){var s=t.interleaved;return s===null?(n.next=n,To(t)):(n.next=s.next,s.next=n),t.interleaved=n,$t(e,i)}function $t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var rn=!1;function jo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iu(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function an(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(we&2)!==0){var s=i.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),i.pending=t,$t(e,n)}return s=i.interleaved,s===null?(t.next=t,To(i)):(t.next=s.next,s.next=t),i.interleaved=t,$t(e,n)}function $a(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$i(e,n)}}function ou(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var m={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};c===null?s=c=m:c=c.next=m,n=n.next}while(n!==null);c===null?s=c=t:c=c.next=t}else s=c=t;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:c,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ba(e,t,n,i){var s=e.updateQueue;rn=!1;var c=s.firstBaseUpdate,m=s.lastBaseUpdate,x=s.shared.pending;if(x!==null){s.shared.pending=null;var S=x,T=S.next;S.next=null,m===null?c=T:m.next=T,m=S;var A=e.alternate;A!==null&&(A=A.updateQueue,x=A.lastBaseUpdate,x!==m&&(x===null?A.firstBaseUpdate=T:x.next=T,A.lastBaseUpdate=S))}if(c!==null){var F=s.baseState;m=0,A=T=S=null,x=c;do{var D=x.lane,K=x.eventTime;if((i&D)===D){A!==null&&(A=A.next={eventTime:K,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var J=e,X=x;switch(D=t,K=n,X.tag){case 1:if(J=X.payload,typeof J=="function"){F=J.call(K,F,D);break e}F=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=X.payload,D=typeof J=="function"?J.call(K,F,D):J,D==null)break e;F=B({},F,D);break e;case 2:rn=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,D=s.effects,D===null?s.effects=[x]:D.push(x))}else K={eventTime:K,lane:D,tag:x.tag,payload:x.payload,callback:x.callback,next:null},A===null?(T=A=K,S=F):A=A.next=K,m|=D;if(x=x.next,x===null){if(x=s.shared.pending,x===null)break;D=x,x=D.next,D.next=null,s.lastBaseUpdate=D,s.shared.pending=null}}while(!0);if(A===null&&(S=F),s.baseState=S,s.firstBaseUpdate=T,s.lastBaseUpdate=A,t=s.shared.interleaved,t!==null){s=t;do m|=s.lane,s=s.next;while(s!==t)}else c===null&&(s.shared.lanes=0);Tn|=m,e.lanes=m,e.memoizedState=F}}function su(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(a(191,s));s.call(i)}}}var zr={},Pt=en(zr),Vr=en(zr),$r=en(zr);function bn(e){if(e===zr)throw Error(a(174));return e}function Io(e,t){switch(je($r,t),je(Vr,e),je(Pt,zr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ii(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ii(t,e)}_e(Pt),je(Pt,t)}function nr(){_e(Pt),_e(Vr),_e($r)}function lu(e){bn($r.current);var t=bn(Pt.current),n=Ii(t,e.type);t!==n&&(je(Vr,e),je(Pt,n))}function _o(e){Vr.current===e&&(_e(Pt),_e(Vr))}var Re=en(0);function Ua(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Mo=[];function Ro(){for(var e=0;e<Mo.length;e++)Mo[e]._workInProgressVersionPrimary=null;Mo.length=0}var Ga=W.ReactCurrentDispatcher,Po=W.ReactCurrentBatchConfig,En=0,Pe=null,He=null,We=null,Ha=!1,Br=!1,Ur=0,Hf=0;function Ze(){throw Error(a(321))}function Lo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ct(e[n],t[n]))return!1;return!0}function Oo(e,t,n,i,s,c){if(En=c,Pe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ga.current=e===null||e.memoizedState===null?qf:Jf,e=n(i,s),Br){c=0;do{if(Br=!1,Ur=0,25<=c)throw Error(a(301));c+=1,We=He=null,t.updateQueue=null,Ga.current=Xf,e=n(i,s)}while(Br)}if(Ga.current=Qa,t=He!==null&&He.next!==null,En=0,We=He=Pe=null,Ha=!1,t)throw Error(a(300));return e}function Do(){var e=Ur!==0;return Ur=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return We===null?Pe.memoizedState=We=e:We=We.next=e,We}function wt(){if(He===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=We===null?Pe.memoizedState:We.next;if(t!==null)We=t,He=e;else{if(e===null)throw Error(a(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},We===null?Pe.memoizedState=We=e:We=We.next=e}return We}function Gr(e,t){return typeof t=="function"?t(e):t}function Ao(e){var t=wt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var i=He,s=i.baseQueue,c=n.pending;if(c!==null){if(s!==null){var m=s.next;s.next=c.next,c.next=m}i.baseQueue=s=c,n.pending=null}if(s!==null){c=s.next,i=i.baseState;var x=m=null,S=null,T=c;do{var A=T.lane;if((En&A)===A)S!==null&&(S=S.next={lane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),i=T.hasEagerState?T.eagerState:e(i,T.action);else{var F={lane:A,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null};S===null?(x=S=F,m=i):S=S.next=F,Pe.lanes|=A,Tn|=A}T=T.next}while(T!==null&&T!==c);S===null?m=i:S.next=x,Ct(i,t.memoizedState)||(ut=!0),t.memoizedState=i,t.baseState=m,t.baseQueue=S,n.lastRenderedState=i}if(e=n.interleaved,e!==null){s=e;do c=s.lane,Pe.lanes|=c,Tn|=c,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fo(e){var t=wt(),n=t.queue;if(n===null)throw Error(a(311));n.lastRenderedReducer=e;var i=n.dispatch,s=n.pending,c=t.memoizedState;if(s!==null){n.pending=null;var m=s=s.next;do c=e(c,m.action),m=m.next;while(m!==s);Ct(c,t.memoizedState)||(ut=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,i]}function uu(){}function cu(e,t){var n=Pe,i=wt(),s=t(),c=!Ct(i.memoizedState,s);if(c&&(i.memoizedState=s,ut=!0),i=i.queue,zo(mu.bind(null,n,i,e),[e]),i.getSnapshot!==t||c||We!==null&&We.memoizedState.tag&1){if(n.flags|=2048,Hr(9,fu.bind(null,n,i,s,t),void 0,null),Qe===null)throw Error(a(349));(En&30)!==0||du(n,t,s)}return s}function du(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function fu(e,t,n,i){t.value=n,t.getSnapshot=i,pu(t)&&hu(e)}function mu(e,t,n){return n(function(){pu(t)&&hu(e)})}function pu(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ct(e,n)}catch{return!0}}function hu(e){var t=$t(e,1);t!==null&&It(t,e,1,-1)}function gu(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gr,lastRenderedState:e},t.queue=e,e=e.dispatch=Qf.bind(null,Pe,e),[t.memoizedState,e]}function Hr(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=Pe.updateQueue,t===null?(t={lastEffect:null,stores:null},Pe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function yu(){return wt().memoizedState}function Ka(e,t,n,i){var s=Lt();Pe.flags|=e,s.memoizedState=Hr(1|t,n,void 0,i===void 0?null:i)}function Wa(e,t,n,i){var s=wt();i=i===void 0?null:i;var c=void 0;if(He!==null){var m=He.memoizedState;if(c=m.destroy,i!==null&&Lo(i,m.deps)){s.memoizedState=Hr(t,n,c,i);return}}Pe.flags|=e,s.memoizedState=Hr(1|t,n,c,i)}function vu(e,t){return Ka(8390656,8,e,t)}function zo(e,t){return Wa(2048,8,e,t)}function xu(e,t){return Wa(4,2,e,t)}function wu(e,t){return Wa(4,4,e,t)}function Su(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ku(e,t,n){return n=n!=null?n.concat([e]):null,Wa(4,4,Su.bind(null,t,e),n)}function Vo(){}function Nu(e,t){var n=wt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Lo(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Cu(e,t){var n=wt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&Lo(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function bu(e,t,n){return(En&21)===0?(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=n):(Ct(n,t)||(n=tl(),Pe.lanes|=n,Tn|=n,e.baseState=!0),t)}function Kf(e,t){var n=Ce;Ce=n!==0&&4>n?n:4,e(!0);var i=Po.transition;Po.transition={};try{e(!1),t()}finally{Ce=n,Po.transition=i}}function Eu(){return wt().memoizedState}function Wf(e,t,n){var i=un(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Tu(e))ju(t,n);else if(n=au(e,t,n,i),n!==null){var s=it();It(n,e,i,s),Iu(n,t,i)}}function Qf(e,t,n){var i=un(e),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Tu(e))ju(t,s);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var m=t.lastRenderedState,x=c(m,n);if(s.hasEagerState=!0,s.eagerState=x,Ct(x,m)){var S=t.interleaved;S===null?(s.next=s,To(t)):(s.next=S.next,S.next=s),t.interleaved=s;return}}catch{}finally{}n=au(e,t,s,i),n!==null&&(s=it(),It(n,e,i,s),Iu(n,t,i))}}function Tu(e){var t=e.alternate;return e===Pe||t!==null&&t===Pe}function ju(e,t){Br=Ha=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Iu(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,$i(e,n)}}var Qa={readContext:xt,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},qf={readContext:xt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:vu,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Ka(4194308,4,Su.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ka(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ka(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Lt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Wf.bind(null,Pe,e),[i.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:gu,useDebugValue:Vo,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=gu(!1),t=e[0];return e=Kf.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=Pe,s=Lt();if(Me){if(n===void 0)throw Error(a(407));n=n()}else{if(n=t(),Qe===null)throw Error(a(349));(En&30)!==0||du(i,t,n)}s.memoizedState=n;var c={value:n,getSnapshot:t};return s.queue=c,vu(mu.bind(null,i,c,e),[e]),i.flags|=2048,Hr(9,fu.bind(null,i,c,n,t),void 0,null),n},useId:function(){var e=Lt(),t=Qe.identifierPrefix;if(Me){var n=Vt,i=zt;n=(i&~(1<<32-Nt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ur++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Hf++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Jf={readContext:xt,useCallback:Nu,useContext:xt,useEffect:zo,useImperativeHandle:ku,useInsertionEffect:xu,useLayoutEffect:wu,useMemo:Cu,useReducer:Ao,useRef:yu,useState:function(){return Ao(Gr)},useDebugValue:Vo,useDeferredValue:function(e){var t=wt();return bu(t,He.memoizedState,e)},useTransition:function(){var e=Ao(Gr)[0],t=wt().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:cu,useId:Eu,unstable_isNewReconciler:!1},Xf={readContext:xt,useCallback:Nu,useContext:xt,useEffect:zo,useImperativeHandle:ku,useInsertionEffect:xu,useLayoutEffect:wu,useMemo:Cu,useReducer:Fo,useRef:yu,useState:function(){return Fo(Gr)},useDebugValue:Vo,useDeferredValue:function(e){var t=wt();return He===null?t.memoizedState=e:bu(t,He.memoizedState,e)},useTransition:function(){var e=Fo(Gr)[0],t=wt().memoizedState;return[e,t]},useMutableSource:uu,useSyncExternalStore:cu,useId:Eu,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=B({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $o(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:B({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var qa={isMounted:function(e){return(e=e._reactInternals)?xn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=it(),s=un(e),c=Bt(i,s);c.payload=t,n!=null&&(c.callback=n),t=an(e,c,s),t!==null&&(It(t,e,s,i),$a(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=it(),s=un(e),c=Bt(i,s);c.tag=1,c.payload=t,n!=null&&(c.callback=n),t=an(e,c,s),t!==null&&(It(t,e,s,i),$a(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=it(),i=un(e),s=Bt(n,i);s.tag=2,t!=null&&(s.callback=t),t=an(e,s,i),t!==null&&(It(t,e,i,n),$a(t,e,i))}};function _u(e,t,n,i,s,c,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,c,m):t.prototype&&t.prototype.isPureReactComponent?!Mr(n,i)||!Mr(s,c):!0}function Mu(e,t,n){var i=!1,s=tn,c=t.contextType;return typeof c=="object"&&c!==null?c=xt(c):(s=lt(t)?Sn:Ye.current,i=t.contextTypes,c=(i=i!=null)?qn(e,s):tn),t=new t(n,c),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=qa,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=c),t}function Ru(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&qa.enqueueReplaceState(t,t.state,null)}function Bo(e,t,n,i){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},jo(e);var c=t.contextType;typeof c=="object"&&c!==null?s.context=xt(c):(c=lt(t)?Sn:Ye.current,s.context=qn(e,c)),s.state=e.memoizedState,c=t.getDerivedStateFromProps,typeof c=="function"&&($o(e,t,c,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&qa.enqueueReplaceState(s,s.state,null),Ba(e,n,s,i),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function rr(e,t){try{var n="",i=t;do n+=ye(i),i=i.return;while(i);var s=n}catch(c){s=`
Error generating stack: `+c.message+`
`+c.stack}return{value:e,source:t,stack:s,digest:null}}function Uo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Go(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Yf=typeof WeakMap=="function"?WeakMap:Map;function Pu(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){ni||(ni=!0,is=i),Go(e,t)},n}function Lu(e,t,n){n=Bt(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var s=t.value;n.payload=function(){return i(s)},n.callback=function(){Go(e,t)}}var c=e.stateNode;return c!==null&&typeof c.componentDidCatch=="function"&&(n.callback=function(){Go(e,t),typeof i!="function"&&(sn===null?sn=new Set([this]):sn.add(this));var m=t.stack;this.componentDidCatch(t.value,{componentStack:m!==null?m:""})}),n}function Ou(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Yf;var s=new Set;i.set(t,s)}else s=i.get(t),s===void 0&&(s=new Set,i.set(t,s));s.has(n)||(s.add(n),e=fm.bind(null,e,t,n),t.then(e,e))}function Du(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Au(e,t,n,i,s){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,an(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var Zf=W.ReactCurrentOwner,ut=!1;function at(e,t,n,i){t.child=e===null?ru(t,null,n,i):Zn(t,e.child,n,i)}function Fu(e,t,n,i,s){n=n.render;var c=t.ref;return tr(t,s),i=Oo(e,t,n,i,c,s),n=Do(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(Me&&n&&vo(t),t.flags|=1,at(e,t,i,s),t.child)}function zu(e,t,n,i,s){if(e===null){var c=n.type;return typeof c=="function"&&!fs(c)&&c.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=c,Vu(e,t,c,i,s)):(e=li(n.type,null,i,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,(e.lanes&s)===0){var m=c.memoizedProps;if(n=n.compare,n=n!==null?n:Mr,n(m,i)&&e.ref===t.ref)return Ut(e,t,s)}return t.flags|=1,e=dn(c,i),e.ref=t.ref,e.return=t,t.child=e}function Vu(e,t,n,i,s){if(e!==null){var c=e.memoizedProps;if(Mr(c,i)&&e.ref===t.ref)if(ut=!1,t.pendingProps=i=c,(e.lanes&s)!==0)(e.flags&131072)!==0&&(ut=!0);else return t.lanes=e.lanes,Ut(e,t,s)}return Ho(e,t,n,i,s)}function $u(e,t,n){var i=t.pendingProps,s=i.children,c=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(ir,gt),gt|=n;else{if((n&1073741824)===0)return e=c!==null?c.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(ir,gt),gt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=c!==null?c.baseLanes:n,je(ir,gt),gt|=i}else c!==null?(i=c.baseLanes|n,t.memoizedState=null):i=n,je(ir,gt),gt|=i;return at(e,t,s,n),t.child}function Bu(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ho(e,t,n,i,s){var c=lt(n)?Sn:Ye.current;return c=qn(t,c),tr(t,s),n=Oo(e,t,n,i,c,s),i=Do(),e!==null&&!ut?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ut(e,t,s)):(Me&&i&&vo(t),t.flags|=1,at(e,t,n,s),t.child)}function Uu(e,t,n,i,s){if(lt(n)){var c=!0;Pa(t)}else c=!1;if(tr(t,s),t.stateNode===null)Xa(e,t),Mu(t,n,i),Bo(t,n,i,s),i=!0;else if(e===null){var m=t.stateNode,x=t.memoizedProps;m.props=x;var S=m.context,T=n.contextType;typeof T=="object"&&T!==null?T=xt(T):(T=lt(n)?Sn:Ye.current,T=qn(t,T));var A=n.getDerivedStateFromProps,F=typeof A=="function"||typeof m.getSnapshotBeforeUpdate=="function";F||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==i||S!==T)&&Ru(t,m,i,T),rn=!1;var D=t.memoizedState;m.state=D,Ba(t,i,m,s),S=t.memoizedState,x!==i||D!==S||st.current||rn?(typeof A=="function"&&($o(t,n,A,i),S=t.memoizedState),(x=rn||_u(t,n,x,i,D,S,T))?(F||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(t.flags|=4194308)):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=S),m.props=i,m.state=S,m.context=T,i=x):(typeof m.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{m=t.stateNode,iu(e,t),x=t.memoizedProps,T=t.type===t.elementType?x:Et(t.type,x),m.props=T,F=t.pendingProps,D=m.context,S=n.contextType,typeof S=="object"&&S!==null?S=xt(S):(S=lt(n)?Sn:Ye.current,S=qn(t,S));var K=n.getDerivedStateFromProps;(A=typeof K=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(x!==F||D!==S)&&Ru(t,m,i,S),rn=!1,D=t.memoizedState,m.state=D,Ba(t,i,m,s);var J=t.memoizedState;x!==F||D!==J||st.current||rn?(typeof K=="function"&&($o(t,n,K,i),J=t.memoizedState),(T=rn||_u(t,n,T,i,D,J,S)||!1)?(A||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(i,J,S),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(i,J,S)),typeof m.componentDidUpdate=="function"&&(t.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=J),m.props=i,m.state=J,m.context=S,i=T):(typeof m.componentDidUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&D===e.memoizedState||(t.flags|=1024),i=!1)}return Ko(e,t,n,i,c,s)}function Ko(e,t,n,i,s,c){Bu(e,t);var m=(t.flags&128)!==0;if(!i&&!m)return s&&Ql(t,n,!1),Ut(e,t,c);i=t.stateNode,Zf.current=t;var x=m&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&m?(t.child=Zn(t,e.child,null,c),t.child=Zn(t,null,x,c)):at(e,t,x,c),t.memoizedState=i.state,s&&Ql(t,n,!0),t.child}function Gu(e){var t=e.stateNode;t.pendingContext?Kl(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Kl(e,t.context,!1),Io(e,t.containerInfo)}function Hu(e,t,n,i,s){return Yn(),ko(s),t.flags|=256,at(e,t,n,i),t.child}var Wo={dehydrated:null,treeContext:null,retryLane:0};function Qo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ku(e,t,n){var i=t.pendingProps,s=Re.current,c=!1,m=(t.flags&128)!==0,x;if((x=m)||(x=e!==null&&e.memoizedState===null?!1:(s&2)!==0),x?(c=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Re,s&1),e===null)return So(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(m=i.children,e=i.fallback,c?(i=t.mode,c=t.child,m={mode:"hidden",children:m},(i&1)===0&&c!==null?(c.childLanes=0,c.pendingProps=m):c=ui(m,i,0,null),e=Mn(e,i,n,null),c.return=t,e.return=t,c.sibling=e,t.child=c,t.child.memoizedState=Qo(n),t.memoizedState=Wo,e):qo(t,m));if(s=e.memoizedState,s!==null&&(x=s.dehydrated,x!==null))return em(e,t,m,i,x,s,n);if(c){c=i.fallback,m=t.mode,s=e.child,x=s.sibling;var S={mode:"hidden",children:i.children};return(m&1)===0&&t.child!==s?(i=t.child,i.childLanes=0,i.pendingProps=S,t.deletions=null):(i=dn(s,S),i.subtreeFlags=s.subtreeFlags&14680064),x!==null?c=dn(x,c):(c=Mn(c,m,n,null),c.flags|=2),c.return=t,i.return=t,i.sibling=c,t.child=i,i=c,c=t.child,m=e.child.memoizedState,m=m===null?Qo(n):{baseLanes:m.baseLanes|n,cachePool:null,transitions:m.transitions},c.memoizedState=m,c.childLanes=e.childLanes&~n,t.memoizedState=Wo,i}return c=e.child,e=c.sibling,i=dn(c,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qo(e,t){return t=ui({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ja(e,t,n,i){return i!==null&&ko(i),Zn(t,e.child,null,n),e=qo(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function em(e,t,n,i,s,c,m){if(n)return t.flags&256?(t.flags&=-257,i=Uo(Error(a(422))),Ja(e,t,m,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(c=i.fallback,s=t.mode,i=ui({mode:"visible",children:i.children},s,0,null),c=Mn(c,s,m,null),c.flags|=2,i.return=t,c.return=t,i.sibling=c,t.child=i,(t.mode&1)!==0&&Zn(t,e.child,null,m),t.child.memoizedState=Qo(m),t.memoizedState=Wo,c);if((t.mode&1)===0)return Ja(e,t,m,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var x=i.dgst;return i=x,c=Error(a(419)),i=Uo(c,i,void 0),Ja(e,t,m,i)}if(x=(m&e.childLanes)!==0,ut||x){if(i=Qe,i!==null){switch(m&-m){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=(s&(i.suspendedLanes|m))!==0?0:s,s!==0&&s!==c.retryLane&&(c.retryLane=s,$t(e,s),It(i,e,s,-1))}return ds(),i=Uo(Error(a(421))),Ja(e,t,m,i)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=mm.bind(null,e),s._reactRetry=t,null):(e=c.treeContext,ht=Zt(s.nextSibling),pt=t,Me=!0,bt=null,e!==null&&(yt[vt++]=zt,yt[vt++]=Vt,yt[vt++]=kn,zt=e.id,Vt=e.overflow,kn=t),t=qo(t,i.children),t.flags|=4096,t)}function Wu(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),Eo(e.return,t,n)}function Jo(e,t,n,i,s){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=i,c.tail=n,c.tailMode=s)}function Qu(e,t,n){var i=t.pendingProps,s=i.revealOrder,c=i.tail;if(at(e,t,i.children,n),i=Re.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wu(e,n,t);else if(e.tag===19)Wu(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(je(Re,i),(t.mode&1)===0)t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Ua(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Jo(t,!1,s,n,c);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ua(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Jo(t,!0,n,null,c);break;case"together":Jo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Xa(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ut(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tn|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(a(153));if(t.child!==null){for(e=t.child,n=dn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=dn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function tm(e,t,n){switch(t.tag){case 3:Gu(t),Yn();break;case 5:lu(t);break;case 1:lt(t.type)&&Pa(t);break;case 4:Io(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,s=t.memoizedProps.value;je(za,i._currentValue),i._currentValue=s;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(je(Re,Re.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Ku(e,t,n):(je(Re,Re.current&1),e=Ut(e,t,n),e!==null?e.sibling:null);je(Re,Re.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return Qu(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Re,Re.current),i)break;return null;case 22:case 23:return t.lanes=0,$u(e,t,n)}return Ut(e,t,n)}var qu,Xo,Ju,Xu;qu=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Xo=function(){},Ju=function(e,t,n,i){var s=e.memoizedProps;if(s!==i){e=t.stateNode,bn(Pt.current);var c=null;switch(n){case"input":s=Dn(e,s),i=Dn(e,i),c=[];break;case"select":s=B({},s,{value:void 0}),i=B({},i,{value:void 0}),c=[];break;case"textarea":s=De(e,s),i=De(e,i),c=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=_a)}_i(n,i);var m;n=null;for(T in s)if(!i.hasOwnProperty(T)&&s.hasOwnProperty(T)&&s[T]!=null)if(T==="style"){var x=s[T];for(m in x)x.hasOwnProperty(m)&&(n||(n={}),n[m]="")}else T!=="dangerouslySetInnerHTML"&&T!=="children"&&T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(u.hasOwnProperty(T)?c||(c=[]):(c=c||[]).push(T,null));for(T in i){var S=i[T];if(x=s?.[T],i.hasOwnProperty(T)&&S!==x&&(S!=null||x!=null))if(T==="style")if(x){for(m in x)!x.hasOwnProperty(m)||S&&S.hasOwnProperty(m)||(n||(n={}),n[m]="");for(m in S)S.hasOwnProperty(m)&&x[m]!==S[m]&&(n||(n={}),n[m]=S[m])}else n||(c||(c=[]),c.push(T,n)),n=S;else T==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,x=x?x.__html:void 0,S!=null&&x!==S&&(c=c||[]).push(T,S)):T==="children"?typeof S!="string"&&typeof S!="number"||(c=c||[]).push(T,""+S):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&(u.hasOwnProperty(T)?(S!=null&&T==="onScroll"&&Ie("scroll",e),c||x===S||(c=[])):(c=c||[]).push(T,S))}n&&(c=c||[]).push("style",n);var T=c;(t.updateQueue=T)&&(t.flags|=4)}},Xu=function(e,t,n,i){n!==i&&(t.flags|=4)};function Kr(e,t){if(!Me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function nm(e,t,n){var i=t.pendingProps;switch(xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(t),null;case 1:return lt(t.type)&&Ra(),et(t),null;case 3:return i=t.stateNode,nr(),_e(st),_e(Ye),Ro(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Aa(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,bt!==null&&(ls(bt),bt=null))),Xo(e,t),et(t),null;case 5:_o(t);var s=bn($r.current);if(n=t.type,e!==null&&t.stateNode!=null)Ju(e,t,n,i,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(a(166));return et(t),null}if(e=bn(Pt.current),Aa(t)){i=t.stateNode,n=t.type;var c=t.memoizedProps;switch(i[Rt]=t,i[Dr]=c,e=(t.mode&1)!==0,n){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(s=0;s<Pr.length;s++)Ie(Pr[s],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":sa(i,c),Ie("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!c.multiple},Ie("invalid",i);break;case"textarea":Ve(i,c),Ie("invalid",i)}_i(n,c),s=null;for(var m in c)if(c.hasOwnProperty(m)){var x=c[m];m==="children"?typeof x=="string"?i.textContent!==x&&(c.suppressHydrationWarning!==!0&&Ia(i.textContent,x,e),s=["children",x]):typeof x=="number"&&i.textContent!==""+x&&(c.suppressHydrationWarning!==!0&&Ia(i.textContent,x,e),s=["children",""+x]):u.hasOwnProperty(m)&&x!=null&&m==="onScroll"&&Ie("scroll",i)}switch(n){case"input":yn(i),L(i,c,!0);break;case"textarea":yn(i),Ds(i);break;case"select":case"option":break;default:typeof c.onClick=="function"&&(i.onclick=_a)}i=s,t.updateQueue=i,i!==null&&(t.flags|=4)}else{m=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=As(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=m.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=m.createElement(n,{is:i.is}):(e=m.createElement(n),n==="select"&&(m=e,i.multiple?m.multiple=!0:i.size&&(m.size=i.size))):e=m.createElementNS(e,n),e[Rt]=t,e[Dr]=i,qu(e,t,!1,!1),t.stateNode=e;e:{switch(m=Mi(n,i),n){case"dialog":Ie("cancel",e),Ie("close",e),s=i;break;case"iframe":case"object":case"embed":Ie("load",e),s=i;break;case"video":case"audio":for(s=0;s<Pr.length;s++)Ie(Pr[s],e);s=i;break;case"source":Ie("error",e),s=i;break;case"img":case"image":case"link":Ie("error",e),Ie("load",e),s=i;break;case"details":Ie("toggle",e),s=i;break;case"input":sa(e,i),s=Dn(e,i),Ie("invalid",e);break;case"option":s=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},s=B({},i,{value:void 0}),Ie("invalid",e);break;case"textarea":Ve(e,i),s=De(e,i),Ie("invalid",e);break;default:s=i}_i(n,s),x=s;for(c in x)if(x.hasOwnProperty(c)){var S=x[c];c==="style"?Vs(e,S):c==="dangerouslySetInnerHTML"?(S=S?S.__html:void 0,S!=null&&Fs(e,S)):c==="children"?typeof S=="string"?(n!=="textarea"||S!=="")&&pr(e,S):typeof S=="number"&&pr(e,""+S):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(u.hasOwnProperty(c)?S!=null&&c==="onScroll"&&Ie("scroll",e):S!=null&&U(e,c,S,m))}switch(n){case"input":yn(e),L(e,i,!1);break;case"textarea":yn(e),Ds(e);break;case"option":i.value!=null&&e.setAttribute("value",""+ke(i.value));break;case"select":e.multiple=!!i.multiple,c=i.value,c!=null?ve(e,!!i.multiple,c,!1):i.defaultValue!=null&&ve(e,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=_a)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return et(t),null;case 6:if(e&&t.stateNode!=null)Xu(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(a(166));if(n=bn($r.current),bn(Pt.current),Aa(t)){if(i=t.stateNode,n=t.memoizedProps,i[Rt]=t,(c=i.nodeValue!==n)&&(e=pt,e!==null))switch(e.tag){case 3:Ia(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ia(i.nodeValue,n,(e.mode&1)!==0)}c&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Rt]=t,t.stateNode=i}return et(t),null;case 13:if(_e(Re),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Me&&ht!==null&&(t.mode&1)!==0&&(t.flags&128)===0)eu(),Yn(),t.flags|=98560,c=!1;else if(c=Aa(t),i!==null&&i.dehydrated!==null){if(e===null){if(!c)throw Error(a(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[Rt]=t}else Yn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;et(t),c=!1}else bt!==null&&(ls(bt),bt=null),c=!0;if(!c)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Re.current&1)!==0?Ke===0&&(Ke=3):ds())),t.updateQueue!==null&&(t.flags|=4),et(t),null);case 4:return nr(),Xo(e,t),e===null&&Lr(t.stateNode.containerInfo),et(t),null;case 10:return bo(t.type._context),et(t),null;case 17:return lt(t.type)&&Ra(),et(t),null;case 19:if(_e(Re),c=t.memoizedState,c===null)return et(t),null;if(i=(t.flags&128)!==0,m=c.rendering,m===null)if(i)Kr(c,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(m=Ua(e),m!==null){for(t.flags|=128,Kr(c,!1),i=m.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)c=n,e=i,c.flags&=14680066,m=c.alternate,m===null?(c.childLanes=0,c.lanes=e,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,e=m.dependencies,c.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Re,Re.current&1|2),t.child}e=e.sibling}c.tail!==null&&Ae()>or&&(t.flags|=128,i=!0,Kr(c,!1),t.lanes=4194304)}else{if(!i)if(e=Ua(m),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Kr(c,!0),c.tail===null&&c.tailMode==="hidden"&&!m.alternate&&!Me)return et(t),null}else 2*Ae()-c.renderingStartTime>or&&n!==1073741824&&(t.flags|=128,i=!0,Kr(c,!1),t.lanes=4194304);c.isBackwards?(m.sibling=t.child,t.child=m):(n=c.last,n!==null?n.sibling=m:t.child=m,c.last=m)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=Ae(),t.sibling=null,n=Re.current,je(Re,i?n&1|2:n&1),t):(et(t),null);case 22:case 23:return cs(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(gt&1073741824)!==0&&(et(t),t.subtreeFlags&6&&(t.flags|=8192)):et(t),null;case 24:return null;case 25:return null}throw Error(a(156,t.tag))}function rm(e,t){switch(xo(t),t.tag){case 1:return lt(t.type)&&Ra(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nr(),_e(st),_e(Ye),Ro(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return _o(t),null;case 13:if(_e(Re),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(a(340));Yn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Re),null;case 4:return nr(),null;case 10:return bo(t.type._context),null;case 22:case 23:return cs(),null;case 24:return null;default:return null}}var Ya=!1,tt=!1,am=typeof WeakSet=="function"?WeakSet:Set,Q=null;function ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Oe(e,t,i)}else n.current=null}function Yo(e,t,n){try{n()}catch(i){Oe(e,t,i)}}var Yu=!1;function im(e,t){if(uo=va,e=_l(),to(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,c=i.focusNode;i=i.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var m=0,x=-1,S=-1,T=0,A=0,F=e,D=null;t:for(;;){for(var K;F!==n||s!==0&&F.nodeType!==3||(x=m+s),F!==c||i!==0&&F.nodeType!==3||(S=m+i),F.nodeType===3&&(m+=F.nodeValue.length),(K=F.firstChild)!==null;)D=F,F=K;for(;;){if(F===e)break t;if(D===n&&++T===s&&(x=m),D===c&&++A===i&&(S=m),(K=F.nextSibling)!==null)break;F=D,D=F.parentNode}F=K}n=x===-1||S===-1?null:{start:x,end:S}}else n=null}n=n||{start:0,end:0}}else n=null;for(co={focusedElem:e,selectionRange:n},va=!1,Q=t;Q!==null;)if(t=Q,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Q=e;else for(;Q!==null;){t=Q;try{var J=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(J!==null){var X=J.memoizedProps,Fe=J.memoizedState,b=t.stateNode,N=b.getSnapshotBeforeUpdate(t.elementType===t.type?X:Et(t.type,X),Fe);b.__reactInternalSnapshotBeforeUpdate=N}break;case 3:var E=t.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(V){Oe(t,t.return,V)}if(e=t.sibling,e!==null){e.return=t.return,Q=e;break}Q=t.return}return J=Yu,Yu=!1,J}function Wr(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&e)===e){var c=s.destroy;s.destroy=void 0,c!==void 0&&Yo(t,n,c)}s=s.next}while(s!==i)}}function Za(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Zo(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zu(e){var t=e.alternate;t!==null&&(e.alternate=null,Zu(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Rt],delete t[Dr],delete t[ho],delete t[$f],delete t[Bf])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ec(e){return e.tag===5||e.tag===3||e.tag===4}function tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ec(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function es(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=_a));else if(i!==4&&(e=e.child,e!==null))for(es(e,t,n),e=e.sibling;e!==null;)es(e,t,n),e=e.sibling}function ts(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ts(e,t,n),e=e.sibling;e!==null;)ts(e,t,n),e=e.sibling}var Je=null,Tt=!1;function on(e,t,n){for(n=n.child;n!==null;)nc(e,t,n),n=n.sibling}function nc(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(fa,n)}catch{}switch(n.tag){case 5:tt||ar(n,t);case 6:var i=Je,s=Tt;Je=null,on(e,t,n),Je=i,Tt=s,Je!==null&&(Tt?(e=Je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Tt?(e=Je,n=n.stateNode,e.nodeType===8?po(e.parentNode,n):e.nodeType===1&&po(e,n),br(e)):po(Je,n.stateNode));break;case 4:i=Je,s=Tt,Je=n.stateNode.containerInfo,Tt=!0,on(e,t,n),Je=i,Tt=s;break;case 0:case 11:case 14:case 15:if(!tt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var c=s,m=c.destroy;c=c.tag,m!==void 0&&((c&2)!==0||(c&4)!==0)&&Yo(n,t,m),s=s.next}while(s!==i)}on(e,t,n);break;case 1:if(!tt&&(ar(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(x){Oe(n,t,x)}on(e,t,n);break;case 21:on(e,t,n);break;case 22:n.mode&1?(tt=(i=tt)||n.memoizedState!==null,on(e,t,n),tt=i):on(e,t,n);break;default:on(e,t,n)}}function rc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new am),t.forEach(function(i){var s=pm.bind(null,e,i);n.has(i)||(n.add(i),i.then(s,s))})}}function jt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var c=e,m=t,x=m;e:for(;x!==null;){switch(x.tag){case 5:Je=x.stateNode,Tt=!1;break e;case 3:Je=x.stateNode.containerInfo,Tt=!0;break e;case 4:Je=x.stateNode.containerInfo,Tt=!0;break e}x=x.return}if(Je===null)throw Error(a(160));nc(c,m,s),Je=null,Tt=!1;var S=s.alternate;S!==null&&(S.return=null),s.return=null}catch(T){Oe(s,t,T)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ac(t,e),t=t.sibling}function ac(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(jt(t,e),Ot(e),i&4){try{Wr(3,e,e.return),Za(3,e)}catch(X){Oe(e,e.return,X)}try{Wr(5,e,e.return)}catch(X){Oe(e,e.return,X)}}break;case 1:jt(t,e),Ot(e),i&512&&n!==null&&ar(n,n.return);break;case 5:if(jt(t,e),Ot(e),i&512&&n!==null&&ar(n,n.return),e.flags&32){var s=e.stateNode;try{pr(s,"")}catch(X){Oe(e,e.return,X)}}if(i&4&&(s=e.stateNode,s!=null)){var c=e.memoizedProps,m=n!==null?n.memoizedProps:c,x=e.type,S=e.updateQueue;if(e.updateQueue=null,S!==null)try{x==="input"&&c.type==="radio"&&c.name!=null&&fr(s,c),Mi(x,m);var T=Mi(x,c);for(m=0;m<S.length;m+=2){var A=S[m],F=S[m+1];A==="style"?Vs(s,F):A==="dangerouslySetInnerHTML"?Fs(s,F):A==="children"?pr(s,F):U(s,A,F,T)}switch(x){case"input":An(s,c);break;case"textarea":mr(s,c);break;case"select":var D=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!c.multiple;var K=c.value;K!=null?ve(s,!!c.multiple,K,!1):D!==!!c.multiple&&(c.defaultValue!=null?ve(s,!!c.multiple,c.defaultValue,!0):ve(s,!!c.multiple,c.multiple?[]:"",!1))}s[Dr]=c}catch(X){Oe(e,e.return,X)}}break;case 6:if(jt(t,e),Ot(e),i&4){if(e.stateNode===null)throw Error(a(162));s=e.stateNode,c=e.memoizedProps;try{s.nodeValue=c}catch(X){Oe(e,e.return,X)}}break;case 3:if(jt(t,e),Ot(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{br(t.containerInfo)}catch(X){Oe(e,e.return,X)}break;case 4:jt(t,e),Ot(e);break;case 13:jt(t,e),Ot(e),s=e.child,s.flags&8192&&(c=s.memoizedState!==null,s.stateNode.isHidden=c,!c||s.alternate!==null&&s.alternate.memoizedState!==null||(as=Ae())),i&4&&rc(e);break;case 22:if(A=n!==null&&n.memoizedState!==null,e.mode&1?(tt=(T=tt)||A,jt(t,e),tt=T):jt(t,e),Ot(e),i&8192){if(T=e.memoizedState!==null,(e.stateNode.isHidden=T)&&!A&&(e.mode&1)!==0)for(Q=e,A=e.child;A!==null;){for(F=Q=A;Q!==null;){switch(D=Q,K=D.child,D.tag){case 0:case 11:case 14:case 15:Wr(4,D,D.return);break;case 1:ar(D,D.return);var J=D.stateNode;if(typeof J.componentWillUnmount=="function"){i=D,n=D.return;try{t=i,J.props=t.memoizedProps,J.state=t.memoizedState,J.componentWillUnmount()}catch(X){Oe(i,n,X)}}break;case 5:ar(D,D.return);break;case 22:if(D.memoizedState!==null){sc(F);continue}}K!==null?(K.return=D,Q=K):sc(F)}A=A.sibling}e:for(A=null,F=e;;){if(F.tag===5){if(A===null){A=F;try{s=F.stateNode,T?(c=s.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none"):(x=F.stateNode,S=F.memoizedProps.style,m=S!=null&&S.hasOwnProperty("display")?S.display:null,x.style.display=zs("display",m))}catch(X){Oe(e,e.return,X)}}}else if(F.tag===6){if(A===null)try{F.stateNode.nodeValue=T?"":F.memoizedProps}catch(X){Oe(e,e.return,X)}}else if((F.tag!==22&&F.tag!==23||F.memoizedState===null||F===e)&&F.child!==null){F.child.return=F,F=F.child;continue}if(F===e)break e;for(;F.sibling===null;){if(F.return===null||F.return===e)break e;A===F&&(A=null),F=F.return}A===F&&(A=null),F.sibling.return=F.return,F=F.sibling}}break;case 19:jt(t,e),Ot(e),i&4&&rc(e);break;case 21:break;default:jt(t,e),Ot(e)}}function Ot(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ec(n)){var i=n;break e}n=n.return}throw Error(a(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(pr(s,""),i.flags&=-33);var c=tc(e);ts(e,c,s);break;case 3:case 4:var m=i.stateNode.containerInfo,x=tc(e);es(e,x,m);break;default:throw Error(a(161))}}catch(S){Oe(e,e.return,S)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function om(e,t,n){Q=e,ic(e)}function ic(e,t,n){for(var i=(e.mode&1)!==0;Q!==null;){var s=Q,c=s.child;if(s.tag===22&&i){var m=s.memoizedState!==null||Ya;if(!m){var x=s.alternate,S=x!==null&&x.memoizedState!==null||tt;x=Ya;var T=tt;if(Ya=m,(tt=S)&&!T)for(Q=s;Q!==null;)m=Q,S=m.child,m.tag===22&&m.memoizedState!==null?lc(s):S!==null?(S.return=m,Q=S):lc(s);for(;c!==null;)Q=c,ic(c),c=c.sibling;Q=s,Ya=x,tt=T}oc(e)}else(s.subtreeFlags&8772)!==0&&c!==null?(c.return=s,Q=c):oc(e)}}function oc(e){for(;Q!==null;){var t=Q;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:tt||Za(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!tt)if(n===null)i.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var c=t.updateQueue;c!==null&&su(t,c,i);break;case 3:var m=t.updateQueue;if(m!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}su(t,m,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var S=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":S.autoFocus&&n.focus();break;case"img":S.src&&(n.src=S.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var T=t.alternate;if(T!==null){var A=T.memoizedState;if(A!==null){var F=A.dehydrated;F!==null&&br(F)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}tt||t.flags&512&&Zo(t)}catch(D){Oe(t,t.return,D)}}if(t===e){Q=null;break}if(n=t.sibling,n!==null){n.return=t.return,Q=n;break}Q=t.return}}function sc(e){for(;Q!==null;){var t=Q;if(t===e){Q=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Q=n;break}Q=t.return}}function lc(e){for(;Q!==null;){var t=Q;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Za(4,t)}catch(S){Oe(t,n,S)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var s=t.return;try{i.componentDidMount()}catch(S){Oe(t,s,S)}}var c=t.return;try{Zo(t)}catch(S){Oe(t,c,S)}break;case 5:var m=t.return;try{Zo(t)}catch(S){Oe(t,m,S)}}}catch(S){Oe(t,t.return,S)}if(t===e){Q=null;break}var x=t.sibling;if(x!==null){x.return=t.return,Q=x;break}Q=t.return}}var sm=Math.ceil,ei=W.ReactCurrentDispatcher,ns=W.ReactCurrentOwner,St=W.ReactCurrentBatchConfig,we=0,Qe=null,$e=null,Xe=0,gt=0,ir=en(0),Ke=0,Qr=null,Tn=0,ti=0,rs=0,qr=null,ct=null,as=0,or=1/0,Gt=null,ni=!1,is=null,sn=null,ri=!1,ln=null,ai=0,Jr=0,os=null,ii=-1,oi=0;function it(){return(we&6)!==0?Ae():ii!==-1?ii:ii=Ae()}function un(e){return(e.mode&1)===0?1:(we&2)!==0&&Xe!==0?Xe&-Xe:Gf.transition!==null?(oi===0&&(oi=tl()),oi):(e=Ce,e!==0||(e=window.event,e=e===void 0?16:cl(e.type)),e)}function It(e,t,n,i){if(50<Jr)throw Jr=0,os=null,Error(a(185));wr(e,n,i),((we&2)===0||e!==Qe)&&(e===Qe&&((we&2)===0&&(ti|=n),Ke===4&&cn(e,Xe)),dt(e,i),n===1&&we===0&&(t.mode&1)===0&&(or=Ae()+500,La&&nn()))}function dt(e,t){var n=e.callbackNode;Ud(e,t);var i=ha(e,e===Qe?Xe:0);if(i===0)n!==null&&Ys(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Ys(n),t===1)e.tag===0?Uf(cc.bind(null,e)):ql(cc.bind(null,e)),zf(function(){(we&6)===0&&nn()}),n=null;else{switch(nl(i)){case 1:n=Fi;break;case 4:n=Zs;break;case 16:n=da;break;case 536870912:n=el;break;default:n=da}n=vc(n,uc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uc(e,t){if(ii=-1,oi=0,(we&6)!==0)throw Error(a(327));var n=e.callbackNode;if(sr()&&e.callbackNode!==n)return null;var i=ha(e,e===Qe?Xe:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=si(e,i);else{t=i;var s=we;we|=2;var c=fc();(Qe!==e||Xe!==t)&&(Gt=null,or=Ae()+500,In(e,t));do try{cm();break}catch(x){dc(e,x)}while(!0);Co(),ei.current=c,we=s,$e!==null?t=0:(Qe=null,Xe=0,t=Ke)}if(t!==0){if(t===2&&(s=zi(e),s!==0&&(i=s,t=ss(e,s))),t===1)throw n=Qr,In(e,0),cn(e,i),dt(e,Ae()),n;if(t===6)cn(e,i);else{if(s=e.current.alternate,(i&30)===0&&!lm(s)&&(t=si(e,i),t===2&&(c=zi(e),c!==0&&(i=c,t=ss(e,c))),t===1))throw n=Qr,In(e,0),cn(e,i),dt(e,Ae()),n;switch(e.finishedWork=s,e.finishedLanes=i,t){case 0:case 1:throw Error(a(345));case 2:_n(e,ct,Gt);break;case 3:if(cn(e,i),(i&130023424)===i&&(t=as+500-Ae(),10<t)){if(ha(e,0)!==0)break;if(s=e.suspendedLanes,(s&i)!==i){it(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=mo(_n.bind(null,e,ct,Gt),t);break}_n(e,ct,Gt);break;case 4:if(cn(e,i),(i&4194240)===i)break;for(t=e.eventTimes,s=-1;0<i;){var m=31-Nt(i);c=1<<m,m=t[m],m>s&&(s=m),i&=~c}if(i=s,i=Ae()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*sm(i/1960))-i,10<i){e.timeoutHandle=mo(_n.bind(null,e,ct,Gt),i);break}_n(e,ct,Gt);break;case 5:_n(e,ct,Gt);break;default:throw Error(a(329))}}}return dt(e,Ae()),e.callbackNode===n?uc.bind(null,e):null}function ss(e,t){var n=qr;return e.current.memoizedState.isDehydrated&&(In(e,t).flags|=256),e=si(e,t),e!==2&&(t=ct,ct=n,t!==null&&ls(t)),e}function ls(e){ct===null?ct=e:ct.push.apply(ct,e)}function lm(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],c=s.getSnapshot;s=s.value;try{if(!Ct(c(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cn(e,t){for(t&=~rs,t&=~ti,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Nt(t),i=1<<n;e[n]=-1,t&=~i}}function cc(e){if((we&6)!==0)throw Error(a(327));sr();var t=ha(e,0);if((t&1)===0)return dt(e,Ae()),null;var n=si(e,t);if(e.tag!==0&&n===2){var i=zi(e);i!==0&&(t=i,n=ss(e,i))}if(n===1)throw n=Qr,In(e,0),cn(e,t),dt(e,Ae()),n;if(n===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_n(e,ct,Gt),dt(e,Ae()),null}function us(e,t){var n=we;we|=1;try{return e(t)}finally{we=n,we===0&&(or=Ae()+500,La&&nn())}}function jn(e){ln!==null&&ln.tag===0&&(we&6)===0&&sr();var t=we;we|=1;var n=St.transition,i=Ce;try{if(St.transition=null,Ce=1,e)return e()}finally{Ce=i,St.transition=n,we=t,(we&6)===0&&nn()}}function cs(){gt=ir.current,_e(ir)}function In(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Ff(n)),$e!==null)for(n=$e.return;n!==null;){var i=n;switch(xo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ra();break;case 3:nr(),_e(st),_e(Ye),Ro();break;case 5:_o(i);break;case 4:nr();break;case 13:_e(Re);break;case 19:_e(Re);break;case 10:bo(i.type._context);break;case 22:case 23:cs()}n=n.return}if(Qe=e,$e=e=dn(e.current,null),Xe=gt=t,Ke=0,Qr=null,rs=ti=Tn=0,ct=qr=null,Cn!==null){for(t=0;t<Cn.length;t++)if(n=Cn[t],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,c=n.pending;if(c!==null){var m=c.next;c.next=s,i.next=m}n.pending=i}Cn=null}return e}function dc(e,t){do{var n=$e;try{if(Co(),Ga.current=Qa,Ha){for(var i=Pe.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Ha=!1}if(En=0,We=He=Pe=null,Br=!1,Ur=0,ns.current=null,n===null||n.return===null){Ke=1,Qr=t,$e=null;break}e:{var c=e,m=n.return,x=n,S=t;if(t=Xe,x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){var T=S,A=x,F=A.tag;if((A.mode&1)===0&&(F===0||F===11||F===15)){var D=A.alternate;D?(A.updateQueue=D.updateQueue,A.memoizedState=D.memoizedState,A.lanes=D.lanes):(A.updateQueue=null,A.memoizedState=null)}var K=Du(m);if(K!==null){K.flags&=-257,Au(K,m,x,c,t),K.mode&1&&Ou(c,T,t),t=K,S=T;var J=t.updateQueue;if(J===null){var X=new Set;X.add(S),t.updateQueue=X}else J.add(S);break e}else{if((t&1)===0){Ou(c,T,t),ds();break e}S=Error(a(426))}}else if(Me&&x.mode&1){var Fe=Du(m);if(Fe!==null){(Fe.flags&65536)===0&&(Fe.flags|=256),Au(Fe,m,x,c,t),ko(rr(S,x));break e}}c=S=rr(S,x),Ke!==4&&(Ke=2),qr===null?qr=[c]:qr.push(c),c=m;do{switch(c.tag){case 3:c.flags|=65536,t&=-t,c.lanes|=t;var b=Pu(c,S,t);ou(c,b);break e;case 1:x=S;var N=c.type,E=c.stateNode;if((c.flags&128)===0&&(typeof N.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(sn===null||!sn.has(E)))){c.flags|=65536,t&=-t,c.lanes|=t;var V=Lu(c,x,t);ou(c,V);break e}}c=c.return}while(c!==null)}pc(n)}catch(Y){t=Y,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function fc(){var e=ei.current;return ei.current=Qa,e===null?Qa:e}function ds(){(Ke===0||Ke===3||Ke===2)&&(Ke=4),Qe===null||(Tn&268435455)===0&&(ti&268435455)===0||cn(Qe,Xe)}function si(e,t){var n=we;we|=2;var i=fc();(Qe!==e||Xe!==t)&&(Gt=null,In(e,t));do try{um();break}catch(s){dc(e,s)}while(!0);if(Co(),we=n,ei.current=i,$e!==null)throw Error(a(261));return Qe=null,Xe=0,Ke}function um(){for(;$e!==null;)mc($e)}function cm(){for(;$e!==null&&!Ld();)mc($e)}function mc(e){var t=yc(e.alternate,e,gt);e.memoizedProps=e.pendingProps,t===null?pc(e):$e=t,ns.current=null}function pc(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=nm(n,t,gt),n!==null){$e=n;return}}else{if(n=rm(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ke=6,$e=null;return}}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ke===0&&(Ke=5)}function _n(e,t,n){var i=Ce,s=St.transition;try{St.transition=null,Ce=1,dm(e,t,n,i)}finally{St.transition=s,Ce=i}return null}function dm(e,t,n,i){do sr();while(ln!==null);if((we&6)!==0)throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var c=n.lanes|n.childLanes;if(Gd(e,c),e===Qe&&($e=Qe=null,Xe=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ri||(ri=!0,vc(da,function(){return sr(),null})),c=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||c){c=St.transition,St.transition=null;var m=Ce;Ce=1;var x=we;we|=4,ns.current=null,im(e,n),ac(n,e),Mf(co),va=!!uo,co=uo=null,e.current=n,om(n),Od(),we=x,Ce=m,St.transition=c}else e.current=n;if(ri&&(ri=!1,ln=e,ai=s),c=e.pendingLanes,c===0&&(sn=null),Fd(n.stateNode),dt(e,Ae()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ni)throw ni=!1,e=is,is=null,e;return(ai&1)!==0&&e.tag!==0&&sr(),c=e.pendingLanes,(c&1)!==0?e===os?Jr++:(Jr=0,os=e):Jr=0,nn(),null}function sr(){if(ln!==null){var e=nl(ai),t=St.transition,n=Ce;try{if(St.transition=null,Ce=16>e?16:e,ln===null)var i=!1;else{if(e=ln,ln=null,ai=0,(we&6)!==0)throw Error(a(331));var s=we;for(we|=4,Q=e.current;Q!==null;){var c=Q,m=c.child;if((Q.flags&16)!==0){var x=c.deletions;if(x!==null){for(var S=0;S<x.length;S++){var T=x[S];for(Q=T;Q!==null;){var A=Q;switch(A.tag){case 0:case 11:case 15:Wr(8,A,c)}var F=A.child;if(F!==null)F.return=A,Q=F;else for(;Q!==null;){A=Q;var D=A.sibling,K=A.return;if(Zu(A),A===T){Q=null;break}if(D!==null){D.return=K,Q=D;break}Q=K}}}var J=c.alternate;if(J!==null){var X=J.child;if(X!==null){J.child=null;do{var Fe=X.sibling;X.sibling=null,X=Fe}while(X!==null)}}Q=c}}if((c.subtreeFlags&2064)!==0&&m!==null)m.return=c,Q=m;else e:for(;Q!==null;){if(c=Q,(c.flags&2048)!==0)switch(c.tag){case 0:case 11:case 15:Wr(9,c,c.return)}var b=c.sibling;if(b!==null){b.return=c.return,Q=b;break e}Q=c.return}}var N=e.current;for(Q=N;Q!==null;){m=Q;var E=m.child;if((m.subtreeFlags&2064)!==0&&E!==null)E.return=m,Q=E;else e:for(m=N;Q!==null;){if(x=Q,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:Za(9,x)}}catch(Y){Oe(x,x.return,Y)}if(x===m){Q=null;break e}var V=x.sibling;if(V!==null){V.return=x.return,Q=V;break e}Q=x.return}}if(we=s,nn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(fa,e)}catch{}i=!0}return i}finally{Ce=n,St.transition=t}}return!1}function hc(e,t,n){t=rr(n,t),t=Pu(e,t,1),e=an(e,t,1),t=it(),e!==null&&(wr(e,1,t),dt(e,t))}function Oe(e,t,n){if(e.tag===3)hc(e,e,n);else for(;t!==null;){if(t.tag===3){hc(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(sn===null||!sn.has(i))){e=rr(n,e),e=Lu(t,e,1),t=an(t,e,1),e=it(),t!==null&&(wr(t,1,e),dt(t,e));break}}t=t.return}}function fm(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=it(),e.pingedLanes|=e.suspendedLanes&n,Qe===e&&(Xe&n)===n&&(Ke===4||Ke===3&&(Xe&130023424)===Xe&&500>Ae()-as?In(e,0):rs|=n),dt(e,t)}function gc(e,t){t===0&&((e.mode&1)===0?t=1:(t=pa,pa<<=1,(pa&130023424)===0&&(pa=4194304)));var n=it();e=$t(e,t),e!==null&&(wr(e,t,n),dt(e,n))}function mm(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gc(e,n)}function pm(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(a(314))}i!==null&&i.delete(t),gc(e,n)}var yc;yc=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||st.current)ut=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return ut=!1,tm(e,t,n);ut=(e.flags&131072)!==0}else ut=!1,Me&&(t.flags&1048576)!==0&&Jl(t,Da,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Xa(e,t),e=t.pendingProps;var s=qn(t,Ye.current);tr(t,n),s=Oo(null,t,i,e,s,n);var c=Do();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,lt(i)?(c=!0,Pa(t)):c=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,jo(t),s.updater=qa,t.stateNode=s,s._reactInternals=t,Bo(t,i,e,n),t=Ko(null,t,i,!0,c,n)):(t.tag=0,Me&&c&&vo(t),at(null,t,s,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Xa(e,t),e=t.pendingProps,s=i._init,i=s(i._payload),t.type=i,s=t.tag=gm(i),e=Et(i,e),s){case 0:t=Ho(null,t,i,e,n);break e;case 1:t=Uu(null,t,i,e,n);break e;case 11:t=Fu(null,t,i,e,n);break e;case 14:t=zu(null,t,i,Et(i.type,e),n);break e}throw Error(a(306,i,""))}return t;case 0:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Et(i,s),Ho(e,t,i,s,n);case 1:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Et(i,s),Uu(e,t,i,s,n);case 3:e:{if(Gu(t),e===null)throw Error(a(387));i=t.pendingProps,c=t.memoizedState,s=c.element,iu(e,t),Ba(t,i,null,n);var m=t.memoizedState;if(i=m.element,c.isDehydrated)if(c={element:i,isDehydrated:!1,cache:m.cache,pendingSuspenseBoundaries:m.pendingSuspenseBoundaries,transitions:m.transitions},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){s=rr(Error(a(423)),t),t=Hu(e,t,i,n,s);break e}else if(i!==s){s=rr(Error(a(424)),t),t=Hu(e,t,i,n,s);break e}else for(ht=Zt(t.stateNode.containerInfo.firstChild),pt=t,Me=!0,bt=null,n=ru(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Yn(),i===s){t=Ut(e,t,n);break e}at(e,t,i,n)}t=t.child}return t;case 5:return lu(t),e===null&&So(t),i=t.type,s=t.pendingProps,c=e!==null?e.memoizedProps:null,m=s.children,fo(i,s)?m=null:c!==null&&fo(i,c)&&(t.flags|=32),Bu(e,t),at(e,t,m,n),t.child;case 6:return e===null&&So(t),null;case 13:return Ku(e,t,n);case 4:return Io(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Zn(t,null,i,n):at(e,t,i,n),t.child;case 11:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Et(i,s),Fu(e,t,i,s,n);case 7:return at(e,t,t.pendingProps,n),t.child;case 8:return at(e,t,t.pendingProps.children,n),t.child;case 12:return at(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,s=t.pendingProps,c=t.memoizedProps,m=s.value,je(za,i._currentValue),i._currentValue=m,c!==null)if(Ct(c.value,m)){if(c.children===s.children&&!st.current){t=Ut(e,t,n);break e}}else for(c=t.child,c!==null&&(c.return=t);c!==null;){var x=c.dependencies;if(x!==null){m=c.child;for(var S=x.firstContext;S!==null;){if(S.context===i){if(c.tag===1){S=Bt(-1,n&-n),S.tag=2;var T=c.updateQueue;if(T!==null){T=T.shared;var A=T.pending;A===null?S.next=S:(S.next=A.next,A.next=S),T.pending=S}}c.lanes|=n,S=c.alternate,S!==null&&(S.lanes|=n),Eo(c.return,n,t),x.lanes|=n;break}S=S.next}}else if(c.tag===10)m=c.type===t.type?null:c.child;else if(c.tag===18){if(m=c.return,m===null)throw Error(a(341));m.lanes|=n,x=m.alternate,x!==null&&(x.lanes|=n),Eo(m,n,t),m=c.sibling}else m=c.child;if(m!==null)m.return=c;else for(m=c;m!==null;){if(m===t){m=null;break}if(c=m.sibling,c!==null){c.return=m.return,m=c;break}m=m.return}c=m}at(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,i=t.pendingProps.children,tr(t,n),s=xt(s),i=i(s),t.flags|=1,at(e,t,i,n),t.child;case 14:return i=t.type,s=Et(i,t.pendingProps),s=Et(i.type,s),zu(e,t,i,s,n);case 15:return Vu(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,s=t.pendingProps,s=t.elementType===i?s:Et(i,s),Xa(e,t),t.tag=1,lt(i)?(e=!0,Pa(t)):e=!1,tr(t,n),Mu(t,i,s),Bo(t,i,s,n),Ko(null,t,i,!0,e,n);case 19:return Qu(e,t,n);case 22:return $u(e,t,n)}throw Error(a(156,t.tag))};function vc(e,t){return Xs(e,t)}function hm(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,n,i){return new hm(e,t,n,i)}function fs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function gm(e){if(typeof e=="function")return fs(e)?1:0;if(e!=null){if(e=e.$$typeof,e===he)return 11;if(e===fe)return 14}return 2}function dn(e,t){var n=e.alternate;return n===null?(n=kt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function li(e,t,n,i,s,c){var m=2;if(i=e,typeof e=="function")fs(e)&&(m=1);else if(typeof e=="string")m=5;else e:switch(e){case ae:return Mn(n.children,s,c,t);case Ne:m=8,s|=8;break;case Ge:return e=kt(12,n,t,s|2),e.elementType=Ge,e.lanes=c,e;case oe:return e=kt(13,n,t,s),e.elementType=oe,e.lanes=c,e;case de:return e=kt(19,n,t,s),e.elementType=de,e.lanes=c,e;case xe:return ui(n,s,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Le:m=10;break e;case te:m=9;break e;case he:m=11;break e;case fe:m=14;break e;case ge:m=16,i=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return t=kt(m,n,t,s),t.elementType=e,t.type=i,t.lanes=c,t}function Mn(e,t,n,i){return e=kt(7,e,i,t),e.lanes=n,e}function ui(e,t,n,i){return e=kt(22,e,i,t),e.elementType=xe,e.lanes=n,e.stateNode={isHidden:!1},e}function ms(e,t,n){return e=kt(6,e,null,t),e.lanes=n,e}function ps(e,t,n){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function ym(e,t,n,i,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vi(0),this.expirationTimes=Vi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vi(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hs(e,t,n,i,s,c,m,x,S){return e=new ym(e,t,n,x,S),t===1?(t=1,c===!0&&(t|=8)):t=0,c=kt(3,null,null,t),e.current=c,c.stateNode=e,c.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},jo(c),e}function vm(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function xc(e){if(!e)return tn;e=e._reactInternals;e:{if(xn(e)!==e||e.tag!==1)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(lt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(a(171))}if(e.tag===1){var n=e.type;if(lt(n))return Wl(e,n,t)}return t}function wc(e,t,n,i,s,c,m,x,S){return e=hs(n,i,!0,e,s,c,m,x,S),e.context=xc(null),n=e.current,i=it(),s=un(n),c=Bt(i,s),c.callback=t??null,an(n,c,s),e.current.lanes=s,wr(e,s,i),dt(e,i),e}function ci(e,t,n,i){var s=t.current,c=it(),m=un(s);return n=xc(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(c,m),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=an(s,t,m),e!==null&&(It(e,s,m,c),$a(e,s,m)),m}function di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Sc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gs(e,t){Sc(e,t),(e=e.alternate)&&Sc(e,t)}function xm(){return null}var kc=typeof reportError=="function"?reportError:function(e){console.error(e)};function ys(e){this._internalRoot=e}fi.prototype.render=ys.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(a(409));ci(e,t,null,null)},fi.prototype.unmount=ys.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jn(function(){ci(null,e,null,null)}),t[At]=null}};function fi(e){this._internalRoot=e}fi.prototype.unstable_scheduleHydration=function(e){if(e){var t=il();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Jt.length&&t!==0&&t<Jt[n].priority;n++);Jt.splice(n,0,e),n===0&&ll(e)}};function vs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Nc(){}function wm(e,t,n,i,s){if(s){if(typeof i=="function"){var c=i;i=function(){var T=di(m);c.call(T)}}var m=wc(t,i,e,0,null,!1,!1,"",Nc);return e._reactRootContainer=m,e[At]=m.current,Lr(e.nodeType===8?e.parentNode:e),jn(),m}for(;s=e.lastChild;)e.removeChild(s);if(typeof i=="function"){var x=i;i=function(){var T=di(S);x.call(T)}}var S=hs(e,0,!1,null,null,!1,!1,"",Nc);return e._reactRootContainer=S,e[At]=S.current,Lr(e.nodeType===8?e.parentNode:e),jn(function(){ci(t,S,n,i)}),S}function pi(e,t,n,i,s){var c=n._reactRootContainer;if(c){var m=c;if(typeof s=="function"){var x=s;s=function(){var S=di(m);x.call(S)}}ci(t,m,e,s)}else m=wm(n,t,e,s,i);return di(m)}rl=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xr(t.pendingLanes);n!==0&&($i(t,n|1),dt(t,Ae()),(we&6)===0&&(or=Ae()+500,nn()))}break;case 13:jn(function(){var i=$t(e,1);if(i!==null){var s=it();It(i,e,1,s)}}),gs(e,1)}},Bi=function(e){if(e.tag===13){var t=$t(e,134217728);if(t!==null){var n=it();It(t,e,134217728,n)}gs(e,134217728)}},al=function(e){if(e.tag===13){var t=un(e),n=$t(e,t);if(n!==null){var i=it();It(n,e,t,i)}gs(e,t)}},il=function(){return Ce},ol=function(e,t){var n=Ce;try{return Ce=e,t()}finally{Ce=n}},Li=function(e,t,n){switch(t){case"input":if(An(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var s=Ma(i);if(!s)throw Error(a(90));vn(i),An(i,s)}}}break;case"textarea":mr(e,n);break;case"select":t=n.value,t!=null&&ve(e,!!n.multiple,t,!1)}},Gs=us,Hs=jn;var Sm={usingClientEntryPoint:!1,Events:[Ar,Wn,Ma,Bs,Us,us]},Xr={findFiberByHostInstance:wn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},km={bundleType:Xr.bundleType,version:Xr.version,rendererPackageName:Xr.rendererPackageName,rendererConfig:Xr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qs(e),e===null?null:e.stateNode},findFiberByHostInstance:Xr.findFiberByHostInstance||xm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hi.isDisabled&&hi.supportsFiber)try{fa=hi.inject(km),Mt=hi}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Sm,ft.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vs(t))throw Error(a(200));return vm(e,t,null,n)},ft.createRoot=function(e,t){if(!vs(e))throw Error(a(299));var n=!1,i="",s=kc;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hs(e,1,!1,null,null,n,!1,i,s),e[At]=t.current,Lr(e.nodeType===8?e.parentNode:e),new ys(t)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=qs(t),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return jn(e)},ft.hydrate=function(e,t,n){if(!mi(t))throw Error(a(200));return pi(null,e,t,!0,n)},ft.hydrateRoot=function(e,t,n){if(!vs(e))throw Error(a(405));var i=n!=null&&n.hydratedSources||null,s=!1,c="",m=kc;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(c=n.identifierPrefix),n.onRecoverableError!==void 0&&(m=n.onRecoverableError)),t=wc(t,null,e,1,n??null,s,!1,c,m),e[At]=t.current,Lr(e),i)for(e=0;e<i.length;e++)n=i[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fi(t)},ft.render=function(e,t,n){if(!mi(t))throw Error(a(200));return pi(null,e,t,!1,n)},ft.unmountComponentAtNode=function(e){if(!mi(e))throw Error(a(40));return e._reactRootContainer?(jn(function(){pi(null,null,e,!1,function(){e._reactRootContainer=null,e[At]=null})}),!0):!1},ft.unstable_batchedUpdates=us,ft.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!mi(n))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return pi(e,t,n,!1,i)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var Mc;function ld(){if(Mc)return Ss.exports;Mc=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),Ss.exports=Mm(),Ss.exports}var Rc;function Rm(){if(Rc)return gi;Rc=1;var l=ld();return gi.createRoot=l.createRoot,gi.hydrateRoot=l.hydrateRoot,gi}var Pm=Rm();const Lm=sd(Pm);var Om=ld();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(l){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=a[o])}return l},ta.apply(this,arguments)}var hn;(function(l){l.Pop="POP",l.Push="PUSH",l.Replace="REPLACE"})(hn||(hn={}));const Pc="popstate";function Dm(l){l===void 0&&(l={});function r(o,u){let{pathname:d,search:f,hash:p}=o.location;return js("",{pathname:d,search:f,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(o,u){return typeof u=="string"?u:Si(u)}return Fm(r,a,null,l)}function Ue(l,r){if(l===!1||l===null||typeof l>"u")throw new Error(r)}function ud(l,r){if(!l){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function Am(){return Math.random().toString(36).substr(2,8)}function Lc(l,r){return{usr:l.state,key:l.key,idx:r}}function js(l,r,a,o){return a===void 0&&(a=null),ta({pathname:typeof l=="string"?l:l.pathname,search:"",hash:""},typeof r=="string"?dr(r):r,{state:a,key:r&&r.key||o||Am()})}function Si(l){let{pathname:r="/",search:a="",hash:o=""}=l;return a&&a!=="?"&&(r+=a.charAt(0)==="?"?a:"?"+a),o&&o!=="#"&&(r+=o.charAt(0)==="#"?o:"#"+o),r}function dr(l){let r={};if(l){let a=l.indexOf("#");a>=0&&(r.hash=l.substr(a),l=l.substr(0,a));let o=l.indexOf("?");o>=0&&(r.search=l.substr(o),l=l.substr(0,o)),l&&(r.pathname=l)}return r}function Fm(l,r,a,o){o===void 0&&(o={});let{window:u=document.defaultView,v5Compat:d=!1}=o,f=u.history,p=hn.Pop,g=null,v=y();v==null&&(v=0,f.replaceState(ta({},f.state,{idx:v}),""));function y(){return(f.state||{idx:null}).idx}function k(){p=hn.Pop;let _=y(),M=_==null?null:_-v;v=_,g&&g({action:p,location:R.location,delta:M})}function w(_,M){p=hn.Push;let G=js(R.location,_,M);v=y()+1;let U=Lc(G,v),W=R.createHref(G);try{f.pushState(U,"",W)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;u.location.assign(W)}d&&g&&g({action:p,location:R.location,delta:1})}function I(_,M){p=hn.Replace;let G=js(R.location,_,M);v=y();let U=Lc(G,v),W=R.createHref(G);f.replaceState(U,"",W),d&&g&&g({action:p,location:R.location,delta:0})}function j(_){let M=u.location.origin!=="null"?u.location.origin:u.location.href,G=typeof _=="string"?_:Si(_);return G=G.replace(/ $/,"%20"),Ue(M,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,M)}let R={get action(){return p},get location(){return l(u,f)},listen(_){if(g)throw new Error("A history only accepts one active listener");return u.addEventListener(Pc,k),g=_,()=>{u.removeEventListener(Pc,k),g=null}},createHref(_){return r(u,_)},createURL:j,encodeLocation(_){let M=j(_);return{pathname:M.pathname,search:M.search,hash:M.hash}},push:w,replace:I,go(_){return f.go(_)}};return R}var Oc;(function(l){l.data="data",l.deferred="deferred",l.redirect="redirect",l.error="error"})(Oc||(Oc={}));function zm(l,r,a){return a===void 0&&(a="/"),Vm(l,r,a)}function Vm(l,r,a,o){let u=typeof r=="string"?dr(r):r,d=Ls(u.pathname||"/",a);if(d==null)return null;let f=cd(l);$m(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let v=Zm(d);p=Jm(f[g],v)}return p}function cd(l,r,a,o){r===void 0&&(r=[]),a===void 0&&(a=[]),o===void 0&&(o="");let u=(d,f,p)=>{let g={relativePath:p===void 0?d.path||"":p,caseSensitive:d.caseSensitive===!0,childrenIndex:f,route:d};g.relativePath.startsWith("/")&&(Ue(g.relativePath.startsWith(o),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(o.length));let v=gn([o,g.relativePath]),y=a.concat(g);d.children&&d.children.length>0&&(Ue(d.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),cd(d.children,r,y,v)),!(d.path==null&&!d.index)&&r.push({path:v,score:Qm(v,d.index),routesMeta:y})};return l.forEach((d,f)=>{var p;if(d.path===""||!((p=d.path)!=null&&p.includes("?")))u(d,f);else for(let g of dd(d.path))u(d,f,g)}),r}function dd(l){let r=l.split("/");if(r.length===0)return[];let[a,...o]=r,u=a.endsWith("?"),d=a.replace(/\?$/,"");if(o.length===0)return u?[d,""]:[d];let f=dd(o.join("/")),p=[];return p.push(...f.map(g=>g===""?d:[d,g].join("/"))),u&&p.push(...f),p.map(g=>l.startsWith("/")&&g===""?"/":g)}function $m(l){l.sort((r,a)=>r.score!==a.score?a.score-r.score:qm(r.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}const Bm=/^:[\w-]+$/,Um=3,Gm=2,Hm=1,Km=10,Wm=-2,Dc=l=>l==="*";function Qm(l,r){let a=l.split("/"),o=a.length;return a.some(Dc)&&(o+=Wm),r&&(o+=Gm),a.filter(u=>!Dc(u)).reduce((u,d)=>u+(Bm.test(d)?Um:d===""?Hm:Km),o)}function qm(l,r){return l.length===r.length&&l.slice(0,-1).every((o,u)=>o===r[u])?l[l.length-1]-r[r.length-1]:0}function Jm(l,r,a){let{routesMeta:o}=l,u={},d="/",f=[];for(let p=0;p<o.length;++p){let g=o[p],v=p===o.length-1,y=d==="/"?r:r.slice(d.length)||"/",k=Xm({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},y),w=g.route;if(!k)return null;Object.assign(u,k.params),f.push({params:u,pathname:gn([d,k.pathname]),pathnameBase:rp(gn([d,k.pathnameBase])),route:w}),k.pathnameBase!=="/"&&(d=gn([d,k.pathnameBase]))}return f}function Xm(l,r){typeof l=="string"&&(l={path:l,caseSensitive:!1,end:!0});let[a,o]=Ym(l.path,l.caseSensitive,l.end),u=r.match(a);if(!u)return null;let d=u[0],f=d.replace(/(.)\/+$/,"$1"),p=u.slice(1);return{params:o.reduce((v,y,k)=>{let{paramName:w,isOptional:I}=y;if(w==="*"){let R=p[k]||"";f=d.slice(0,d.length-R.length).replace(/(.)\/+$/,"$1")}const j=p[k];return I&&!j?v[w]=void 0:v[w]=(j||"").replace(/%2F/g,"/"),v},{}),pathname:d,pathnameBase:f,pattern:l}}function Ym(l,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0),ud(l==="*"||!l.endsWith("*")||l.endsWith("/*"),'Route path "'+l+'" will be treated as if it were '+('"'+l.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+l.replace(/\*$/,"/*")+'".'));let o=[],u="^"+l.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(o.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return l.endsWith("*")?(o.push({paramName:"*"}),u+=l==="*"||l==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?u+="\\/*$":l!==""&&l!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,r?void 0:"i"),o]}function Zm(l){try{return l.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return ud(!1,'The URL path "'+l+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),l}}function Ls(l,r){if(r==="/")return l;if(!l.toLowerCase().startsWith(r.toLowerCase()))return null;let a=r.endsWith("/")?r.length-1:r.length,o=l.charAt(a);return o&&o!=="/"?null:l.slice(a)||"/"}function ep(l,r){r===void 0&&(r="/");let{pathname:a,search:o="",hash:u=""}=typeof l=="string"?dr(l):l;return{pathname:a?a.startsWith("/")?a:tp(a,r):r,search:ap(o),hash:ip(u)}}function tp(l,r){let a=r.replace(/\/+$/,"").split("/");return l.split("/").forEach(u=>{u===".."?a.length>1&&a.pop():u!=="."&&a.push(u)}),a.length>1?a.join("/"):"/"}function Cs(l,r,a,o){return"Cannot include a '"+l+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+a+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function np(l){return l.filter((r,a)=>a===0||r.route.path&&r.route.path.length>0)}function fd(l,r){let a=np(l);return r?a.map((o,u)=>u===a.length-1?o.pathname:o.pathnameBase):a.map(o=>o.pathnameBase)}function md(l,r,a,o){o===void 0&&(o=!1);let u;typeof l=="string"?u=dr(l):(u=ta({},l),Ue(!u.pathname||!u.pathname.includes("?"),Cs("?","pathname","search",u)),Ue(!u.pathname||!u.pathname.includes("#"),Cs("#","pathname","hash",u)),Ue(!u.search||!u.search.includes("#"),Cs("#","search","hash",u)));let d=l===""||u.pathname==="",f=d?"/":u.pathname,p;if(f==null)p=a;else{let k=r.length-1;if(!o&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),k-=1;u.pathname=w.join("/")}p=k>=0?r[k]:"/"}let g=ep(u,p),v=f&&f!=="/"&&f.endsWith("/"),y=(d||f===".")&&a.endsWith("/");return!g.pathname.endsWith("/")&&(v||y)&&(g.pathname+="/"),g}const gn=l=>l.join("/").replace(/\/\/+/g,"/"),rp=l=>l.replace(/\/+$/,"").replace(/^\/*/,"/"),ap=l=>!l||l==="?"?"":l.startsWith("?")?l:"?"+l,ip=l=>!l||l==="#"?"":l.startsWith("#")?l:"#"+l;function op(l){return l!=null&&typeof l.status=="number"&&typeof l.statusText=="string"&&typeof l.internal=="boolean"&&"data"in l}const pd=["post","put","patch","delete"];new Set(pd);const sp=["get",...pd];new Set(sp);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function na(){return na=Object.assign?Object.assign.bind():function(l){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=a[o])}return l},na.apply(this,arguments)}const Os=P.createContext(null),lp=P.createContext(null),Pn=P.createContext(null),Ti=P.createContext(null),Ln=P.createContext({outlet:null,matches:[],isDataRoute:!1}),hd=P.createContext(null);function up(l,r){let{relative:a}=r===void 0?{}:r;ia()||Ue(!1);let{basename:o,navigator:u}=P.useContext(Pn),{hash:d,pathname:f,search:p}=yd(l,{relative:a}),g=f;return o!=="/"&&(g=f==="/"?o:gn([o,f])),u.createHref({pathname:g,search:p,hash:d})}function ia(){return P.useContext(Ti)!=null}function oa(){return ia()||Ue(!1),P.useContext(Ti).location}function gd(l){P.useContext(Pn).static||P.useLayoutEffect(l)}function cp(){let{isDataRoute:l}=P.useContext(Ln);return l?Np():dp()}function dp(){ia()||Ue(!1);let l=P.useContext(Os),{basename:r,future:a,navigator:o}=P.useContext(Pn),{matches:u}=P.useContext(Ln),{pathname:d}=oa(),f=JSON.stringify(fd(u,a.v7_relativeSplatPath)),p=P.useRef(!1);return gd(()=>{p.current=!0}),P.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){o.go(v);return}let k=md(v,JSON.parse(f),d,y.relative==="path");l==null&&r!=="/"&&(k.pathname=k.pathname==="/"?r:gn([r,k.pathname])),(y.replace?o.replace:o.push)(k,y.state,y)},[r,o,f,d,l])}function yd(l,r){let{relative:a}=r===void 0?{}:r,{future:o}=P.useContext(Pn),{matches:u}=P.useContext(Ln),{pathname:d}=oa(),f=JSON.stringify(fd(u,o.v7_relativeSplatPath));return P.useMemo(()=>md(l,JSON.parse(f),d,a==="path"),[l,f,d,a])}function fp(l,r){return mp(l,r)}function mp(l,r,a,o){ia()||Ue(!1);let{navigator:u}=P.useContext(Pn),{matches:d}=P.useContext(Ln),f=d[d.length-1],p=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let v=oa(),y;if(r){var k;let _=typeof r=="string"?dr(r):r;g==="/"||(k=_.pathname)!=null&&k.startsWith(g)||Ue(!1),y=_}else y=v;let w=y.pathname||"/",I=w;if(g!=="/"){let _=g.replace(/^\//,"").split("/");I="/"+w.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=zm(l,{pathname:I}),R=vp(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},p,_.params),pathname:gn([g,u.encodeLocation?u.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?g:gn([g,u.encodeLocation?u.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),d,a,o);return r&&R?P.createElement(Ti.Provider,{value:{location:na({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:hn.Pop}},R):R}function pp(){let l=kp(),r=op(l)?l.status+" "+l.statusText:l instanceof Error?l.message:JSON.stringify(l),a=l instanceof Error?l.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},r),a?P.createElement("pre",{style:u},a):null,null)}const hp=P.createElement(pp,null);class gp extends P.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,a){return a.location!==r.location||a.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:a.error,location:a.location,revalidation:r.revalidation||a.revalidation}}componentDidCatch(r,a){console.error("React Router caught the following error during render",r,a)}render(){return this.state.error!==void 0?P.createElement(Ln.Provider,{value:this.props.routeContext},P.createElement(hd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yp(l){let{routeContext:r,match:a,children:o}=l,u=P.useContext(Os);return u&&u.static&&u.staticContext&&(a.route.errorElement||a.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=a.route.id),P.createElement(Ln.Provider,{value:r},o)}function vp(l,r,a,o){var u;if(r===void 0&&(r=[]),a===void 0&&(a=null),o===void 0&&(o=null),l==null){var d;if(!a)return null;if(a.errors)l=a.matches;else if((d=o)!=null&&d.v7_partialHydration&&r.length===0&&!a.initialized&&a.matches.length>0)l=a.matches;else return null}let f=l,p=(u=a)==null?void 0:u.errors;if(p!=null){let y=f.findIndex(k=>k.route.id&&p?.[k.route.id]!==void 0);y>=0||Ue(!1),f=f.slice(0,Math.min(f.length,y+1))}let g=!1,v=-1;if(a&&o&&o.v7_partialHydration)for(let y=0;y<f.length;y++){let k=f[y];if((k.route.HydrateFallback||k.route.hydrateFallbackElement)&&(v=y),k.route.id){let{loaderData:w,errors:I}=a,j=k.route.loader&&w[k.route.id]===void 0&&(!I||I[k.route.id]===void 0);if(k.route.lazy||j){g=!0,v>=0?f=f.slice(0,v+1):f=[f[0]];break}}}return f.reduceRight((y,k,w)=>{let I,j=!1,R=null,_=null;a&&(I=p&&k.route.id?p[k.route.id]:void 0,R=k.route.errorElement||hp,g&&(v<0&&w===0?(Cp("route-fallback"),j=!0,_=null):v===w&&(j=!0,_=k.route.hydrateFallbackElement||null)));let M=r.concat(f.slice(0,w+1)),G=()=>{let U;return I?U=R:j?U=_:k.route.Component?U=P.createElement(k.route.Component,null):k.route.element?U=k.route.element:U=y,P.createElement(yp,{match:k,routeContext:{outlet:y,matches:M,isDataRoute:a!=null},children:U})};return a&&(k.route.ErrorBoundary||k.route.errorElement||w===0)?P.createElement(gp,{location:a.location,revalidation:a.revalidation,component:R,error:I,children:G(),routeContext:{outlet:null,matches:M,isDataRoute:!0}}):G()},null)}var vd=(function(l){return l.UseBlocker="useBlocker",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l})(vd||{}),xd=(function(l){return l.UseBlocker="useBlocker",l.UseLoaderData="useLoaderData",l.UseActionData="useActionData",l.UseRouteError="useRouteError",l.UseNavigation="useNavigation",l.UseRouteLoaderData="useRouteLoaderData",l.UseMatches="useMatches",l.UseRevalidator="useRevalidator",l.UseNavigateStable="useNavigate",l.UseRouteId="useRouteId",l})(xd||{});function xp(l){let r=P.useContext(Os);return r||Ue(!1),r}function wp(l){let r=P.useContext(lp);return r||Ue(!1),r}function Sp(l){let r=P.useContext(Ln);return r||Ue(!1),r}function wd(l){let r=Sp(),a=r.matches[r.matches.length-1];return a.route.id||Ue(!1),a.route.id}function kp(){var l;let r=P.useContext(hd),a=wp(),o=wd();return r!==void 0?r:(l=a.errors)==null?void 0:l[o]}function Np(){let{router:l}=xp(vd.UseNavigateStable),r=wd(xd.UseNavigateStable),a=P.useRef(!1);return gd(()=>{a.current=!0}),P.useCallback(function(u,d){d===void 0&&(d={}),a.current&&(typeof u=="number"?l.navigate(u):l.navigate(u,na({fromRouteId:r},d)))},[l,r])}const Ac={};function Cp(l,r,a){Ac[l]||(Ac[l]=!0)}function bp(l,r){l?.v7_startTransition,l?.v7_relativeSplatPath}function Is(l){Ue(!1)}function Ep(l){let{basename:r="/",children:a=null,location:o,navigationType:u=hn.Pop,navigator:d,static:f=!1,future:p}=l;ia()&&Ue(!1);let g=r.replace(/^\/*/,"/"),v=P.useMemo(()=>({basename:g,navigator:d,static:f,future:na({v7_relativeSplatPath:!1},p)}),[g,p,d,f]);typeof o=="string"&&(o=dr(o));let{pathname:y="/",search:k="",hash:w="",state:I=null,key:j="default"}=o,R=P.useMemo(()=>{let _=Ls(y,g);return _==null?null:{location:{pathname:_,search:k,hash:w,state:I,key:j},navigationType:u}},[g,y,k,w,I,j,u]);return R==null?null:P.createElement(Pn.Provider,{value:v},P.createElement(Ti.Provider,{children:a,value:R}))}function Tp(l){let{children:r,location:a}=l;return fp(_s(r),a)}new Promise(()=>{});function _s(l,r){r===void 0&&(r=[]);let a=[];return P.Children.forEach(l,(o,u)=>{if(!P.isValidElement(o))return;let d=[...r,u];if(o.type===P.Fragment){a.push.apply(a,_s(o.props.children,d));return}o.type!==Is&&Ue(!1),!o.props.index||!o.props.children||Ue(!1);let f={id:o.props.id||d.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(f.children=_s(o.props.children,d)),a.push(f)}),a}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ms(){return Ms=Object.assign?Object.assign.bind():function(l){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(l[o]=a[o])}return l},Ms.apply(this,arguments)}function jp(l,r){if(l==null)return{};var a={},o=Object.keys(l),u,d;for(d=0;d<o.length;d++)u=o[d],!(r.indexOf(u)>=0)&&(a[u]=l[u]);return a}function Ip(l){return!!(l.metaKey||l.altKey||l.ctrlKey||l.shiftKey)}function _p(l,r){return l.button===0&&(!r||r==="_self")&&!Ip(l)}const Mp=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Rp="6";try{window.__reactRouterVersion=Rp}catch{}const Pp="startTransition",Fc=jm[Pp];function Lp(l){let{basename:r,children:a,future:o,window:u}=l,d=P.useRef();d.current==null&&(d.current=Dm({window:u,v5Compat:!0}));let f=d.current,[p,g]=P.useState({action:f.action,location:f.location}),{v7_startTransition:v}=o||{},y=P.useCallback(k=>{v&&Fc?Fc(()=>g(k)):g(k)},[g,v]);return P.useLayoutEffect(()=>f.listen(y),[f,y]),P.useEffect(()=>bp(o),[o]),P.createElement(Ep,{basename:r,children:a,location:p.location,navigationType:p.action,navigator:f,future:o})}const Op=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Dp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zc=P.forwardRef(function(r,a){let{onClick:o,relative:u,reloadDocument:d,replace:f,state:p,target:g,to:v,preventScrollReset:y,viewTransition:k}=r,w=jp(r,Mp),{basename:I}=P.useContext(Pn),j,R=!1;if(typeof v=="string"&&Dp.test(v)&&(j=v,Op))try{let U=new URL(window.location.href),W=v.startsWith("//")?new URL(U.protocol+v):new URL(v),H=Ls(W.pathname,I);W.origin===U.origin&&H!=null?v=H+W.search+W.hash:R=!0}catch{}let _=up(v,{relative:u}),M=Ap(v,{replace:f,state:p,target:g,preventScrollReset:y,relative:u,viewTransition:k});function G(U){o&&o(U),U.defaultPrevented||M(U)}return P.createElement("a",Ms({},w,{href:j||_,onClick:R||d?o:G,ref:a,target:g}))});var Vc;(function(l){l.UseScrollRestoration="useScrollRestoration",l.UseSubmit="useSubmit",l.UseSubmitFetcher="useSubmitFetcher",l.UseFetcher="useFetcher",l.useViewTransitionState="useViewTransitionState"})(Vc||(Vc={}));var $c;(function(l){l.UseFetcher="useFetcher",l.UseFetchers="useFetchers",l.UseScrollRestoration="useScrollRestoration"})($c||($c={}));function Ap(l,r){let{target:a,replace:o,state:u,preventScrollReset:d,relative:f,viewTransition:p}=r===void 0?{}:r,g=cp(),v=oa(),y=yd(l,{relative:f});return P.useCallback(k=>{if(_p(k,a)){k.preventDefault();let w=o!==void 0?o:Si(v)===Si(y);g(l,{replace:w,state:u,preventScrollReset:d,relative:f,viewTransition:p})}},[v,g,y,o,u,a,l,d,f,p])}let Bc=class mn{static midiFromName(r,a=4){return new mn(r,a).midiNumber}static NOTES=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];static ENHARMONIC_MAP={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#"};_value;_octave;_name;constructor(r,a=4){if(typeof r=="number")this._value=(r%12+12)%12,this._name=mn.NOTES[this._value];else{const o=mn.ENHARMONIC_MAP[r]||r,u=mn.NOTES.indexOf(o);if(u===-1)throw new Error(`Invalid note: ${r}`);this._value=u,this._name=o}this._octave=a}get value(){return this._value}get name(){return this._name}get octave(){return this._octave}get fullName(){return`${this._name}${this._octave}`}get midiNumber(){return(this._octave+1)*12+this._value}get frequency(){return 440*Math.pow(2,(this.midiNumber-69)/12)}transpose(r){const a=(this._value+r)%12,o=Math.floor((this._value+r)/12);return new mn(a,this._octave+o)}intervalTo(r){let a=r._value-this._value;return a<0&&(a+=12),a}equals(r){return this._value===r._value}toString(){return this.fullName}static fromMidi(r){const a=Math.floor(r/12)-1,o=r%12;return new mn(o,a)}static fromFrequency(r){const o=Math.round(69+12*Math.log2(r/440));return mn.fromMidi(o)}};const Uc="tuningState",nt={setCustomTuning(l){nt.set({customTuning:l})},setStandardTuning(l){nt.set({standardTuning:l})},getCurrentTuning(){const l=nt.get();return l.tuningType==="custom"?l.customTuning:l.standardTuning},get(){const l=localStorage.getItem(Uc);if(l)try{return JSON.parse(l)}catch{}return{tuningType:"standard",instrument:"guitar",stringCount:6,customTuning:{name:"Custom",midi:[40,45,50,55,59,64],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}]},standardTuning:{name:"Standard",midi:[40,45,50,55,59,64],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}]}}},set(l){const a={...nt.get(),...l};localStorage.setItem(Uc,JSON.stringify(a))},setStringCount(l){nt.set({stringCount:l})},setInstrument(l){const r=l==="guitar"?{stringCount:6,customTuning:{name:"Custom",midi:[40,45,50,55,59,64],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}]},standardTuning:{name:"Standard",midi:[40,45,50,55,59,64],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}]}}:{stringCount:4,customTuning:{name:"Custom",midi:[40,45,50,55],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3}]},standardTuning:{name:"Standard",midi:[40,45,50,55],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3}]}};nt.set({instrument:l,...r})},setTuningType(l){nt.set({tuningType:l})}},se=l=>typeof l=="string",Zr=()=>{let l,r;const a=new Promise((o,u)=>{l=o,r=u});return a.resolve=l,a.reject=r,a},Gc=l=>l==null?"":""+l,Fp=(l,r,a)=>{l.forEach(o=>{r[o]&&(a[o]=r[o])})},zp=/###/g,Hc=l=>l&&l.indexOf("###")>-1?l.replace(zp,"."):l,Kc=l=>!l||se(l),ea=(l,r,a)=>{const o=se(r)?r.split("."):r;let u=0;for(;u<o.length-1;){if(Kc(l))return{};const d=Hc(o[u]);!l[d]&&a&&(l[d]=new a),Object.prototype.hasOwnProperty.call(l,d)?l=l[d]:l={},++u}return Kc(l)?{}:{obj:l,k:Hc(o[u])}},Wc=(l,r,a)=>{const{obj:o,k:u}=ea(l,r,Object);if(o!==void 0||r.length===1){o[u]=a;return}let d=r[r.length-1],f=r.slice(0,r.length-1),p=ea(l,f,Object);for(;p.obj===void 0&&f.length;)d=`${f[f.length-1]}.${d}`,f=f.slice(0,f.length-1),p=ea(l,f,Object),p&&p.obj&&typeof p.obj[`${p.k}.${d}`]<"u"&&(p.obj=void 0);p.obj[`${p.k}.${d}`]=a},Vp=(l,r,a,o)=>{const{obj:u,k:d}=ea(l,r,Object);u[d]=u[d]||[],u[d].push(a)},ki=(l,r)=>{const{obj:a,k:o}=ea(l,r);if(a)return a[o]},$p=(l,r,a)=>{const o=ki(l,a);return o!==void 0?o:ki(r,a)},Sd=(l,r,a)=>{for(const o in r)o!=="__proto__"&&o!=="constructor"&&(o in l?se(l[o])||l[o]instanceof String||se(r[o])||r[o]instanceof String?a&&(l[o]=r[o]):Sd(l[o],r[o],a):l[o]=r[o]);return l},lr=l=>l.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Bp={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Up=l=>se(l)?l.replace(/[&<>"'\/]/g,r=>Bp[r]):l;class Gp{constructor(r){this.capacity=r,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(r){const a=this.regExpMap.get(r);if(a!==void 0)return a;const o=new RegExp(r);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(r,o),this.regExpQueue.push(r),o}}const Hp=[" ",",","?","!",";"],Kp=new Gp(20),Wp=(l,r,a)=>{r=r||"",a=a||"";const o=Hp.filter(f=>r.indexOf(f)<0&&a.indexOf(f)<0);if(o.length===0)return!0;const u=Kp.getRegExp(`(${o.map(f=>f==="?"?"\\?":f).join("|")})`);let d=!u.test(l);if(!d){const f=l.indexOf(a);f>0&&!u.test(l.substring(0,f))&&(d=!0)}return d},Rs=function(l,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!l)return;if(l[r])return l[r];const o=r.split(a);let u=l;for(let d=0;d<o.length;){if(!u||typeof u!="object")return;let f,p="";for(let g=d;g<o.length;++g)if(g!==d&&(p+=a),p+=o[g],f=u[p],f!==void 0){if(["string","number","boolean"].indexOf(typeof f)>-1&&g<o.length-1)continue;d+=g-d+1;break}u=f}return u},Ni=l=>l&&l.replace("_","-"),Qp={type:"logger",log(l){this.output("log",l)},warn(l){this.output("warn",l)},error(l){this.output("error",l)},output(l,r){console&&console[l]&&console[l].apply(console,r)}};class Ci{constructor(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(r,a)}init(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=a.prefix||"i18next:",this.logger=r||Qp,this.options=a,this.debug=a.debug}log(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"log","",!0)}warn(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"warn","",!0)}error(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"error","")}deprecate(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return this.forward(a,"warn","WARNING DEPRECATED: ",!0)}forward(r,a,o,u){return u&&!this.debug?null:(se(r[0])&&(r[0]=`${o}${this.prefix} ${r[0]}`),this.logger[a](r))}create(r){return new Ci(this.logger,{prefix:`${this.prefix}:${r}:`,...this.options})}clone(r){return r=r||this.options,r.prefix=r.prefix||this.prefix,new Ci(this.logger,r)}}var Dt=new Ci;class ji{constructor(){this.observers={}}on(r,a){return r.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const u=this.observers[o].get(a)||0;this.observers[o].set(a,u+1)}),this}off(r,a){if(this.observers[r]){if(!a){delete this.observers[r];return}this.observers[r].delete(a)}}emit(r){for(var a=arguments.length,o=new Array(a>1?a-1:0),u=1;u<a;u++)o[u-1]=arguments[u];this.observers[r]&&Array.from(this.observers[r].entries()).forEach(f=>{let[p,g]=f;for(let v=0;v<g;v++)p(...o)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(f=>{let[p,g]=f;for(let v=0;v<g;v++)p.apply(p,[r,...o])})}}class Qc extends ji{constructor(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=r||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(r){this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}removeNamespaces(r){const a=this.options.ns.indexOf(r);a>-1&&this.options.ns.splice(a,1)}getResource(r,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const d=u.keySeparator!==void 0?u.keySeparator:this.options.keySeparator,f=u.ignoreJSONStructure!==void 0?u.ignoreJSONStructure:this.options.ignoreJSONStructure;let p;r.indexOf(".")>-1?p=r.split("."):(p=[r,a],o&&(Array.isArray(o)?p.push(...o):se(o)&&d?p.push(...o.split(d)):p.push(o)));const g=ki(this.data,p);return!g&&!a&&!o&&r.indexOf(".")>-1&&(r=p[0],a=p[1],o=p.slice(2).join(".")),g||!f||!se(o)?g:Rs(this.data&&this.data[r]&&this.data[r][a],o,d)}addResource(r,a,o,u){let d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const f=d.keySeparator!==void 0?d.keySeparator:this.options.keySeparator;let p=[r,a];o&&(p=p.concat(f?o.split(f):o)),r.indexOf(".")>-1&&(p=r.split("."),u=a,a=p[1]),this.addNamespaces(a),Wc(this.data,p,u),d.silent||this.emit("added",r,a,o,u)}addResources(r,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const d in o)(se(o[d])||Array.isArray(o[d]))&&this.addResource(r,a,d,o[d],{silent:!0});u.silent||this.emit("added",r,a,o)}addResourceBundle(r,a,o,u,d){let f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},p=[r,a];r.indexOf(".")>-1&&(p=r.split("."),u=o,o=a,a=p[1]),this.addNamespaces(a);let g=ki(this.data,p)||{};f.skipCopy||(o=JSON.parse(JSON.stringify(o))),u?Sd(g,o,d):g={...g,...o},Wc(this.data,p,g),f.silent||this.emit("added",r,a,o)}removeResourceBundle(r,a){this.hasResourceBundle(r,a)&&delete this.data[r][a],this.removeNamespaces(a),this.emit("removed",r,a)}hasResourceBundle(r,a){return this.getResource(r,a)!==void 0}getResourceBundle(r,a){return a||(a=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(r,a)}:this.getResource(r,a)}getDataByLanguage(r){return this.data[r]}hasLanguageSomeTranslations(r){const a=this.getDataByLanguage(r);return!!(a&&Object.keys(a)||[]).find(u=>a[u]&&Object.keys(a[u]).length>0)}toJSON(){return this.data}}var kd={processors:{},addPostProcessor(l){this.processors[l.name]=l},handle(l,r,a,o,u){return l.forEach(d=>{this.processors[d]&&(r=this.processors[d].process(r,a,o,u))}),r}};const qc={};class bi extends ji{constructor(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Fp(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],r,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Dt.create("translator")}changeLanguage(r){r&&(this.language=r)}exists(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(r==null)return!1;const o=this.resolve(r,a);return o&&o.res!==void 0}extractFromKey(r,a){let o=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let d=a.ns||this.options.defaultNS||[];const f=o&&r.indexOf(o)>-1,p=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!Wp(r,o,u);if(f&&!p){const g=r.match(this.interpolator.nestingRegexp);if(g&&g.length>0)return{key:r,namespaces:se(d)?[d]:d};const v=r.split(o);(o!==u||o===u&&this.options.ns.indexOf(v[0])>-1)&&(d=v.shift()),r=v.join(u)}return{key:r,namespaces:se(d)?[d]:d}}translate(r,a,o){if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),r==null)return"";Array.isArray(r)||(r=[String(r)]);const u=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,d=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:f,namespaces:p}=this.extractFromKey(r[r.length-1],a),g=p[p.length-1],v=a.lng||this.language,y=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(v&&v.toLowerCase()==="cimode"){if(y){const W=a.nsSeparator||this.options.nsSeparator;return u?{res:`${g}${W}${f}`,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${W}${f}`}return u?{res:f,usedKey:f,exactUsedKey:f,usedLng:v,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:f}const k=this.resolve(r,a);let w=k&&k.res;const I=k&&k.usedKey||f,j=k&&k.exactUsedKey||f,R=Object.prototype.toString.apply(w),_=["[object Number]","[object Function]","[object RegExp]"],M=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,G=!this.i18nFormat||this.i18nFormat.handleAsObject,U=!se(w)&&typeof w!="boolean"&&typeof w!="number";if(G&&w&&U&&_.indexOf(R)<0&&!(se(M)&&Array.isArray(w))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const W=this.options.returnedObjectHandler?this.options.returnedObjectHandler(I,w,{...a,ns:p}):`key '${f} (${this.language})' returned an object instead of string.`;return u?(k.res=W,k.usedParams=this.getUsedParamsDetails(a),k):W}if(d){const W=Array.isArray(w),H=W?[]:{},ce=W?j:I;for(const ae in w)if(Object.prototype.hasOwnProperty.call(w,ae)){const Ne=`${ce}${d}${ae}`;H[ae]=this.translate(Ne,{...a,joinArrays:!1,ns:p}),H[ae]===Ne&&(H[ae]=w[ae])}w=H}}else if(G&&se(M)&&Array.isArray(w))w=w.join(M),w&&(w=this.extendTranslation(w,r,a,o));else{let W=!1,H=!1;const ce=a.count!==void 0&&!se(a.count),ae=bi.hasDefaultValue(a),Ne=ce?this.pluralResolver.getSuffix(v,a.count,a):"",Ge=a.ordinal&&ce?this.pluralResolver.getSuffix(v,a.count,{ordinal:!1}):"",Le=ce&&!a.ordinal&&a.count===0&&this.pluralResolver.shouldUseIntlApi(),te=Le&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${Ne}`]||a[`defaultValue${Ge}`]||a.defaultValue;!this.isValidLookup(w)&&ae&&(W=!0,w=te),this.isValidLookup(w)||(H=!0,w=f);const oe=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:w,de=ae&&te!==w&&this.options.updateMissing;if(H||W||de){if(this.logger.log(de?"updateKey":"missingKey",v,g,f,de?te:w),d){const z=this.resolve(f,{...a,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const ge=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ge&&ge[0])for(let z=0;z<ge.length;z++)fe.push(ge[z]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(a.lng||this.language):fe.push(a.lng||this.language);const xe=(z,q,B)=>{const C=ae&&B!==w?B:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(z,g,q,C,de,a):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(z,g,q,C,de,a),this.emit("missingKey",z,g,q,w)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ce?fe.forEach(z=>{const q=this.pluralResolver.getSuffixes(z,a);Le&&a[`defaultValue${this.options.pluralSeparator}zero`]&&q.indexOf(`${this.options.pluralSeparator}zero`)<0&&q.push(`${this.options.pluralSeparator}zero`),q.forEach(B=>{xe([z],f+B,a[`defaultValue${B}`]||te)})}):xe(fe,f,te))}w=this.extendTranslation(w,r,a,k,o),H&&w===f&&this.options.appendNamespaceToMissingKey&&(w=`${g}:${f}`),(H||W)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}:${f}`:f,W?w:void 0):w=this.options.parseMissingKeyHandler(w))}return u?(k.res=w,k.usedParams=this.getUsedParamsDetails(a),k):w}extendTranslation(r,a,o,u,d){var f=this;if(this.i18nFormat&&this.i18nFormat.parse)r=this.i18nFormat.parse(r,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||u.usedLng,u.usedNS,u.usedKey,{resolved:u});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const v=se(r)&&(o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(v){const w=r.match(this.interpolator.nestingRegexp);y=w&&w.length}let k=o.replace&&!se(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(k={...this.options.interpolation.defaultVariables,...k}),r=this.interpolator.interpolate(r,k,o.lng||this.language||u.usedLng,o),v){const w=r.match(this.interpolator.nestingRegexp),I=w&&w.length;y<I&&(o.nest=!1)}!o.lng&&this.options.compatibilityAPI!=="v1"&&u&&u.res&&(o.lng=this.language||u.usedLng),o.nest!==!1&&(r=this.interpolator.nest(r,function(){for(var w=arguments.length,I=new Array(w),j=0;j<w;j++)I[j]=arguments[j];return d&&d[0]===I[0]&&!o.context?(f.logger.warn(`It seems you are nesting recursively key: ${I[0]} in key: ${a[0]}`),null):f.translate(...I,a)},o)),o.interpolation&&this.interpolator.reset()}const p=o.postProcess||this.options.postProcess,g=se(p)?[p]:p;return r!=null&&g&&g.length&&o.applyPostProcessor!==!1&&(r=kd.handle(g,r,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...u,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),r}resolve(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o,u,d,f,p;return se(r)&&(r=[r]),r.forEach(g=>{if(this.isValidLookup(o))return;const v=this.extractFromKey(g,a),y=v.key;u=y;let k=v.namespaces;this.options.fallbackNS&&(k=k.concat(this.options.fallbackNS));const w=a.count!==void 0&&!se(a.count),I=w&&!a.ordinal&&a.count===0&&this.pluralResolver.shouldUseIntlApi(),j=a.context!==void 0&&(se(a.context)||typeof a.context=="number")&&a.context!=="",R=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);k.forEach(_=>{this.isValidLookup(o)||(p=_,!qc[`${R[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(p)&&(qc[`${R[0]}-${_}`]=!0,this.logger.warn(`key "${u}" for languages "${R.join(", ")}" won't get resolved as namespace "${p}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),R.forEach(M=>{if(this.isValidLookup(o))return;f=M;const G=[y];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(G,y,M,_,a);else{let W;w&&(W=this.pluralResolver.getSuffix(M,a.count,a));const H=`${this.options.pluralSeparator}zero`,ce=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(G.push(y+W),a.ordinal&&W.indexOf(ce)===0&&G.push(y+W.replace(ce,this.options.pluralSeparator)),I&&G.push(y+H)),j){const ae=`${y}${this.options.contextSeparator}${a.context}`;G.push(ae),w&&(G.push(ae+W),a.ordinal&&W.indexOf(ce)===0&&G.push(ae+W.replace(ce,this.options.pluralSeparator)),I&&G.push(ae+H))}}let U;for(;U=G.pop();)this.isValidLookup(o)||(d=U,o=this.getResource(M,_,U,a))}))})}),{res:o,usedKey:u,exactUsedKey:d,usedLng:f,usedNS:p}}isValidLookup(r){return r!==void 0&&!(!this.options.returnNull&&r===null)&&!(!this.options.returnEmptyString&&r==="")}getResource(r,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(r,a,o,u):this.resourceStore.getResource(r,a,o,u)}getUsedParamsDetails(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=r.replace&&!se(r.replace);let u=o?r.replace:r;if(o&&typeof r.count<"u"&&(u.count=r.count),this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),!o){u={...u};for(const d of a)delete u[d]}return u}static hasDefaultValue(r){const a="defaultValue";for(const o in r)if(Object.prototype.hasOwnProperty.call(r,o)&&a===o.substring(0,a.length)&&r[o]!==void 0)return!0;return!1}}const bs=l=>l.charAt(0).toUpperCase()+l.slice(1);class Jc{constructor(r){this.options=r,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Dt.create("languageUtils")}getScriptPartFromCode(r){if(r=Ni(r),!r||r.indexOf("-")<0)return null;const a=r.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(r){if(r=Ni(r),!r||r.indexOf("-")<0)return r;const a=r.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(r){if(se(r)&&r.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let u=Intl.getCanonicalLocales(r)[0];if(u&&this.options.lowerCaseLng&&(u=u.toLowerCase()),u)return u}catch{}const a=["hans","hant","latn","cyrl","cans","mong","arab"];let o=r.split("-");return this.options.lowerCaseLng?o=o.map(u=>u.toLowerCase()):o.length===2?(o[0]=o[0].toLowerCase(),o[1]=o[1].toUpperCase(),a.indexOf(o[1].toLowerCase())>-1&&(o[1]=bs(o[1].toLowerCase()))):o.length===3&&(o[0]=o[0].toLowerCase(),o[1].length===2&&(o[1]=o[1].toUpperCase()),o[0]!=="sgn"&&o[2].length===2&&(o[2]=o[2].toUpperCase()),a.indexOf(o[1].toLowerCase())>-1&&(o[1]=bs(o[1].toLowerCase())),a.indexOf(o[2].toLowerCase())>-1&&(o[2]=bs(o[2].toLowerCase()))),o.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?r.toLowerCase():r}isSupportedCode(r){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(r=this.getLanguagePartFromCode(r)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(r)>-1}getBestMatchFromCodes(r){if(!r)return null;let a;return r.forEach(o=>{if(a)return;const u=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(u))&&(a=u)}),!a&&this.options.supportedLngs&&r.forEach(o=>{if(a)return;const u=this.getLanguagePartFromCode(o);if(this.isSupportedCode(u))return a=u;a=this.options.supportedLngs.find(d=>{if(d===u)return d;if(!(d.indexOf("-")<0&&u.indexOf("-")<0)&&(d.indexOf("-")>0&&u.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===u||d.indexOf(u)===0&&u.length>1))return d})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(r,a){if(!r)return[];if(typeof r=="function"&&(r=r(a)),se(r)&&(r=[r]),Array.isArray(r))return r;if(!a)return r.default||[];let o=r[a];return o||(o=r[this.getScriptPartFromCode(a)]),o||(o=r[this.formatLanguageCode(a)]),o||(o=r[this.getLanguagePartFromCode(a)]),o||(o=r.default),o||[]}toResolveHierarchy(r,a){const o=this.getFallbackCodes(a||this.options.fallbackLng||[],r),u=[],d=f=>{f&&(this.isSupportedCode(f)?u.push(f):this.logger.warn(`rejecting language code not found in supportedLngs: ${f}`))};return se(r)&&(r.indexOf("-")>-1||r.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&d(this.formatLanguageCode(r)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&d(this.getScriptPartFromCode(r)),this.options.load!=="currentOnly"&&d(this.getLanguagePartFromCode(r))):se(r)&&d(this.formatLanguageCode(r)),o.forEach(f=>{u.indexOf(f)<0&&d(this.formatLanguageCode(f))}),u}}let qp=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Jp={1:l=>+(l>1),2:l=>+(l!=1),3:l=>0,4:l=>l%10==1&&l%100!=11?0:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?1:2,5:l=>l==0?0:l==1?1:l==2?2:l%100>=3&&l%100<=10?3:l%100>=11?4:5,6:l=>l==1?0:l>=2&&l<=4?1:2,7:l=>l==1?0:l%10>=2&&l%10<=4&&(l%100<10||l%100>=20)?1:2,8:l=>l==1?0:l==2?1:l!=8&&l!=11?2:3,9:l=>+(l>=2),10:l=>l==1?0:l==2?1:l<7?2:l<11?3:4,11:l=>l==1||l==11?0:l==2||l==12?1:l>2&&l<20?2:3,12:l=>+(l%10!=1||l%100==11),13:l=>+(l!==0),14:l=>l==1?0:l==2?1:l==3?2:3,15:l=>l%10==1&&l%100!=11?0:l%10>=2&&(l%100<10||l%100>=20)?1:2,16:l=>l%10==1&&l%100!=11?0:l!==0?1:2,17:l=>l==1||l%10==1&&l%100!=11?0:1,18:l=>l==0?0:l==1?1:2,19:l=>l==1?0:l==0||l%100>1&&l%100<11?1:l%100>10&&l%100<20?2:3,20:l=>l==1?0:l==0||l%100>0&&l%100<20?1:2,21:l=>l%100==1?1:l%100==2?2:l%100==3||l%100==4?3:0,22:l=>l==1?0:l==2?1:(l<0||l>10)&&l%10==0?2:3};const Xp=["v1","v2","v3"],Yp=["v4"],Xc={zero:0,one:1,two:2,few:3,many:4,other:5},Zp=()=>{const l={};return qp.forEach(r=>{r.lngs.forEach(a=>{l[a]={numbers:r.nr,plurals:Jp[r.fc]}})}),l};class eh{constructor(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=r,this.options=a,this.logger=Dt.create("pluralResolver"),(!this.options.compatibilityJSON||Yp.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=Zp(),this.pluralRulesCache={}}addRule(r,a){this.rules[r]=a}clearCache(){this.pluralRulesCache={}}getRule(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const o=Ni(r==="dev"?"en":r),u=a.ordinal?"ordinal":"cardinal",d=JSON.stringify({cleanedCode:o,type:u});if(d in this.pluralRulesCache)return this.pluralRulesCache[d];let f;try{f=new Intl.PluralRules(o,{type:u})}catch{if(!r.match(/-|_/))return;const g=this.languageUtils.getLanguagePartFromCode(r);f=this.getRule(g,a)}return this.pluralRulesCache[d]=f,f}return this.rules[r]||this.rules[this.languageUtils.getLanguagePartFromCode(r)]}needsPlural(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(r,a);return this.shouldUseIntlApi()?o&&o.resolvedOptions().pluralCategories.length>1:o&&o.numbers.length>1}getPluralFormsOfKey(r,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(r,o).map(u=>`${a}${u}`)}getSuffixes(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const o=this.getRule(r,a);return o?this.shouldUseIntlApi()?o.resolvedOptions().pluralCategories.sort((u,d)=>Xc[u]-Xc[d]).map(u=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${u}`):o.numbers.map(u=>this.getSuffix(r,u,a)):[]}getSuffix(r,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const u=this.getRule(r,o);return u?this.shouldUseIntlApi()?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${u.select(a)}`:this.getSuffixRetroCompatible(u,a):(this.logger.warn(`no plural rule found for: ${r}`),"")}getSuffixRetroCompatible(r,a){const o=r.noAbs?r.plurals(a):r.plurals(Math.abs(a));let u=r.numbers[o];this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1&&(u===2?u="plural":u===1&&(u=""));const d=()=>this.options.prepend&&u.toString()?this.options.prepend+u.toString():u.toString();return this.options.compatibilityJSON==="v1"?u===1?"":typeof u=="number"?`_plural_${u.toString()}`:d():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&r.numbers.length===2&&r.numbers[0]===1?d():this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString()}shouldUseIntlApi(){return!Xp.includes(this.options.compatibilityJSON)}}const Yc=function(l,r,a){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",u=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,d=$p(l,r,a);return!d&&u&&se(a)&&(d=Rs(l,a,o),d===void 0&&(d=Rs(r,a,o))),d},Es=l=>l.replace(/\$/g,"$$$$");class th{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dt.create("interpolator"),this.options=r,this.format=r.interpolation&&r.interpolation.format||(a=>a),this.init(r)}init(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};r.interpolation||(r.interpolation={escapeValue:!0});const{escape:a,escapeValue:o,useRawValueToEscape:u,prefix:d,prefixEscaped:f,suffix:p,suffixEscaped:g,formatSeparator:v,unescapeSuffix:y,unescapePrefix:k,nestingPrefix:w,nestingPrefixEscaped:I,nestingSuffix:j,nestingSuffixEscaped:R,nestingOptionsSeparator:_,maxReplaces:M,alwaysFormat:G}=r.interpolation;this.escape=a!==void 0?a:Up,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=u!==void 0?u:!1,this.prefix=d?lr(d):f||"{{",this.suffix=p?lr(p):g||"}}",this.formatSeparator=v||",",this.unescapePrefix=y?"":k||"-",this.unescapeSuffix=this.unescapePrefix?"":y||"",this.nestingPrefix=w?lr(w):I||lr("$t("),this.nestingSuffix=j?lr(j):R||lr(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=M||1e3,this.alwaysFormat=G!==void 0?G:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const r=(a,o)=>a&&a.source===o?(a.lastIndex=0,a):new RegExp(o,"g");this.regexp=r(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=r(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=r(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(r,a,o,u){let d,f,p;const g=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},v=I=>{if(I.indexOf(this.formatSeparator)<0){const M=Yc(a,g,I,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,o,{...u,...a,interpolationkey:I}):M}const j=I.split(this.formatSeparator),R=j.shift().trim(),_=j.join(this.formatSeparator).trim();return this.format(Yc(a,g,R,this.options.keySeparator,this.options.ignoreJSONStructure),_,o,{...u,...a,interpolationkey:R})};this.resetRegExp();const y=u&&u.missingInterpolationHandler||this.options.missingInterpolationHandler,k=u&&u.interpolation&&u.interpolation.skipOnVariables!==void 0?u.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:I=>Es(I)},{regex:this.regexp,safeValue:I=>this.escapeValue?Es(this.escape(I)):Es(I)}].forEach(I=>{for(p=0;d=I.regex.exec(r);){const j=d[1].trim();if(f=v(j),f===void 0)if(typeof y=="function"){const _=y(r,d,u);f=se(_)?_:""}else if(u&&Object.prototype.hasOwnProperty.call(u,j))f="";else if(k){f=d[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${r}`),f="";else!se(f)&&!this.useRawValueToEscape&&(f=Gc(f));const R=I.safeValue(f);if(r=r.replace(d[0],R),k?(I.regex.lastIndex+=f.length,I.regex.lastIndex-=d[0].length):I.regex.lastIndex=0,p++,p>=this.maxReplaces)break}}),r}nest(r,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u,d,f;const p=(g,v)=>{const y=this.nestingOptionsSeparator;if(g.indexOf(y)<0)return g;const k=g.split(new RegExp(`${y}[ ]*{`));let w=`{${k[1]}`;g=k[0],w=this.interpolate(w,f);const I=w.match(/'/g),j=w.match(/"/g);(I&&I.length%2===0&&!j||j.length%2!==0)&&(w=w.replace(/'/g,'"'));try{f=JSON.parse(w),v&&(f={...v,...f})}catch(R){return this.logger.warn(`failed parsing options string in nesting for key ${g}`,R),`${g}${y}${w}`}return f.defaultValue&&f.defaultValue.indexOf(this.prefix)>-1&&delete f.defaultValue,g};for(;u=this.nestingRegexp.exec(r);){let g=[];f={...o},f=f.replace&&!se(f.replace)?f.replace:f,f.applyPostProcessor=!1,delete f.defaultValue;let v=!1;if(u[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(u[1])){const y=u[1].split(this.formatSeparator).map(k=>k.trim());u[1]=y.shift(),g=y,v=!0}if(d=a(p.call(this,u[1].trim(),f),f),d&&u[0]===r&&!se(d))return d;se(d)||(d=Gc(d)),d||(this.logger.warn(`missed to resolve ${u[1]} for nesting ${r}`),d=""),v&&(d=g.reduce((y,k)=>this.format(y,k,o.lng,{...o,interpolationkey:u[1].trim()}),d.trim())),r=r.replace(u[0],d),this.regexp.lastIndex=0}return r}}const nh=l=>{let r=l.toLowerCase().trim();const a={};if(l.indexOf("(")>-1){const o=l.split("(");r=o[0].toLowerCase().trim();const u=o[1].substring(0,o[1].length-1);r==="currency"&&u.indexOf(":")<0?a.currency||(a.currency=u.trim()):r==="relativetime"&&u.indexOf(":")<0?a.range||(a.range=u.trim()):u.split(";").forEach(f=>{if(f){const[p,...g]=f.split(":"),v=g.join(":").trim().replace(/^'+|'+$/g,""),y=p.trim();a[y]||(a[y]=v),v==="false"&&(a[y]=!1),v==="true"&&(a[y]=!0),isNaN(v)||(a[y]=parseInt(v,10))}})}return{formatName:r,formatOptions:a}},ur=l=>{const r={};return(a,o,u)=>{let d=u;u&&u.interpolationkey&&u.formatParams&&u.formatParams[u.interpolationkey]&&u[u.interpolationkey]&&(d={...d,[u.interpolationkey]:void 0});const f=o+JSON.stringify(d);let p=r[f];return p||(p=l(Ni(o),u),r[f]=p),p(a)}};class rh{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Dt.create("formatter"),this.options=r,this.formats={number:ur((a,o)=>{const u=new Intl.NumberFormat(a,{...o});return d=>u.format(d)}),currency:ur((a,o)=>{const u=new Intl.NumberFormat(a,{...o,style:"currency"});return d=>u.format(d)}),datetime:ur((a,o)=>{const u=new Intl.DateTimeFormat(a,{...o});return d=>u.format(d)}),relativetime:ur((a,o)=>{const u=new Intl.RelativeTimeFormat(a,{...o});return d=>u.format(d,o.range||"day")}),list:ur((a,o)=>{const u=new Intl.ListFormat(a,{...o});return d=>u.format(d)})},this.init(r)}init(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=a.interpolation.formatSeparator||","}add(r,a){this.formats[r.toLowerCase().trim()]=a}addCached(r,a){this.formats[r.toLowerCase().trim()]=ur(a)}format(r,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const d=a.split(this.formatSeparator);if(d.length>1&&d[0].indexOf("(")>1&&d[0].indexOf(")")<0&&d.find(p=>p.indexOf(")")>-1)){const p=d.findIndex(g=>g.indexOf(")")>-1);d[0]=[d[0],...d.splice(1,p)].join(this.formatSeparator)}return d.reduce((p,g)=>{const{formatName:v,formatOptions:y}=nh(g);if(this.formats[v]){let k=p;try{const w=u&&u.formatParams&&u.formatParams[u.interpolationkey]||{},I=w.locale||w.lng||u.locale||u.lng||o;k=this.formats[v](p,I,{...y,...u,...w})}catch(w){this.logger.warn(w)}return k}else this.logger.warn(`there was no format function for ${v}`);return p},r)}}const ah=(l,r)=>{l.pending[r]!==void 0&&(delete l.pending[r],l.pendingCount--)};class ih extends ji{constructor(r,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=r,this.store=a,this.services=o,this.languageUtils=o.languageUtils,this.options=u,this.logger=Dt.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=u.maxParallelReads||10,this.readingCalls=0,this.maxRetries=u.maxRetries>=0?u.maxRetries:5,this.retryTimeout=u.retryTimeout>=1?u.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(o,u.backend,u)}queueLoad(r,a,o,u){const d={},f={},p={},g={};return r.forEach(v=>{let y=!0;a.forEach(k=>{const w=`${v}|${k}`;!o.reload&&this.store.hasResourceBundle(v,k)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?f[w]===void 0&&(f[w]=!0):(this.state[w]=1,y=!1,f[w]===void 0&&(f[w]=!0),d[w]===void 0&&(d[w]=!0),g[k]===void 0&&(g[k]=!0)))}),y||(p[v]=!0)}),(Object.keys(d).length||Object.keys(f).length)&&this.queue.push({pending:f,pendingCount:Object.keys(f).length,loaded:{},errors:[],callback:u}),{toLoad:Object.keys(d),pending:Object.keys(f),toLoadLanguages:Object.keys(p),toLoadNamespaces:Object.keys(g)}}loaded(r,a,o){const u=r.split("|"),d=u[0],f=u[1];a&&this.emit("failedLoading",d,f,a),!a&&o&&this.store.addResourceBundle(d,f,o,void 0,void 0,{skipCopy:!0}),this.state[r]=a?-1:2,a&&o&&(this.state[r]=0);const p={};this.queue.forEach(g=>{Vp(g.loaded,[d],f),ah(g,r),a&&g.errors.push(a),g.pendingCount===0&&!g.done&&(Object.keys(g.loaded).forEach(v=>{p[v]||(p[v]={});const y=g.loaded[v];y.length&&y.forEach(k=>{p[v][k]===void 0&&(p[v][k]=!0)})}),g.done=!0,g.errors.length?g.callback(g.errors):g.callback())}),this.emit("loaded",p),this.queue=this.queue.filter(g=>!g.done)}read(r,a,o){let u=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,d=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,f=arguments.length>5?arguments[5]:void 0;if(!r.length)return f(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:r,ns:a,fcName:o,tried:u,wait:d,callback:f});return}this.readingCalls++;const p=(v,y)=>{if(this.readingCalls--,this.waitingReads.length>0){const k=this.waitingReads.shift();this.read(k.lng,k.ns,k.fcName,k.tried,k.wait,k.callback)}if(v&&y&&u<this.maxRetries){setTimeout(()=>{this.read.call(this,r,a,o,u+1,d*2,f)},d);return}f(v,y)},g=this.backend[o].bind(this.backend);if(g.length===2){try{const v=g(r,a);v&&typeof v.then=="function"?v.then(y=>p(null,y)).catch(p):p(null,v)}catch(v){p(v)}return}return g(r,a,p)}prepareLoading(r,a){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),u&&u();se(r)&&(r=this.languageUtils.toResolveHierarchy(r)),se(a)&&(a=[a]);const d=this.queueLoad(r,a,o,u);if(!d.toLoad.length)return d.pending.length||u(),null;d.toLoad.forEach(f=>{this.loadOne(f)})}load(r,a,o){this.prepareLoading(r,a,{},o)}reload(r,a,o){this.prepareLoading(r,a,{reload:!0},o)}loadOne(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const o=r.split("|"),u=o[0],d=o[1];this.read(u,d,"read",void 0,void 0,(f,p)=>{f&&this.logger.warn(`${a}loading namespace ${d} for language ${u} failed`,f),!f&&p&&this.logger.log(`${a}loaded namespace ${d} for language ${u}`,p),this.loaded(r,f,p)})}saveMissing(r,a,o,u,d){let f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},p=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${o}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend&&this.backend.create){const g={...f,isUpdate:d},v=this.backend.create.bind(this.backend);if(v.length<6)try{let y;v.length===5?y=v(r,a,o,u,g):y=v(r,a,o,u),y&&typeof y.then=="function"?y.then(k=>p(null,k)).catch(p):p(null,y)}catch(y){p(y)}else v(r,a,o,u,p,g)}!r||!r[0]||this.store.addResource(r[0],a,o,u)}}}const Zc=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:l=>{let r={};if(typeof l[1]=="object"&&(r=l[1]),se(l[1])&&(r.defaultValue=l[1]),se(l[2])&&(r.tDescription=l[2]),typeof l[2]=="object"||typeof l[3]=="object"){const a=l[3]||l[2];Object.keys(a).forEach(o=>{r[o]=a[o]})}return r},interpolation:{escapeValue:!0,format:l=>l,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ed=l=>(se(l.ns)&&(l.ns=[l.ns]),se(l.fallbackLng)&&(l.fallbackLng=[l.fallbackLng]),se(l.fallbackNS)&&(l.fallbackNS=[l.fallbackNS]),l.supportedLngs&&l.supportedLngs.indexOf("cimode")<0&&(l.supportedLngs=l.supportedLngs.concat(["cimode"])),l),yi=()=>{},oh=l=>{Object.getOwnPropertyNames(Object.getPrototypeOf(l)).forEach(a=>{typeof l[a]=="function"&&(l[a]=l[a].bind(l))})};class ra extends ji{constructor(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ed(r),this.services={},this.logger=Dt,this.modules={external:[]},oh(this),a&&!this.isInitialized&&!r.isClone){if(!this.options.initImmediate)return this.init(r,a),this;setTimeout(()=>{this.init(r,a)},0)}}init(){var r=this;let a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof a=="function"&&(o=a,a={}),!a.defaultNS&&a.defaultNS!==!1&&a.ns&&(se(a.ns)?a.defaultNS=a.ns:a.ns.indexOf("translation")<0&&(a.defaultNS=a.ns[0]));const u=Zc();this.options={...u,...this.options,...ed(a)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...u.interpolation,...this.options.interpolation}),a.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=a.keySeparator),a.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=a.nsSeparator);const d=y=>y?typeof y=="function"?new y:y:null;if(!this.options.isClone){this.modules.logger?Dt.init(d(this.modules.logger),this.options):Dt.init(null,this.options);let y;this.modules.formatter?y=this.modules.formatter:typeof Intl<"u"&&(y=rh);const k=new Jc(this.options);this.store=new Qc(this.options.resources,this.options);const w=this.services;w.logger=Dt,w.resourceStore=this.store,w.languageUtils=k,w.pluralResolver=new eh(k,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),y&&(!this.options.interpolation.format||this.options.interpolation.format===u.interpolation.format)&&(w.formatter=d(y),w.formatter.init(w,this.options),this.options.interpolation.format=w.formatter.format.bind(w.formatter)),w.interpolator=new th(this.options),w.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},w.backendConnector=new ih(d(this.modules.backend),w.resourceStore,w,this.options),w.backendConnector.on("*",function(I){for(var j=arguments.length,R=new Array(j>1?j-1:0),_=1;_<j;_++)R[_-1]=arguments[_];r.emit(I,...R)}),this.modules.languageDetector&&(w.languageDetector=d(this.modules.languageDetector),w.languageDetector.init&&w.languageDetector.init(w,this.options.detection,this.options)),this.modules.i18nFormat&&(w.i18nFormat=d(this.modules.i18nFormat),w.i18nFormat.init&&w.i18nFormat.init(this)),this.translator=new bi(this.services,this.options),this.translator.on("*",function(I){for(var j=arguments.length,R=new Array(j>1?j-1:0),_=1;_<j;_++)R[_-1]=arguments[_];r.emit(I,...R)}),this.modules.external.forEach(I=>{I.init&&I.init(this)})}if(this.format=this.options.interpolation.format,o||(o=yi),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const y=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);y.length>0&&y[0]!=="dev"&&(this.options.lng=y[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(y=>{this[y]=function(){return r.store[y](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(y=>{this[y]=function(){return r.store[y](...arguments),r}});const g=Zr(),v=()=>{const y=(k,w)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),g.resolve(w),o(k,w)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return y(null,this.t.bind(this));this.changeLanguage(this.options.lng,y)};return this.options.resources||!this.options.initImmediate?v():setTimeout(v,0),g}loadResources(r){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi;const u=se(r)?r:this.language;if(typeof r=="function"&&(o=r),!this.options.resources||this.options.partialBundledLanguages){if(u&&u.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const d=[],f=p=>{if(!p||p==="cimode")return;this.services.languageUtils.toResolveHierarchy(p).forEach(v=>{v!=="cimode"&&d.indexOf(v)<0&&d.push(v)})};u?f(u):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(g=>f(g)),this.options.preload&&this.options.preload.forEach(p=>f(p)),this.services.backendConnector.load(d,this.options.ns,p=>{!p&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(p)})}else o(null)}reloadResources(r,a,o){const u=Zr();return typeof r=="function"&&(o=r,r=void 0),typeof a=="function"&&(o=a,a=void 0),r||(r=this.languages),a||(a=this.options.ns),o||(o=yi),this.services.backendConnector.reload(r,a,d=>{u.resolve(),o(d)}),u}use(r){if(!r)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!r.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return r.type==="backend"&&(this.modules.backend=r),(r.type==="logger"||r.log&&r.warn&&r.error)&&(this.modules.logger=r),r.type==="languageDetector"&&(this.modules.languageDetector=r),r.type==="i18nFormat"&&(this.modules.i18nFormat=r),r.type==="postProcessor"&&kd.addPostProcessor(r),r.type==="formatter"&&(this.modules.formatter=r),r.type==="3rdParty"&&this.modules.external.push(r),this}setResolvedLanguage(r){if(!(!r||!this.languages)&&!(["cimode","dev"].indexOf(r)>-1))for(let a=0;a<this.languages.length;a++){const o=this.languages[a];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}}changeLanguage(r,a){var o=this;this.isLanguageChangingTo=r;const u=Zr();this.emit("languageChanging",r);const d=g=>{this.language=g,this.languages=this.services.languageUtils.toResolveHierarchy(g),this.resolvedLanguage=void 0,this.setResolvedLanguage(g)},f=(g,v)=>{v?(d(v),this.translator.changeLanguage(v),this.isLanguageChangingTo=void 0,this.emit("languageChanged",v),this.logger.log("languageChanged",v)):this.isLanguageChangingTo=void 0,u.resolve(function(){return o.t(...arguments)}),a&&a(g,function(){return o.t(...arguments)})},p=g=>{!r&&!g&&this.services.languageDetector&&(g=[]);const v=se(g)?g:this.services.languageUtils.getBestMatchFromCodes(g);v&&(this.language||d(v),this.translator.language||this.translator.changeLanguage(v),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(v)),this.loadResources(v,y=>{f(y,v)})};return!r&&this.services.languageDetector&&!this.services.languageDetector.async?p(this.services.languageDetector.detect()):!r&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(p):this.services.languageDetector.detect(p):p(r),u}getFixedT(r,a,o){var u=this;const d=function(f,p){let g;if(typeof p!="object"){for(var v=arguments.length,y=new Array(v>2?v-2:0),k=2;k<v;k++)y[k-2]=arguments[k];g=u.options.overloadTranslationOptionHandler([f,p].concat(y))}else g={...p};g.lng=g.lng||d.lng,g.lngs=g.lngs||d.lngs,g.ns=g.ns||d.ns,g.keyPrefix!==""&&(g.keyPrefix=g.keyPrefix||o||d.keyPrefix);const w=u.options.keySeparator||".";let I;return g.keyPrefix&&Array.isArray(f)?I=f.map(j=>`${g.keyPrefix}${w}${j}`):I=g.keyPrefix?`${g.keyPrefix}${w}${f}`:f,u.t(I,g)};return se(r)?d.lng=r:d.lngs=r,d.ns=a,d.keyPrefix=o,d}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(r){this.options.defaultNS=r}hasLoadedNamespace(r){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=a.lng||this.resolvedLanguage||this.languages[0],u=this.options?this.options.fallbackLng:!1,d=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const f=(p,g)=>{const v=this.services.backendConnector.state[`${p}|${g}`];return v===-1||v===0||v===2};if(a.precheck){const p=a.precheck(this,f);if(p!==void 0)return p}return!!(this.hasResourceBundle(o,r)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||f(o,r)&&(!u||f(d,r)))}loadNamespaces(r,a){const o=Zr();return this.options.ns?(se(r)&&(r=[r]),r.forEach(u=>{this.options.ns.indexOf(u)<0&&this.options.ns.push(u)}),this.loadResources(u=>{o.resolve(),a&&a(u)}),o):(a&&a(),Promise.resolve())}loadLanguages(r,a){const o=Zr();se(r)&&(r=[r]);const u=this.options.preload||[],d=r.filter(f=>u.indexOf(f)<0&&this.services.languageUtils.isSupportedCode(f));return d.length?(this.options.preload=u.concat(d),this.loadResources(f=>{o.resolve(),a&&a(f)}),o):(a&&a(),Promise.resolve())}dir(r){if(r||(r=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!r)return"rtl";const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services&&this.services.languageUtils||new Jc(Zc());return a.indexOf(o.getLanguagePartFromCode(r))>-1||r.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1?arguments[1]:void 0;return new ra(r,a)}cloneInstance(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:yi;const o=r.forkResourceStore;o&&delete r.forkResourceStore;const u={...this.options,...r,isClone:!0},d=new ra(u);return(r.debug!==void 0||r.prefix!==void 0)&&(d.logger=d.logger.clone(r)),["store","services","language"].forEach(p=>{d[p]=this[p]}),d.services={...this.services},d.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},o&&(d.store=new Qc(this.store.data,u),d.services.resourceStore=d.store),d.translator=new bi(d.services,u),d.translator.on("*",function(p){for(var g=arguments.length,v=new Array(g>1?g-1:0),y=1;y<g;y++)v[y-1]=arguments[y];d.emit(p,...v)}),d.init(u,a),d.translator.options=u,d.translator.backendConnector.services.utils={hasLoadedNamespace:d.hasLoadedNamespace.bind(d)},d}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ze=ra.createInstance();ze.createInstance=ra.createInstance;ze.createInstance;ze.dir;ze.init;ze.loadResources;ze.reloadResources;ze.use;ze.changeLanguage;ze.getFixedT;ze.t;ze.exists;ze.setDefaultNamespace;ze.hasLoadedNamespace;ze.loadNamespaces;ze.loadLanguages;const sh=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,lh={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},uh=l=>lh[l],ch=l=>l.replace(sh,uh);let td={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ch};function dh(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};td={...td,...l}}const fh={type:"3rdParty",init(l){dh(l.options.react)}},mh={harmony:"Harmony",chords:"Chords",scales:"Scales",fretboardDemo:"Fretboard Demo",language:"Language",rhythmTrainer:"Rhythm Trainer"},ph={chordsInScale:"Chords in scale",cadences:"Cadences",detailedAnalysis:"Detailed analysis",relatedness:"Relatedness",targetChord:"Target key chord",diatonicChord:"Diatonic chord",cadenceAnalysis:"Cadence analysis",keyInfo:"Key information",wholeStep:"W",halfStep:"H",title:"Harmony Generator",alteration:"Alteration",naturalTooltip:"Natural - no alteration",noteLabel:"Note",modeLabel:"Mode/Scale",playScale:"Scale",sharpTooltip:"Sharp - raised by a semitone",flatTooltip:"Flat - lowered by a semitone",keySelection:"Key Selection",note:"Note",scaleInfo:"Scale Information",tonic:"Tonic",family:"Family",formula:"Formula",intervals:"Intervals",degrees:"Degrees",notes:"Notes",modulations:"Modulations",modeScale:"Mode / Scale",majorFamily:"major",minorFamily:"minor",modalFamily:"modal",diatonicGroup:"Diatonic",harmonicGroup:"Harmonic",melodicGroup:"Melodic",cadencesTitle:"Cadences",progression:"Progression",chordsTitle:"Key Chords",degree:"Degree",romanNumerals:"Roman Numerals",function:"Function",triad:"Triad",seventh:"Seventh",extensions:"Extensions",modulationsTitle:"Modulations and Related Keys",foundModulations:"Found {{count}} modulations for current mode",chordNotations:"Chord Notations",currentKey:"Current key",targetKey:"Target key",mainModulations:"Main Modulations",modalModulations:"Modal Modulations",chromaticModulations:"Chromatic Modulations",enharmonicModulations:"Enharmonic Modulations",sequentialModulations:"Sequential Modulations",jazzModulations:"Jazz Modulations",modernModulations:"Modern Modulations",specialModulations:"Special Modulations",easy:"Easy",medium:"Medium",hard:"Hard",modulation:"Modulation",return:"Return",returnModulation:"Return Modulation",chords:"Chords",strong:"strong",weak:"weak",legend:{pivotFull:"Common chord (Pivot):",title:"Legend:",bold:"Bold with border",pivot:"common chord (pivot)",red:"Red",targetChord:"chord of target key",romanNumerals:"Roman numerals with direction",double:"Double notation"},allModulations:"All modulations",type:"Type",difficulty:"Difficulty",distance:"Distance",direction:"Direction",tension:"Tension",resolution:"Resolution",button:{details:"Details",analysis:"Analysis",allModulations:"All modulations",modulation:"Modulation",play:"Play",close:"Close"},modal:{title:"Modulation",details:"Modulation details",analysis:"Key analysis"},section:{chords:"Chords in scale",cadences:"Cadences",modulations:"Modulations",relatedKeys:"Related keys"},selectedKey:"Selected key",displayedKey:"Displayed key",equivalentButPractical:"{{key}} is musically equivalent but more practical",keySignature:"Key signature","keySignature.one":"sign","keySignature.few":"signs","keySignature.many":"signs",noKeySignature:"No key signature"},hh={C:"C",D:"D",E:"E",F:"F",G:"G",A:"A",B:"B"},gh={natural:"Natural",sharp:"Sharp",flat:"Flat"},yh={major:"Major",aeolian:"Aeolian",dorian:"Dorian",phrygian:"Phrygian",lydian:"Lydian",mixolydian:"Mixolydian",locrian:"Locrian",harmonicMinor:"Harmonic minor",melodicMinor:"Melodic minor",relatedness:"Relatedness",targetChord:"Target key chord",diatonicChord:"Diatonic chord"},vh={play:"Play"},xh={title:"Tuning",instrument:"Instrument","instrument.guitar":"Guitar","instrument.bass":"Bass",standard:"Standard",custom:"Custom",stringCount:"String count",tuning:"Tuning","group.standard":"Standard","group.alternative":"Alternative","group.drop":"Drop","group.open":"Open","group.other":"Other","name.E Standard":"E Standard","name.Eb Standard":"Eb Standard","name.D Standard":"D Standard","name.C Standard":"C Standard","name.B Standard":"B Standard","name.Drop D":"Drop D","name.Drop C#":"Drop C#","name.Drop B":"Drop B","name.Double Drop D":"Double Drop D","name.Drop C":"Drop C","name.Drop A":"Drop A","name.Open D":"Open D","name.Open E":"Open E","name.Open G":"Open G","name.Open C":"Open C","name.Open A":"Open A","name.Nashville (High-Strung)":"Nashville (High-Strung)","name.FACGCE":"FACGCE Math Rock","name.DAEAC#E":"DAEAC#E Math Rock","name.DADGAD":"DADGAD","name.Four String":"Four String","name.Five String":"Five String","name.Six String":"Six String",strings:"Strings",addString:"Add string",deleteString:"Delete string",maxNote:"Maximum note reached",minNote:"Minimum note reached",stringLabel:"String {{idx}}",editNote:"Edit note"},wh={title:"Rhythm Trainer",description:"Practice rhythm patterns, set tempo and sound type, and play your groove.",beats:"Beats",addBeat:"Add beat",removeBeat:"Remove beat",randomize:"Randomize",tempo:"Tempo",soundType:"Sound type",drums:"Drums",sticks:"Sticks",hihat:"Hi-hat for 16th",start:"Start",stop:"Stop",note:"Note",pause:"Pause",accented:"Accented",ti:"Ti",ta:"Ta",settings:{timer:"Timer",timerValue:"Timer value (seconds)",beatCount:"Beat count",tempo:"Tempo (BPM)",soundType:"Sound type",drums:"Drums",sticks:"Sticks",hiHat:"Accent 16th with hi-hat",soundVolume:"Sound Volume",metronomeVolume:"Accents Volume"},buttons:{timerStart:"Timer On",timerStop:"timer Off",random:"Random",start:"Start",stop:"Stop",alphabetOn:"Alphabet",alphabetOff:"Pattern"},legend:{title:"Legend:",note:"● Note (hit)",rest:"— Rest",glyph:"[A-X] Glyph letter (choose for each beat)",syllable:"Ti/Ta Syllables for sixteenths"},tooltips:{timer:"Enable/disable timer",timerValue:"Set timer duration (30s–15min)",timerCountdown:"Countdown until playback stops",random:"Random rhythm",start:"Start playback",stop:"Stop playback",beatGlyph:"Select beat glyph",note:"Note",rest:"Rest",syllable:"Syllable",alphabetMode:"Show all rhythm alphabet cards"},errors:{timerRange:"Timer must be between 30 seconds and 15 minutes",generation:"Rhythm generation error"},glyphNames:{A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X"},glyphLabels:{A:"Simple",B:"Syncopated",C:"Shuffle",D:"Swing",E:"Latin",F:"Rock",G:"Pop",H:"Jazz",I:"Funk",J:"Reggae",K:"Blues",L:"March",M:"Waltz",N:"Polka",O:"Disco",P:"Ballad",Q:"Groove",R:"Break",S:"Fill",T:"Accent",U:"Variation",V:"Complex",W:"Odd",X:"Custom"}},Sh={madeWithLove:"Made with love for guitars"},kh={nav:mh,harmony:ph,note:hh,accidental:gh,mode:yh,common:vh,tuning:xh,rhythmTrainer:wh,footer:Sh},Nh={harmony:"Гармония",chords:"Аккорды",scales:"Гаммы",fretboardDemo:"Гриф",language:"Язык интерфейса",rhythmTrainer:"Ритмический тренажёр"},Ch={tonalitySelected:"Выбранная тональность",chordsInScale:"Аккорды гаммы",cadences:"Каденции",detailedAnalysis:"Детальный анализ",relatedness:"Связь тональностей",title:"Генератор гармоний",alteration:"Альтерация",naturalTooltip:"Бекар — без альтерации",targetChord:"Аккорд целевой тональности",diatonicChord:"Диатонический аккорд",cadenceAnalysis:"Анализ каденций",keyInfo:"Информация о тональности",wholeStep:"Т",halfStep:"П",keySelection:"Выбор тональности",note:"Нота",scaleInfo:"Информация о гамме",tonic:"Тоника",family:"Семейство",formula:"Формула",intervals:"Интервалы",degrees:"Ступени",notes:"Ноты",playScale:"Проиграть гамму",modulations:"Модуляции",modeScale:"Лад / Гамма",majorFamily:"мажорное",minorFamily:"минорное",modalFamily:"модальное",diatonicGroup:"Diatonic",harmonicGroup:"Harmonic",melodicGroup:"Melodic",cadencesTitle:"Каденции",chordsTitle:"Аккорды тональности",modulationsTitle:"Модуляции и родственные тональности",foundModulations:"Найдено {{count}} модуляций для текущего лада",chordNotations:"Обозначения аккордов",currentKey:"Текущая тональность",targetKey:"Конечная тональность",mainModulations:"Основные модуляции",modalModulations:"Модальные модуляции",chromaticModulations:"Хроматические модуляции",enharmonicModulations:"Энгармонические модуляции",sequentialModulations:"Секвенционные модуляции",jazzModulations:"Джазовые модуляции",modernModulations:"Современные модуляции",specialModulations:"Специальные модуляции",easy:"Лёгкая",medium:"Средняя",hard:"Сложная",modulation:"Модуляция",return:"Возвращение",returnModulation:"Обратная модуляция",strong:"сильная",weak:"слабая",legend:{title:"Легенда:",bold:"Жирный с рамкой",pivot:"общий аккорд (pivot)",pivotFull:"Общий аккорд (Pivot):",red:"Красный",targetChord:"аккорд целевой тональности",romanNumerals:"Римские цифры с направлением",double:"Двойное обозначение",tonic:"Тоника",subdominant:"Субдоминанта",dominant:"Доминанта",preDominant:"Предоминанта"},allModulations:"Все модуляции",progression:"Прогрессия",type:"Тип",difficulty:"Сложность",distance:"Дистанция",direction:"Направление",romanNumerals:"Римские цифры",function:"Функция",degree:"Ступень",triad:"Трезвучие",seventh:"Септаккорд",extensions:"Надстройки",tension:"Напряжение",resolution:"Разрешение",button:{details:"Детали",analysis:"Анализ",allModulations:"Все модуляции",modulation:"Модуляция",play:"Играть",close:"Закрыть"},modal:{title:"Модуляция",details:"Детали модуляции",analysis:"Анализ тональности"},section:{chords:"Аккорды гаммы",cadences:"Каденции",modulations:"Модуляции",relatedKeys:"Родственные тональности"},selectedKey:"Вы выбрали",displayedKey:"Отображается",equivalentButPractical:"{{key}} музыкально эквивалентна, но практичнее",keySignature:"Знаки при ключе","keySignature.one":"знак","keySignature.few":"знака","keySignature.many":"знаков",noKeySignature:"Без знаков при ключе"},bh={title:"Ритмический тренажёр",description:"Тренируйте ритмические рисунки, настраивайте темп и тип звука, проигрывайте свой грув.",beats:"Доли",addBeat:"Добавить долю",removeBeat:"Убрать долю",randomize:"Случайно",tempo:"Темп",soundType:"Тип звука",drums:"Барабаны",sticks:"Палочки",hihat:"Хай-хэт для 16-х",start:"Старт",stop:"Стоп",note:"Нота",pause:"Пауза",accented:"Акцент",ti:"Ти",ta:"Та",settings:{timer:"Таймер",timerValue:"Время таймера (сек)",beatCount:"Кол-во долей",tempo:"Темп (BPM)",soundType:"Тип звука",drums:"Барабаны",sticks:"Палочки",hiHat:"Подзвучить 16е хетом",soundVolume:"Громкость звука",metronomeVolume:"Громкость звука акцентов"},buttons:{timerStart:"Таймер",timerStop:"Выкл. таймер",random:"Случайно",start:"Старт",stop:"Стоп",alphabetOn:"Алфавит",alphabetOff:"Рисунок"},legend:{title:"Легенда:",note:"● Нота (удар)",rest:"— Пауза",glyph:"[A-X] Буква рисунка (выберите для каждой доли)",syllable:"Ти/Та Слоги для шестнадцатых"},tooltips:{timer:"Включить/выключить таймер",timerValue:"Установить длительность таймера (30с–15мин)",timerCountdown:"Обратный отсчёт до остановки воспроизведения",random:"Случайный ритм",start:"Запустить воспроизведение",stop:"Остановить воспроизведение",beatGlyph:"Выбрать рисунок доли",note:"Нота",rest:"Пауза",syllable:"Слог",alphabetMode:"Показать все карточки ритмического алфавита"},errors:{timerRange:"Таймер должен быть от 30 секунд до 15 минут",generation:"Ошибка генерации ритма"},glyphNames:{A:"A",B:"B",C:"C",D:"D",E:"E",F:"F",G:"G",H:"H",I:"I",J:"J",K:"K",L:"L",M:"M",N:"N",O:"O",P:"P",Q:"Q",R:"R",S:"S",T:"T",U:"U",V:"V",W:"W",X:"X"},glyphLabels:{A:"Простой",B:"Синкопа",C:"Шаффл",D:"Свинг",E:"Латин",F:"Рок",G:"Поп",H:"Джаз",I:"Фанк",J:"Регги",K:"Блюз",L:"Марш",M:"Вальс",N:"Полька",O:"Диско",P:"Баллада",Q:"Грув",R:"Брейк",S:"Филл",T:"Акцент",U:"Вариация",V:"Сложный",W:"Нестандарт",X:"Свой"}},Eh={C:"До",D:"Ре",E:"Ми",F:"Фа",G:"Соль",A:"Ля",B:"Си"},Th={natural:"Бекар",sharp:"Диез",flat:"Бемоль"},jh={major:"Мажор",aeolian:"Эолийский",dorian:"Дорийский",phrygian:"Фригийский",lydian:"Лидийский",mixolydian:"Миксолидийский",locrian:"Локрийский",harmonicMinor:"Гармонический минор",melodicMinor:"Мелодический минор"},Ih={play:"Играть"},_h={title:"Строй",instrument:"Инструмент","instrument.guitar":"Гитара","instrument.bass":"Бас-гитара",standard:"Стандартный",custom:"Кастомный",stringCount:"Количество струн",tuning:"Строй","group.standard":"Стандартный","group.alternative":"Альтернативный","group.drop":"Дроп","group.open":"Открытый","group.other":"Другой","name.E Standard":"Ми стандарт","name.Eb Standard":"Ми Бемоль стандарт","name.D Standard":"Ре стандарт","name.C Standard":"До стандарт","name.B Standard":"Си стандарт","name.Drop D":"Дроп Ре","name.Drop C#":"Дроп До Диез","name.Drop B":"Дроп Си","name.Double Drop D":"Двойной Дроп Ре","name.Drop C":"Дроп До","name.Drop A":"Дроп Ля","name.Open D":"Открытый Ре","name.Open E":"Открытый Ми","name.Open G":"Открытый Соль","name.Open C":"Открытый До","name.Open A":"Открытый Ля","name.Nashville (High-Strung)":"Nashville (High-Strung)","name.FACGCE":"FACGCE Math Rock","name.DAEAC#E":"DAEAC#E Math Rock","name.DADGAD":"DADGAD","name.Four String":"4 струны","name.Five String":"5 струн","name.Six String":"6 струн",strings:"Струны",addString:"Добавить струну",deleteString:"Удалить струну",maxNote:"Максимальная нота",minNote:"Минимальная нота",stringLabel:"Струна {{idx}}",editNote:"Изменить ноту"},Mh={madeWithLove:"Сделано с любовью к гитарам"},Rh={nav:Nh,harmony:Ch,rhythmTrainer:bh,note:Eh,accidental:Th,mode:jh,common:Ih,tuning:_h,footer:Mh},Ph={en:{translation:kh},ru:{translation:Rh}};ze.use(fh).init({resources:Ph,lng:localStorage.getItem("language")||"ru",fallbackLng:"en",interpolation:{escapeValue:!1}});const Nd=P.createContext(void 0),Lh=({children:l})=>{const[r,a]=P.useState(ze.language),o=d=>{ze.changeLanguage(d),a(d),localStorage.setItem("language",d)};P.useEffect(()=>{const d=f=>{a(f)};return ze.on("languageChanged",d),()=>{ze.off("languageChanged",d)}},[]);const u=d=>ze.t(d);return h.jsx(Nd.Provider,{value:{language:r,changeLanguage:o,t:u},children:l})},Kt=()=>{const l=P.useContext(Nd);if(!l)throw new Error("useI18n must be used within an I18nProvider");return l},Oh=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Dh(l){const r=Math.floor(l/12)-1;return`${Oh[l%12]}${r}`}const nd=21,rd=127,Ah=({midi:l,onChange:r,onDelete:a,canDelete:o})=>{const[u,d]=P.useState(!1),{t:f}=Kt();return h.jsxs("div",{className:"flex flex-col items-center relative",onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),children:[h.jsx("button",{className:"text-lg px-2 py-1 mb-1",onClick:()=>r(l+1),style:{marginBottom:"8px"},disabled:l>=rd,title:l>=rd?f("tuning.maxNote"):void 0,children:"▲"}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"px-3 py-2 bg-gray-100 dark:bg-gray-500 rounded text-sm min-w-[40px] text-center cursor-default",children:Dh(l)}),o&&u&&h.jsx("button",{className:"absolute right-0 top-0 bg-red-500 text-white rounded-full px-1 py-0.5 text-xs",style:{transform:"translate(50%,-50%)"},onClick:a,title:f("tuning.deleteString"),children:"✕"})]}),h.jsx("button",{className:"text-lg px-2 py-1 mt-1",onClick:()=>r(l-1),style:{marginTop:"8px"},disabled:l<=nd,title:l<=nd?f("tuning.minNote"):void 0,children:"▼"})]})},Fh=[40,45,50,55,59,64],zh=[40,45,50,55],Vh=6,$h=8,Bh=4,Uh=6,Gh=({instrument:l})=>{const{t:r}=Kt(),a=l==="guitar"?Vh:Bh,o=l==="guitar"?$h:Uh,u=l==="guitar"?Fh:zh;function d(){const v=nt.get();return v.instrument===l&&v.customTuning&&Array.isArray(v.customTuning.midi)?v.customTuning.midi:u}const[f,p]=P.useState(d());P.useEffect(()=>{const v=f.map(y=>{const k=Bc.fromMidi(y);return{name:k.name,octave:k.octave}});nt.setCustomTuning({name:"Custom",midi:f,notes:v})},[f,l]);const g=(v,y)=>{p(k=>k.map((I,j)=>j===v?y:I))};return h.jsx("div",{className:"flex flex-col items-center",children:h.jsxs("div",{className:"flex gap-4 items-center mb-2",children:[f.length<o&&h.jsx("div",{className:"flex flex-col items-center justify-center",style:{height:"100%"},children:h.jsx("button",{className:"flex flex-col items-center justify-center text-xl px-2 py-1 rounded-full h-[40px] w-[40px] mr-2   bg-blue-600 dark:bg-blue-500 text-white dark:text-white border border-blue-700 dark:border-blue-400 hover:bg-blue-700 dark:hover:bg-blue-600",style:{marginTop:"0px"},onClick:()=>{p(v=>[40,...v])},title:r("tuning.addString"),children:"+"})}),f.map((v,y)=>{const k=Bc.fromMidi(v),w=f.length-y;return h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx(Ah,{midi:v,onChange:I=>g(y,I),canDelete:y===0&&f.length>a,onDelete:()=>{y===0&&f.length>a&&p(I=>I.slice(1))}}),h.jsxs("span",{className:"text-xs mt-1",children:[k.name,k.octave,h.jsxs("span",{className:"text-gray-400",children:["(",w,")"]})]})]},y)})]})})},vi=[{type:"guitar",name:"E Standard",group:"standard",midi:[40,45,50,55,59,64],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}],stringCount:6,pcs:[4,9,2,7,11,4]},{type:"guitar",name:"Eb Standard",group:"standard",midi:[39,44,49,54,58,63],notes:[{name:"D#",octave:2},{name:"G#",octave:2},{name:"C#",octave:3},{name:"F#",octave:3},{name:"A#",octave:3},{name:"D#",octave:4}],stringCount:6,pcs:[3,8,1,6,10,3]},{type:"guitar",name:"D Standard",group:"standard",midi:[38,43,48,53,57,62],notes:[{name:"D",octave:2},{name:"G",octave:2},{name:"C",octave:3},{name:"F",octave:3},{name:"A",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[2,7,0,5,9,2]},{type:"guitar",name:"C Standard",group:"standard",midi:[36,41,46,51,55,60],notes:[{name:"C",octave:2},{name:"G",octave:2},{name:"C",octave:3},{name:"F",octave:3},{name:"A#",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[0,5,10,3,7,0]},{type:"guitar",name:"Drop C#",group:"drop",midi:[37,44,49,54,58,63],notes:[{name:"C#",octave:2},{name:"G#",octave:2},{name:"C#",octave:3},{name:"F#",octave:3},{name:"A#",octave:3},{name:"D#",octave:4}],stringCount:6,pcs:[1,8,1,6,10,3]},{type:"guitar",name:"Drop B",group:"drop",midi:[35,42,47,52,56,61],notes:[{name:"B",octave:1},{name:"F#",octave:2},{name:"B",octave:2},{name:"E",octave:3},{name:"G#",octave:3},{name:"C#",octave:4}],stringCount:6,pcs:[11,6,11,4,8,1]},{type:"guitar",name:"Double Drop D",group:"drop",midi:[38,45,50,55,59,62],notes:[{name:"D",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[2,9,2,7,11,2]},{type:"guitar",name:"Open D",group:"open",midi:[38,45,50,54,57,62],notes:[{name:"D",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"F#",octave:3},{name:"A",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[2,9,2,6,9,2]},{type:"guitar",name:"Open E",group:"open",midi:[40,47,52,56,59,64],notes:[{name:"E",octave:2},{name:"B",octave:2},{name:"E",octave:3},{name:"G#",octave:3},{name:"B",octave:3},{name:"E",octave:4}],stringCount:6,pcs:[4,11,4,8,11,4]},{type:"guitar",name:"Open G",group:"open",midi:[38,43,50,55,59,62],notes:[{name:"D",octave:2},{name:"G",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[2,7,2,7,11,2]},{type:"guitar",name:"Open C",group:"open",midi:[36,43,48,55,60,64],notes:[{name:"C",octave:2},{name:"G",octave:2},{name:"C",octave:3},{name:"G",octave:3},{name:"C",octave:4},{name:"E",octave:4}],stringCount:6,pcs:[0,7,0,7,0,4]},{type:"guitar",name:"Nashville (High-Strung)",group:"other",midi:[52,57,62,67,71,76],notes:[{name:"E",octave:3},{name:"A",octave:3},{name:"D",octave:4},{name:"G",octave:4},{name:"B",octave:4},{name:"E",octave:5}],stringCount:6,pcs:[4,9,2,7,11,4]},{type:"guitar",name:"FACGCE",group:"other",midi:[41,45,48,55,60,64],notes:[{name:"F",octave:2},{name:"A",octave:2},{name:"C",octave:3},{name:"G",octave:3},{name:"C",octave:4},{name:"E",octave:4}],stringCount:6,pcs:[5,9,0,7,0,4]},{type:"guitar",name:"DAEAC#E",group:"other",midi:[38,45,52,57,61,64],notes:[{name:"D",octave:2},{name:"A",octave:2},{name:"E",octave:3},{name:"A",octave:3},{name:"C#",octave:4},{name:"E",octave:4}],stringCount:6,pcs:[2,9,4,9,1,4]},{type:"guitar",name:"Drop D",group:"drop",midi:[38,45,50,55,59,64],notes:[{name:"D",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}],stringCount:6,pcs:[2,9,2,7,11,4]},{type:"guitar",name:"Drop C",group:"drop",midi:[36,43,48,53,57,62],notes:[{name:"C",octave:2},{name:"G",octave:2},{name:"C",octave:3},{name:"F",octave:3},{name:"A",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[0,7,0,5,9,2]},{type:"guitar",name:"DADGAD",group:"other",midi:[38,45,50,55,57,62],notes:[{name:"D",octave:2},{name:"A",octave:2},{name:"G",octave:3},{name:"D",octave:3},{name:"A",octave:3},{name:"D",octave:4}],stringCount:6,pcs:[2,9,2,7,9,2]},{type:"guitar",name:"B Standard (7)",group:"standard",midi:[35,40,45,50,55,59,64],notes:[{name:"B",octave:1},{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}],stringCount:7,pcs:[11,4,9,2,7,11,4]},{type:"guitar",name:"F# Standard (8)",group:"standard",midi:[30,35,40,45,50,55,59,64],notes:[{name:"F#",octave:1},{name:"B",octave:1},{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3},{name:"E",octave:4}],stringCount:8,pcs:[6,11,4,9,2,7,11,4]},{type:"guitar",name:"Drop A",group:"drop",midi:[33,40,45,50,55,59],notes:[{name:"A",octave:1},{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"B",octave:3}],stringCount:6,pcs:[9,4,9,2,7,11]},{type:"guitar",name:"Open A",group:"open",midi:[33,40,45,49,52,57],notes:[{name:"A",octave:1},{name:"E",octave:2},{name:"A",octave:2},{name:"C#",octave:3},{name:"E",octave:3},{name:"A",octave:3}],stringCount:6,pcs:[9,4,9,1,4,9]}],xi=[{type:"bass",name:"E Standard",group:"standard",midi:[40,45,50,55],notes:[{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3}],stringCount:4,pcs:[4,9,2,7]},{type:"bass",name:"5-string Standard",group:"standard",midi:[35,40,45,50,55],notes:[{name:"B",octave:1},{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3}],stringCount:5,pcs:[11,4,9,2,7]},{type:"bass",name:"6-string Standard",group:"standard",midi:[35,40,45,50,55,60],notes:[{name:"B",octave:1},{name:"E",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3},{name:"C",octave:4}],stringCount:6,pcs:[11,4,9,2,7,0]},{type:"bass",name:"Drop D Bass",group:"drop",midi:[38,45,50,55],notes:[{name:"D",octave:2},{name:"A",octave:2},{name:"D",octave:3},{name:"G",octave:3}],stringCount:4,pcs:[2,9,2,7]}],ad=({options:l,label:r,error:a,size:o="md",placeholder:u,className:d="",...f})=>{const p="block w-full rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary-500",g={sm:"px-3 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},v=a?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",y=`${p} ${g[o]} ${v} text-gray-900 dark:text-white ${d}`;return h.jsxs("div",{className:"space-y-1",children:[r&&h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:r}),h.jsxs("select",{className:y,...f,children:[u&&h.jsx("option",{value:"",disabled:!0,children:u}),l.map((k,w)=>"options"in k?h.jsx("optgroup",{label:k.label,children:k.options.map(I=>h.jsx("option",{value:I.value,disabled:I.disabled,children:I.label},I.value))},w):h.jsx("option",{value:k.value,disabled:k.disabled,children:k.label},k.value))]}),a&&h.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:a})]})},Hh=({isOpen:l,onClose:r,title:a,children:o,size:u="md",closeOnBackdrop:d=!0})=>{if(P.useEffect(()=>(l?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[l]),P.useEffect(()=>{const g=v=>{v.key==="Escape"&&r()};return l&&document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[l,r]),!l)return null;const f={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"},p=h.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:d?r:void 0}),h.jsxs("div",{className:`relative bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full ${f[u]} max-h-[90vh] overflow-hidden`,children:[a&&h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:a}),h.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors",children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),h.jsx("div",{className:"p-4 overflow-y-auto max-h-[calc(90vh-4rem)]",children:o})]})]});return Om.createPortal(p,document.body)},Kh=P.forwardRef(({label:l,error:r,helperText:a,leftIcon:o,rightIcon:u,inputSize:d="md",className:f="",...p},g)=>{const v="block w-full rounded-lg border transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",y={sm:"px-3 py-1.5 text-sm",md:"px-3 py-2 text-sm",lg:"px-4 py-3 text-base"},k=r?"border-red-300 dark:border-red-600 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700",w=o?"pl-10":u?"pr-10":"",I=`${v} ${y[d]} ${k} ${w} text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 ${f}`;return h.jsxs("div",{className:"space-y-1",children:[l&&h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l}),h.jsxs("div",{className:"relative",children:[o&&h.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none text-gray-400",children:o}),h.jsx("input",{ref:g,className:I,...p}),u&&h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none text-gray-400",children:u})]}),r&&h.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:r}),a&&!r&&h.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:a})]})});Kh.displayName="Input";const aa=({children:l,className:r="",padding:a="md",shadow:o="md",hover:u=!1})=>{const d="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 transition-all",f={none:"",sm:"p-3",md:"p-4",lg:"p-6"},p={none:"",sm:"shadow-sm",md:"shadow-md",lg:"shadow-lg"},g=u?"hover:shadow-lg hover:-translate-y-0.5":"",v=`${d} ${f[a]} ${p[o]} ${g} ${r}`;return h.jsx("div",{className:v,children:l})},cr=({children:l,variant:r="default",size:a="md",className:o=""})=>{const u="inline-flex items-center font-medium rounded-full",d={default:"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-300",success:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",warning:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",error:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",info:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300"},f={sm:"px-2 py-0.5 text-xs",md:"px-2.5 py-1 text-sm",lg:"px-3 py-1.5 text-base"},p=`${u} ${d[r]} ${f[a]} ${o}`;return h.jsx("span",{className:p,children:l})},Wh=[{value:"guitar",label:"tuning.instrument.guitar"},{value:"bass",label:"tuning.instrument.bass"}],id={guitar:[6,7,8],bass:[4,5,6]},Qh=({isOpen:l,onClose:r})=>{function a(R){return R.reduce((_,M)=>(_[M.group]||(_[M.group]=[]),_[M.group].push(M),_),{})}const{t:o}=Kt(),u=nt.get(),[d,f]=P.useState(u.instrument),[p,g]=P.useState(u.standardTuning.midi?.length||6),v=(()=>{const R=d==="guitar"?vi.filter(M=>M.stringCount===p):xi.filter(M=>M.stringCount===p);return R.find(M=>M.name===u.standardTuning.name)||R[0]||null})(),[y,k]=P.useState(v),[w,I]=P.useState(u.tuningType);return h.jsxs(Hh,{isOpen:l,onClose:r,title:o("tuning.title"),size:"lg",children:[h.jsx("div",{className:"mb-4",children:h.jsx(ad,{label:o("tuning.instrument"),options:Wh.map(R=>({...R,label:o(R.label)})),value:d,onChange:R=>{const _=R.target.value;f(_);const M=id[_][0];g(M);const G=_==="guitar"?vi.filter(U=>U.stringCount===M):xi.filter(U=>U.stringCount===M);k(G[0]||null),nt.setInstrument(_)},className:"w-full border rounded px-2 py-1 border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"})}),h.jsxs("div",{className:"border rounded-lg overflow-hidden bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700",children:[h.jsxs("div",{children:[h.jsx("button",{className:`w-full text-left px-4 py-2 bg-gray-100 dark:bg-gray-700 border-b font-semibold text-gray-900 dark:text-white ${w==="standard"?"bg-blue-100 dark:bg-blue-900":""}`,onClick:()=>{I("standard"),nt.setTuningType("standard"),y&&nt.setStandardTuning({name:y.name,midi:y.midi,notes:y.notes})},children:o("tuning.standard")}),w==="standard"&&h.jsxs("div",{className:"p-4",children:[h.jsx(ad,{label:o("tuning.stringCount"),options:id[d].map(R=>({value:`${R}`,label:`${R}`})),value:`${p}`,onChange:R=>{const _=Number(R.target.value);g(_);const M=d==="guitar"?vi.filter(G=>G.stringCount===_):xi.filter(G=>G.stringCount===_);k(M[0]||null),nt.setStringCount(_)},className:"w-full border rounded px-2 py-1 border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}),h.jsx("label",{className:"block text-sm font-medium mb-1 text-gray-900 dark:text-white",children:o("tuning.tuning")}),h.jsx("select",{className:"w-full border rounded px-2 py-1 border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",value:y?.name||"",onChange:R=>{const M=j().find(G=>G.name===R.target.value);M&&(k(M),nt.setStandardTuning({name:M.name,midi:M.midi,notes:M.notes}))},children:Object.entries(a(j())).map(([R,_])=>h.jsx("optgroup",{label:o("tuning.group."+R),style:{fontWeight:"bold"},children:[..._].map(M=>h.jsx("option",{value:M.name,style:{paddingLeft:16},children:o(`tuning.name.${M.name}`)},M.name))},R))}),y&&h.jsxs("div",{className:"mt-2",children:[h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o("tuning.strings")}),h.jsx("div",{className:"flex gap-2 mt-1",children:[...y.notes].map((R,_)=>h.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-sm text-gray-900 dark:text-white border border-gray-300 dark:border-gray-700",children:[R.name,R.octave]},_))})]})]})]}),h.jsxs("div",{children:[h.jsx("button",{className:`w-full text-left px-4 py-2 bg-gray-100 dark:bg-gray-700 border-b font-semibold text-gray-900 dark:text-white ${w==="custom"?"bg-blue-100 dark:bg-blue-900":""}`,onClick:()=>{I("custom"),nt.setTuningType("custom")},children:o("tuning.custom")}),w==="custom"&&h.jsx("div",{className:"p-4",children:h.jsx(Gh,{instrument:d})})]})]})]});function j(){return d==="guitar"?vi.filter(R=>R.stringCount===p):xi.filter(R=>R.stringCount===p)}},Cd=P.createContext(void 0),qh=({children:l})=>{const[r,a]=P.useState(()=>{const u=localStorage.getItem("theme");return u?u==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches}),o=()=>{a(!r)};return P.useEffect(()=>{localStorage.setItem("theme",r?"dark":"light"),r?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[r]),h.jsx(Cd.Provider,{value:{isDark:r,toggleTheme:o},children:l})},Jh=()=>{const l=P.useContext(Cd);if(!l)throw new Error("useTheme must be used within a ThemeProvider");return l},Xh=({children:l})=>{const{isDark:r,toggleTheme:a}=Jh(),{language:o,changeLanguage:u,t:d}=Kt(),f=oa(),p=[{path:"/",key:"nav.rhythmTrainer"},{path:"/harmony",key:"nav.harmony"}],[g,v]=pn.useState(!1);return h.jsxs("div",{className:"flex flex-col min-h-screen bg-white dark:bg-gray-900",children:[h.jsxs("header",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:[h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between items-center h-16",children:[h.jsx("div",{className:"flex-shrink-0",children:h.jsx("h1",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Guitar Helper"})}),h.jsx("nav",{className:"hidden md:flex space-x-8",children:p.map(y=>h.jsx(zc,{to:y.path,className:`px-3 py-2 rounded-md text-sm font-medium transition-colors ${f.pathname===y.path?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white"}`,children:d(y.key)},y.path))}),h.jsxs("div",{className:"flex items-center space-x-4",children:[h.jsxs("select",{value:o,onChange:y=>u(y.target.value),className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md px-3 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":d("nav.language"),children:[h.jsx("option",{value:"ru",children:"Русский"}),h.jsx("option",{value:"en",children:"English"})]}),h.jsx("button",{onClick:()=>v(!0),className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-200 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":"Выбор инструмента и строя",children:h.jsxs("svg",{width:"23",height:"18",viewBox:"0 0 23 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[h.jsx("path",{d:"M6 2 Q7 1 11.5 1 Q16 1 17 2 Q18 3 18 8 Q18 13 17 15 Q16 17 11.5 17 Q7 17 6 15 Q5 13 5 8 Q5 3 6 2 Z",fill:"none",stroke:"currentColor",strokeWidth:"2"}),h.jsx("circle",{cx:"8",cy:"4",r:"1",fill:"currentColor"}),h.jsx("circle",{cx:"8",cy:"8",r:"1",fill:"currentColor"}),h.jsx("circle",{cx:"8",cy:"12",r:"1",fill:"currentColor"}),h.jsx("circle",{cx:"15",cy:"4",r:"1",fill:"currentColor"}),h.jsx("circle",{cx:"15",cy:"8",r:"1",fill:"currentColor"}),h.jsx("circle",{cx:"15",cy:"12",r:"1",fill:"currentColor"}),h.jsx("rect",{x:"10",y:"2",width:"3",height:"14",rx:"1",fill:"none",stroke:"currentColor",strokeWidth:"0.5"})]})}),h.jsx("button",{onClick:a,className:"p-2 rounded-md text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white focus:outline-none focus:ring-2 focus:ring-primary-500","aria-label":d("nav.theme"),children:r?h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z",clipRule:"evenodd"})}):h.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{d:"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"})})})]})]})}),h.jsx("div",{className:"md:hidden",children:h.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700",children:p.map(y=>h.jsx(zc,{to:y.path,className:`block px-3 py-2 rounded-md text-base font-medium transition-colors ${f.pathname===y.path?"bg-primary-100 text-primary-700 dark:bg-primary-900 dark:text-primary-300":"text-gray-500 hover:text-gray-700 dark:text-gray-300 dark:hover:text-white"}`,children:d(y.key)},y.path))})})]}),h.jsx("main",{className:"max-w-7xl w-full mx-auto py-6 px-4 sm:px-6 lg:px-8",children:l}),h.jsx(Qh,{isOpen:g,onClose:()=>v(!1)}),h.jsx("footer",{className:"w-full py-4 mt-auto bg-gray-50 dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700 text-center text-sm text-gray-600 dark:text-gray-400",children:d("footer.madeWithLove")})]})},Rn=({label:l,playFn:r,icon:a,disabled:o,className:u})=>{const[d,f]=P.useState(!1),p=async()=>{if(!(o||d)){f(!0);try{await r()}finally{setTimeout(()=>f(!1),1200)}}};return h.jsxs("button",{type:"button",className:`relative flex items-center justify-center px-4 py-2 rounded-md font-medium transition-colors duration-150
        ${d?"bg-green-500 text-white animate-pulse":"bg-gray-100 dark:bg-gray-700 text-gray-900 dark:text-white"}
        ${o||d?"opacity-60 cursor-not-allowed":"hover:bg-green-100 dark:hover:bg-green-600"}
        ${u||""}`,onClick:p,disabled:o||d,children:[a&&h.jsx("span",{className:"mr-2",children:a}),d?"▶️":""," ",l]})},od=l=>l.function==="T"?"success":l.function==="S"?"warning":l.function==="D"?"info":"default",Yh=({currentKey:l,chordInfo:r,handlePlayChord:a})=>{const{t:o}=Kt();return!l||r.length===0?null:h.jsxs(aa,{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:o("harmony.chordsTitle")}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"min-w-full text-sm border rounded-lg bg-white dark:bg-gray-900",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"bg-gray-100 dark:bg-gray-800",children:[h.jsx("th",{className:"max-sm:hidden px-3 py-2 text-left",children:o("harmony.degree")}),h.jsx("th",{className:"px-3 py-2 text-left",children:o("harmony.romanNumerals")}),h.jsx("th",{className:"max-sm:hidden px-3 py-2 text-left",children:o("harmony.function")}),h.jsx("th",{className:"px-3 py-2 text-left",children:o("harmony.triad")}),h.jsx("th",{className:"px-3 py-2 text-left",children:o("harmony.seventh")}),h.jsx("th",{className:"max-sm:hidden px-3 py-2 text-left",children:o("harmony.extensions")})]})}),h.jsx("tbody",{children:r.map((u,d)=>{const f=d+1,p=l.getSeventhChord(f),g=l.getExtendedChords(f);return h.jsxs("tr",{className:"border-b dark:border-gray-700",children:[h.jsx("td",{className:"max-sm:hidden px-3 py-2 font-medium",children:f}),h.jsx("td",{className:"px-3 py-2",children:h.jsx(cr,{variant:od(u),size:"sm",children:u.romanNumeral})}),h.jsx("td",{className:"max-sm:hidden px-3 py-2",children:h.jsx(cr,{variant:od(u),size:"sm",children:u.function})}),h.jsx("td",{className:"px-3 py-2",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Rn,{label:u.name,playFn:()=>a(l.chords[d]),icon:h.jsx("span",{children:"🎵"})}),h.jsxs("div",{className:"max-sm:hidden",children:[h.jsx("div",{children:u.name}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:u.notes.join(" - ")})]})]})}),h.jsx("td",{className:"px-3 py-2",children:h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Rn,{label:p.name,playFn:()=>a(p),icon:h.jsx("span",{children:"🎵"})}),h.jsxs("div",{className:"max-sm:hidden",children:[h.jsx("div",{children:p.name}),h.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:p.getNoteNames().join(" - ")})]})]})}),h.jsx("td",{className:"max-sm:hidden px-3 py-2",children:g.length>0?h.jsx("div",{className:"space-y-1",children:g.map((v,y)=>h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx(Rn,{label:v.name,playFn:()=>a(v),icon:h.jsx("span",{children:"🎵"})}),h.jsx("span",{className:"text-xs",children:v.name})]},y))}):h.jsx("span",{className:"text-gray-400",children:"—"})})]},d)})})]})})]})},Zh=l=>{switch(l){case"strong":return"success";case"medium":return"warning";case"weak":return"error";default:return"default"}},eg=({cadences:l,handlePlayCadence:r})=>{const{t:a}=Kt();return!l||l.length===0?null:h.jsxs(aa,{children:[h.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:[a("harmony.cadencesTitle")," (",l.length,")"]}),h.jsx("div",{className:"space-y-3",children:l.map((o,u)=>h.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg p-4",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsxs("div",{className:"flex items-center space-x-2",children:[h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),h.jsx(cr,{variant:Zh(o.strength),children:o.strength==="strong"?a("harmony.strong"):o.strength==="medium"?a("harmony.medium"):a("harmony.weak")})]}),h.jsx(Rn,{label:a("common.play"),playFn:()=>r(o),icon:h.jsx("span",{children:"🎵"})})]}),h.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[h.jsxs("span",{className:"font-medium",children:[a("harmony.progression"),":"]})," ",o.romanNumerals.join(" → ")," (",o.adjustedChords?.join(" → "),")"]})]},u))})]})},tg=({modulations:l,handlePlayModulation:r,handlePlayReturnModulation:a})=>{const{t:o}=Kt(),[u,d]=P.useState(new Set(["diatonic"]));if(!l||l.length===0)return null;const f=l.reduce((I,j)=>{const R=j.category;return I[R]||(I[R]=[]),I[R].push(j),I},{}),p={diatonic:o("harmony.mainModulations"),modal:o("harmony.modalModulations"),chromatic:o("harmony.chromaticModulations"),enharmonic:o("harmony.enharmonicModulations"),sequential:o("harmony.sequentialModulations"),jazz:o("harmony.jazzModulations"),modern:o("harmony.modernModulations"),special:o("harmony.specialModulations")},g={diatonic:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200",modal:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200",chromatic:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200",enharmonic:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200",sequential:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",jazz:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",modern:"bg-pink-100 text-pink-800 dark:bg-pink-900 dark:text-pink-200",special:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"},v={easy:"bg-green-100 text-green-700 dark:bg-green-900 dark:text-green-300",medium:"bg-yellow-100 text-yellow-700 dark:bg-yellow-900 dark:text-yellow-300",hard:"bg-red-100 text-red-700 dark:bg-red-900 dark:text-red-300"},y=I=>{const j=new Set(u);j.has(I)?j.delete(I):j.add(I),d(j)},k=l.length,w=I=>I?"text-blue-600 dark:text-blue-400 font-medium":"text-red-600 dark:text-red-400 font-medium";return h.jsxs(aa,{children:[h.jsxs("div",{className:"flex items-center justify-between mb-4 max-sm:p-1",children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:o("harmony.modulationsTitle")}),h.jsx("div",{className:"max-sm:hidden text-sm text-gray-500 dark:text-gray-400 bg-gray-100 dark:bg-gray-800 px-3 py-1 rounded-full",children:o("harmony.foundModulations").replace("{{count}}",k.toString())})]}),h.jsxs("div",{className:"max-sm:hidden mb-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[h.jsxs("h4",{className:"text-sm font-medium text-blue-900 dark:text-blue-100 mb-2",children:[o("harmony.chordNotations"),":"]}),h.jsxs("div",{className:"flex flex-wrap gap-4 text-xs",children:[h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-medium",children:"■"}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:o("harmony.currentKey")})]}),h.jsxs("div",{className:"flex items-center space-x-1",children:[h.jsx("span",{className:"text-red-600 dark:text-red-400 font-medium",children:"■"}),h.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:o("harmony.targetKey")})]})]})]}),h.jsx("div",{className:"space-y-4",children:Object.entries(f).map(([I,j])=>{const R=u.has(I),_=p[I]||I;return h.jsxs("div",{className:"border border-gray-200 dark:border-gray-600 rounded-lg",children:[h.jsxs("button",{onClick:()=>y(I),className:"w-full flex items-center justify-between p-4 text-left hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[h.jsxs("div",{className:"flex items-center space-x-3",children:[h.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:_}),h.jsx(cr,{variant:"info",size:"sm",className:g[I],children:j.length})]}),h.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:R?"▲":"▼"})]}),R&&h.jsx("div",{className:"border-t border-gray-200 dark:border-gray-600 p-4 max-sm:p-1 space-y-3",children:j.map((M,G)=>{const U=M.getInfo();return h.jsxs("div",{className:"border border-gray-100 dark:border-gray-700 rounded-lg p-4 max-sm:p-1 bg-gray-50 dark:bg-gray-800",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_auto_auto] items-start sm:items-center mb-4 gap-2",children:[h.jsxs("div",{className:"flex flex-col space-y-2",children:[h.jsx("div",{className:"flex items-center space-x-3 max-sm:space-x-1",children:h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:[h.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:U.fromKey}),h.jsx("span",{className:"mx-2 text-gray-400",children:"→"}),h.jsx("span",{className:"text-red-600 dark:text-red-400",children:U.toKey})]})})}),h.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:M.name})]}),h.jsxs("div",{className:"flex flex-row gap-2 sm:gap-2 mt-2 sm:mt-0",children:[h.jsx(cr,{variant:"warning",size:"sm",className:v[M.difficulty],children:M.difficulty==="easy"?o("harmony.easy"):M.difficulty==="medium"?o("harmony.medium"):o("harmony.hard")}),h.jsx(cr,{variant:"default",size:"sm",children:M.description})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-2 items-start sm:items-center mt-2 sm:mt-0",children:[h.jsx(Rn,{label:o("harmony.modulation"),playFn:()=>r(U),icon:h.jsx("span",{children:"🎵"})}),U.returnAdjustedChords&&h.jsx(Rn,{label:o("harmony.return"),playFn:()=>a(U),icon:h.jsx("span",{children:"🔄"})})]})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 max-sm:p-2 border border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("harmony.romanNumerals"),":"]}),h.jsx("div",{className:"flex items-center space-x-2 sm:space-x-0 font-mono text-base",children:U.romanNumerals.map((W,H)=>h.jsxs(pn.Fragment,{children:[h.jsx("span",{className:`px-2 py-1 rounded ${w(H<U.romanNumerals.length/2)} bg-opacity-10 border ${H<U.romanNumerals.length/2?"border-blue-300 dark:border-blue-600 bg-blue-100 dark:bg-blue-900":"border-red-300 dark:border-red-600 bg-red-100 dark:bg-red-900"}`,children:W}),H<U.romanNumerals.length-1&&h.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-lg",children:"→"})]},H))})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 max-sm:p-2 border border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("harmony.chords"),":"]}),h.jsx("div",{className:"flex items-center space-x-2 text-base",children:U.adjustedChords.map((W,H)=>h.jsxs(pn.Fragment,{children:[h.jsx("span",{className:`px-3 py-1 rounded-lg font-semibold ${w(H<U.adjustedChords.length/2)} ${H<U.adjustedChords.length/2?"bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-600":"bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-600"}`,children:W.name}),H<U.adjustedChords.length-1&&h.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-lg",children:"→"})]},H))})]}),U.returnAdjustedChords&&h.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-600 pt-3",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-3 flex items-center",children:[h.jsx("span",{className:"mr-2",children:"🔄"}),o("harmony.returnModulation")]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 max-sm:p-2 border border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("harmony.romanNumerals"),":"]}),h.jsx("div",{className:"flex items-center space-x-2 font-mono text-base",children:U.returnRomanNumerals?.map((W,H)=>h.jsxs(pn.Fragment,{children:[h.jsx("span",{className:`px-2 py-1 rounded ${w(H>=(U.returnRomanNumerals?.length||0)/2)} bg-opacity-10 border ${H>=(U.returnRomanNumerals?.length||0)/2?"border-blue-300 dark:border-blue-600 bg-blue-100 dark:bg-blue-900":"border-red-300 dark:border-red-600 bg-red-100 dark:bg-red-900"}`,children:W}),H<(U.returnRomanNumerals?.length||0)-1&&h.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-lg",children:"→"})]},H))})]}),h.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-lg p-3 max-sm:p-2 border border-gray-200 dark:border-gray-600",children:[h.jsxs("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:[o("harmony.chords"),":"]}),h.jsx("div",{className:"flex items-center space-x-2 text-base",children:U.returnAdjustedChords.map((W,H)=>h.jsxs(pn.Fragment,{children:[h.jsx("span",{className:`px-3 py-1 rounded-lg font-semibold ${w(H>=U.returnAdjustedChords.length/2)} ${H>=U.returnAdjustedChords.length/2?"bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-600":"bg-red-100 dark:bg-red-900 border border-red-300 dark:border-red-600"}`,children:W.name}),H<U.returnAdjustedChords.length-1&&h.jsx("span",{className:"text-gray-400 dark:text-gray-500 text-lg",children:"→"})]},H))})]})]})]})]})]},G)})})]},I)})})]})};class Ee{static NOTES=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];static ENHARMONIC_MAP={Db:"C#",Eb:"D#",Gb:"F#",Ab:"G#",Bb:"A#","E#":"F","B#":"C",Cb:"B",Fb:"E","C##":"D","D##":"E","E##":"F#","F##":"G","G##":"A","A##":"B","B##":"C#",Cbb:"A#",Dbb:"C",Ebb:"D",Fbb:"D#",Gbb:"F",Abb:"G",Bbb:"A"};_value;_name;constructor(r){if(typeof r=="number")this._value=(r%12+12)%12,this._name=Ee.NOTES[this._value];else{const a=Ee.NOTES.indexOf(r);if(a!==-1)this._value=a,this._name=r;else{const o=Ee.ENHARMONIC_MAP[r];if(o){const u=Ee.NOTES.indexOf(o);if(u!==-1)this._value=u,this._name=r;else throw new Error(`Invalid note: ${r}`)}else throw new Error(`Invalid note: ${r}`)}}}get value(){return this._value}get name(){return this._name}get frequency(){const a=60+this._value;return 440*Math.pow(2,(a-69)/12)}transpose(r,a=!1){const o=(this._value+r+12)%12;if(a)return new Ee(Ee.NOTES[o]);const u=this._name,d=Object.entries(Ee.ENHARMONIC_MAP).filter(([,f])=>Ee.NOTES.indexOf(f)===o).map(([f])=>f);if(/b$/.test(u)){const f=d.find(p=>/b$/.test(p));if(f)return new Ee(f)}if(/#/.test(u)){const f=d.find(p=>/#/.test(p));if(f)return new Ee(f)}if(/bb$/.test(u)){const f=d.find(p=>/bb$/.test(p));if(f)return new Ee(f)}if(/##$/.test(u)){const f=d.find(p=>/##$/.test(p));if(f)return new Ee(f)}return new Ee(o)}intervalTo(r){let a=r._value-this._value;return a<0&&(a+=12),a}equals(r){return this._value===r._value}toString(){return this._name}static getAllNotes(){return[...Ee.NOTES]}static isValidNote(r){const a=Ee.ENHARMONIC_MAP[r]||r;return Ee.NOTES.includes(a)}}class Be{static CHORD_INTERVALS={major:[0,4,7],minor:[0,3,7],diminished:[0,3,6],augmented:[0,4,8],dominant7:[0,4,7,10],major7:[0,4,7,11],minor7:[0,3,7,10],halfDiminished7:[0,3,6,10],augmented7:[0,4,8,11]};static EXTENSION_INTERVALS={6:9,9:14,11:17,13:21,add9:14,sus2:2,sus4:5};_root;_type;_extensions;_notes;constructor(r,a="major",o=[]){this._root=typeof r=="string"?new Ee(r):r,this._type=a,this._extensions=o,this._notes=this.buildNotes()}toRomanNumber(r){const o={I:{semitones:0,type:"major"},II:{semitones:2,type:"major"},III:{semitones:4,type:"major"},IV:{semitones:5,type:"major"},V:{semitones:7,type:"major"},VI:{semitones:9,type:"major"},VII:{semitones:11,type:"major"},i:{semitones:0,type:"minor"},ii:{semitones:2,type:"minor"},iii:{semitones:4,type:"minor"},iv:{semitones:5,type:"minor"},v:{semitones:7,type:"minor"},vi:{semitones:9,type:"minor"},vii:{semitones:11,type:"minor"},"i°":{semitones:0,type:"diminished"},"ii°":{semitones:2,type:"diminished"},"iii°":{semitones:4,type:"diminished"},"iv°":{semitones:5,type:"diminished"},"v°":{semitones:7,type:"diminished"},"vi°":{semitones:9,type:"diminished"},"vii°":{semitones:11,type:"diminished"},"♭II":{semitones:1,type:"major"},"♭III":{semitones:3,type:"major"},"♭V":{semitones:6,type:"major"},"♭VI":{semitones:8,type:"major"},"♭VII":{semitones:10,type:"major"},"♭ii":{semitones:1,type:"minor"},"♭iii":{semitones:3,type:"minor"},"♭v":{semitones:6,type:"minor"},"♭vi":{semitones:8,type:"minor"},"♭vii":{semitones:10,type:"minor"},"♯iv":{semitones:6,type:"major"},"♯iv°":{semitones:6,type:"diminished"},"♯v":{semitones:8,type:"major"},"♯V":{semitones:8,type:"major"},I7:{semitones:0,type:"dominant7"},V7:{semitones:7,type:"dominant7"},i7:{semitones:0,type:"minor7"},ii7:{semitones:2,type:"minor7"},iv7:{semitones:5,type:"minor7"},v7:{semitones:7,type:"minor7"},vi7:{semitones:9,type:"minor7"},Imaj7:{semitones:0,type:"major7"},IVmaj7:{semitones:5,type:"major7"},"ii7♭5":{semitones:2,type:"halfDiminished7"},"vii7♭5":{semitones:11,type:"halfDiminished7"},"♭II7":{semitones:1,type:"dominant7"},"I+":{semitones:0,type:"augmented"},"♭III+":{semitones:3,type:"augmented"},"Ger+6":{semitones:8,type:"augmented7"}}[r];if(o){const u=this._root.transpose(o.semitones);return new Be(u,o.type,o.extensions||[])}throw new Error(`Unsupported roman numeral: ${r}`)}buildNotes(){const r=[...Be.CHORD_INTERVALS[this._type]];for(const a of this._extensions){const o=Be.EXTENSION_INTERVALS[a];o!==void 0&&!r.includes(o)&&r.push(o)}return r.sort((a,o)=>a-o),r.map(a=>this._root.transpose(a))}get root(){return this._root}get type(){return this._type}get extensions(){return[...this._extensions]}get notes(){return[...this._notes]}get name(){let r=this._root.name;switch(this._type){case"major":break;case"minor":r+="m";break;case"diminished":r+="dim";break;case"augmented":r+="aug";break;case"dominant7":r+="7";break;case"major7":r+="maj7";break;case"minor7":r+="m7";break;case"halfDiminished7":r+="m7b5";break;case"augmented7":r+="aug7";break}for(const a of this._extensions)a==="add9"?r+="add9":a==="sus2"?r+="sus2":a==="sus4"?r+="sus4":r+=a;return r}get quality(){switch(this._type){case"major":case"major7":return"major";case"minor":case"minor7":return"minor";case"diminished":case"halfDiminished7":return"diminished";case"augmented":case"augmented7":return"augmented";case"dominant7":return"dominant";default:return"major"}}transpose(r){const a=this._root.transpose(r);return new Be(a,this._type,this._extensions)}containsNote(r){return this._notes.some(a=>a.equals(r))}getNoteNames(){return this._notes.map(r=>r.name)}toString(){return this.name}equals(r){return this._root.equals(r._root)&&this._type===r._type}static fromString(r){const a=r.match(/^([A-G][#b]?)(.*)$/);if(!a)throw new Error(`Invalid chord string: ${r}`);const[,o,u]=a;let d="major";const f=[],p=u.toLowerCase();return p===""||p==="maj"?d="major":p==="m"||p==="min"?d="minor":p==="dim"?d="diminished":p==="aug"?d="augmented":p==="7"?d="dominant7":p==="maj7"?d="major7":p==="m7"?d="minor7":p==="m7b5"&&(d="halfDiminished7"),new Be(o,d,f)}static getAvailableTypes(){return Object.keys(Be.CHORD_INTERVALS)}static getAvailableExtensions(){return Object.keys(Be.EXTENSION_INTERVALS)}}class ${static MODE_INTERVALS={major:{intervals:[0,2,4,5,7,9,11],romanNumerals:["I","ii","iii","IV","V","vi","vii°"]},ionian:{intervals:[0,2,4,5,7,9,11],romanNumerals:["I","ii","iii","IV","V","vi","vii°"]},minor:{intervals:[0,2,3,5,7,8,10],romanNumerals:["i","ii°","♭III","iv","v","♭VI","♭VII"]},aeolian:{intervals:[0,2,3,5,7,8,10],romanNumerals:["i","ii°","♭III","iv","v","♭VI","♭VII"]},dorian:{intervals:[0,2,3,5,7,9,10],romanNumerals:["i","ii","♭III","IV","v","vi","♭VII"]},phrygian:{intervals:[0,1,3,5,7,8,10],romanNumerals:["i","♭II","♭III","iv","v°","♭VI","♭vii"]},lydian:{intervals:[0,2,4,6,7,9,11],romanNumerals:["I","II","iii","♯iv°","V","vi","vii"]},mixolydian:{intervals:[0,2,4,5,7,9,10],romanNumerals:["I","ii","iii°","IV","v","vi","♭VII"]},locrian:{intervals:[0,1,3,5,6,8,10],romanNumerals:["i°","♭II","♭iii","iv","♭V","♭VI","♭vii"]},harmonicMinor:{intervals:[0,2,3,5,7,8,11],romanNumerals:["i","ii°","♭III+","iv","V","♭VI","vii°"]},harmonicMajor:{intervals:[0,2,4,5,7,8,11],romanNumerals:["I","ii","iii","iv","V","♭vi°","vii°"]},phrygianDominant:{intervals:[0,1,4,5,7,8,10],romanNumerals:["I","♭ii","iii°","iv","v°","♭VI","♭vii"]},lydianSharp2:{intervals:[0,3,4,6,7,9,11],romanNumerals:["I","♯ii","iii","♯iv°","V","vi","vii°"]},mixolydianFlat9Flat13:{intervals:[0,1,4,5,7,8,10],romanNumerals:["I","♭ii","iii","IV","v","♭vi","♭VII"]},ultraLocrian:{intervals:[0,1,3,4,6,8,9],romanNumerals:["i°","♭ii","♭III","♭iv","♭V","♭vi","♭♭vii"]},doubleHarmonicMajor:{intervals:[0,1,4,5,7,8,11],romanNumerals:["I","♭ii","iii","IV","V","♭vi","vii°"]},hungarianMinor:{intervals:[0,2,3,6,7,8,11],romanNumerals:["i","ii","♭III","♯iv°","V","♭VI","vii°"]},melodicMinor:{intervals:[0,2,3,5,7,9,11],romanNumerals:["i","ii","♭III+","IV","V","vi°","vii°"]},dorianFlat2:{intervals:[0,1,3,5,7,9,10],romanNumerals:["i","♭ii","♭III","IV","v","vi","♭VII"]},lydianAugmented:{intervals:[0,2,4,6,8,9,11],romanNumerals:["I+","ii","iii","♯iv","♯V","vi","vii"]},lydianDominant:{intervals:[0,2,4,6,7,9,10],romanNumerals:["I","II","iii","♯iv°","v","vi","♭VII"]},mixolydianFlat6:{intervals:[0,2,4,5,7,8,10],romanNumerals:["I","ii","iii°","IV","v","♭vi","♭VII"]},locrianNat2:{intervals:[0,2,3,5,6,8,10],romanNumerals:["i°","ii","♭III","iv","♭V","♭VI","♭vii"]},alteredScale:{intervals:[0,1,3,4,6,8,10],romanNumerals:["i","♭ii","♭iii","♭iv","♭V","♭vi","♭VII"]}};static KEY_SIGNATURES={C:[],G:["F#"],D:["F#","C#"],A:["F#","C#","G#"],E:["F#","C#","G#","D#"],B:["F#","C#","G#","D#","A#"],"F#":["F#","C#","G#","D#","A#","E#"],"C#":["F#","C#","G#","D#","A#","E#","B#"],F:["Bb"],Bb:["Bb","Eb"],Eb:["Bb","Eb","Ab"],Ab:["Bb","Eb","Ab","Db"],Db:["Bb","Eb","Ab","Db","Gb"],Gb:["Bb","Eb","Ab","Db","Gb","Cb"]};_tonic;_mode;_notes;_chords;constructor(r,a="major"){this._tonic=typeof r=="string"?new Ee(r):r,this._mode=a,this._notes=this.buildNotes(),this._chords=this.buildChords()}buildNotes(){return this.buildNotesWithAlgorithm()}buildNotesWithAlgorithm(){const r=["C","D","E","F","G","A","B"],a=$.MODE_INTERVALS[this._mode].intervals,o=[this._tonic],u=this._tonic.name[0],d=r.indexOf(u);let f=null;this._tonic.name.includes("#")?f="sharp":this._tonic.name.includes("b")&&(f="flat");for(let p=1;p<a.length;p++){const g=(d+p)%r.length,v=r[g],y=(this._tonic.value+a[p])%12,k=this.findNoteWithLetterAndValue(v,y,f);f===null&&k.name.includes("#")?f="sharp":f===null&&k.name.includes("b")&&(f="flat"),o.push(k)}return this.ensureSevenUniqueNotes(o)}findNoteWithLetterAndValue(r,a,o){const u=[r,r+"#",r+"b",r+"##",r+"bb"],d=[];for(const p of u)try{const g=new Ee(p);g.value===a&&d.push(g)}catch{}if(d.length===0)return this.findEnharmonicEquivalentForValue(a,o);if(d.length===1)return d[0];if(o==="sharp"){const p=d.find(g=>g.name.includes("#"));if(p)return p}else if(o==="flat"){const p=d.find(g=>g.name.includes("b"));if(p)return p}const f=d.find(p=>!p.name.includes("#")&&!p.name.includes("b"));return f||d[0]}findEnharmonicEquivalentForValue(r,a){const u=[["C","B#","Dbb"],["C#","Db","B##"],["D","C##","Ebb"],["D#","Eb","Fbb"],["E","D##","Fb"],["F","E#","Gbb"],["F#","Gb","E##"],["G","F##","Abb"],["G#","Ab"],["A","G##","Bbb"],["A#","Bb","Cbb"],["B","A##","Cb"]][r]||[];if(a==="sharp"){const p=u.find(g=>g.includes("#"));if(p)try{return new Ee(p)}catch{}}else if(a==="flat"){const p=u.find(g=>g.includes("b"));if(p)try{return new Ee(p)}catch{}}const d=u.find(p=>!p.includes("#")&&!p.includes("b"));if(d)try{return new Ee(d)}catch{}for(const p of u)try{return new Ee(p)}catch{continue}const f=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return new Ee(f[r])}ensureSevenUniqueNotes(r){const a=[],o=new Set;for(const d of r)o.has(d.value)||(a.push(d),o.add(d.value));if(a.length===7)return a;const u=new Set(a.map(d=>d.name));for(;a.length<7;){for(let d=0;d<12;d++)if(!o.has(d)){const f=this.createNoteFromValue(d,u);a.push(f),o.add(d),u.add(f.name);break}if(o.size>=12)break}return a}createNoteFromValue(r,a){const u=[["C","B#","Dbb"],["C#","Db","B##"],["D","C##","Ebb"],["D#","Eb","Fbb"],["E","D##","Fb"],["F","E#","Gbb"],["F#","Gb","E##"],["G","F##","Abb"],["G#","Ab"],["A","G##","Bbb"],["A#","Bb","Cbb"],["B","A##","Cb"]][r]||[];for(const f of u)if(!a.has(f))try{return new Ee(f)}catch{continue}const d=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];return new Ee(d[r])}buildChords(){const r=[],a=$.MODE_INTERVALS[this._mode].romanNumerals;for(let o=0;o<a.length;o++){const u=a[o],d=this._notes[o];try{let f="major";u.includes("°")?f="diminished":u.includes("+")?f="augmented":u===u.toLowerCase()&&!u.includes("♭")&&!u.includes("♯")?f="minor":u!==u.toLowerCase()||u.includes("♭III")||u.includes("♭VI")||u.includes("♭VII")?f="major":u.includes("ii")||u.includes("iii")||u.includes("vi")?f="minor":f="major";const p=new Be(d,f);r.push(p)}catch(f){console.warn(`Failed to create chord for roman numeral ${u}:`,f),r.push(new Be(d,"major"))}}return r}get tonic(){return this._tonic}get mode(){return this._mode}get notes(){return[...this._notes]}get chords(){return[...this._chords]}get name(){const r=$.getFormattedModeName(this._mode);return`${this._tonic.name} ${r}`}static getFormattedModeName(r){return{major:"Major",ionian:"Ionian",minor:"minor",aeolian:"Aeolian",dorian:"Dorian",phrygian:"Phrygian",lydian:"Lydian",mixolydian:"Mixolydian",locrian:"Locrian",harmonicMinor:"Harmonic Minor",harmonicMajor:"Harmonic Major",phrygianDominant:"Phrygian Dominant",lydianSharp2:"Lydian ♯2",mixolydianFlat9Flat13:"Mixolydian ♭9♭13",ultraLocrian:"Ultra Locrian",doubleHarmonicMajor:"Double Harmonic Major",hungarianMinor:"Hungarian Minor",melodicMinor:"Melodic Minor",dorianFlat2:"Dorian ♭2",lydianAugmented:"Lydian Augmented",lydianDominant:"Lydian Dominant",mixolydianFlat6:"Mixolydian ♭6",locrianNat2:"Locrian ♮2",alteredScale:"Altered Scale"}[r]||r}get keySignature(){const r=$.KEY_SIGNATURES[this._tonic.name];return r?[...r]:[]}getChordInfo(){return this._chords.map((r,a)=>({name:r.name,notes:r.getNoteNames(),function:this.getChordFunction(a),romanNumeral:this.getRomanNumeral(a)}))}getChordFunction(r){return this._mode==="major"?["T","S","T","S","D","T","D"][r]||"T":["T","S","T","S","D","T","D"][r]||"T"}getRomanNumeral(r){return $.MODE_INTERVALS[this._mode].romanNumerals[r]||"?"}createChordFromRomanNumeral(r){return this._chords[0].toRomanNumber(r)}getSeventhChord(r){if(r<1||r>7)throw new Error("Degree must be between 1 and 7");const a=r-1,o=this._notes[a],u=this._chords[a],d=this._notes[(a+6)%this._notes.length],f=o.intervalTo(d);let p="major7";return u.type==="major"?p=f===11?"major7":"dominant7":u.type==="minor"?p="minor7":u.type==="diminished"?p="halfDiminished7":u.type==="augmented"&&(p="augmented7"),new Be(o,p)}getExtendedChords(r){if(r<1||r>7)throw new Error("Degree must be between 1 and 7");const a=r-1,o=this._notes[a],u=this._chords[a],d=[];try{u.quality==="major"?(d.push(new Be(o,"major7",["9"])),d.push(new Be(o,"major7",["11"])),d.push(new Be(o,"major7",["13"]))):u.quality==="minor"?(d.push(new Be(o,"minor7",["9"])),d.push(new Be(o,"minor7",["11"])),d.push(new Be(o,"minor7",["13"]))):u.quality==="dominant"&&(d.push(new Be(o,"dominant7",["9"])),d.push(new Be(o,"dominant7",["11"])),d.push(new Be(o,"dominant7",["13"])))}catch{}return d}transpose(r){const a=this._tonic.transpose(r);return new $(a,this._mode)}getEnharmonicEquivalent(){const a={"G#":"Ab","D#":"Eb","A#":"Bb","E#":"F","B#":"C",Fb:"E"}[this._tonic.name];return a?new $(a,this._mode):null}toString(){return this.name}equals(r){return this._tonic.equals(r._tonic)&&this._mode===r._mode}static fromString(r){const a=r.split(" ");if(a.length!==2)throw new Error(`Invalid key string: ${r}`);const[o,u]=a;let d="major";const f=u.toLowerCase();return f==="major"?d="major":f==="minor"?d="minor":Object.keys($.MODE_INTERVALS).includes(f)&&(d=f),new $(o,d)}static getAllMajorKeys(){return["C","G","D","A","E","B","F#","Db","Ab","Eb","Bb","F"].map(a=>new $(a,"major"))}static getAllMinorKeys(){return["A","E","B","F#","C#","G#","D#","Bb","F","C","G","D"].map(a=>new $(a,"minor"))}getModeIntervals(){return $.MODE_INTERVALS[this._mode].intervals}getModeFormula(){const r=this.getModeIntervals();return r.map((a,o)=>o===0?"1":`${a-(r[o-1]||0)}`).join("•")}getIntervalsFromTonic(){const r=this.getModeIntervals(),a=["1","♭2","2","♭3","3","4","♯4","5","♭6","6","♭7","7"];return r.map(o=>a[o]||o.toString()).join(" ")}static getKeyTypeByMode(r){const a=["major","ionian","lydian","mixolydian","lydianAugmented","lydianDominant","harmonicMajor","doubleHarmonicMajor"],o=["minor","aeolian","dorian","phrygian","locrian","harmonicMinor","melodicMinor","dorianFlat2","phrygianDominant","lydianSharp2","mixolydianFlat6","mixolydianFlat9Flat13","locrianNat2","alteredScale","ultraLocrian","hungarianMinor"];return a.includes(r)?"major":o.includes(r)?"minor":"other"}}class _t{static CADENCE_PATTERNS={authentic:{degrees:[5,1],romanNumerals:["V","I"],name:"Perfect Authentic",strength:"strong",modes:["major","ionian","lydian","mixolydian"],category:"authentic"},plagal:{degrees:[4,1],romanNumerals:["IV","I"],name:"Plagal",strength:"medium",modes:["major","ionian","lydian"],category:"plagal"},deceptive:{degrees:[5,6],romanNumerals:["V","vi"],name:"Deceptive",strength:"weak",modes:["major","ionian","lydian"],category:"deceptive"},halfCadence:{degrees:[1,5],romanNumerals:["I","V"],name:"Half Cadence",strength:"medium",modes:["major","ionian","lydian","mixolydian"],category:"half"},ii_v_i_major:{degrees:[2,5,1],romanNumerals:["ii7","V7","Imaj7"],name:"Jazz ii7-V7-Imaj7 (Major)",modes:["major","ionian","lydian"],category:"jazz",strength:"strong"},tritone_substitution:{name:"Tritone Substitution",degrees:[2,5,1],romanNumerals:["♭II7","V7","Imaj7"],modes:["major","ionian","lydian"],category:"jazz",strength:"strong"},backdoor:{degrees:[4,7,1],romanNumerals:["iv","♭VII","I"],name:"Backdoor",modes:["ionian","lydian","mixolydian","major"],category:"modal",strength:"medium"},minor_authentic:{degrees:[5,1],romanNumerals:["V","i"],name:"Minor Authentic",modes:["aeolian","harmonicMinor","dorian","minor"],category:"authentic",strength:"strong"},minor_predominant:{degrees:[2,5,1],romanNumerals:["ii°","V","i"],name:"Minor with Predominant",modes:["aeolian","harmonicMinor","minor"],category:"authentic",strength:"strong"},minor_plagal:{degrees:[4,1],romanNumerals:["iv","i"],name:"Minor Plagal",modes:["aeolian","dorian","phrygian","minor"],category:"plagal",strength:"medium"},phrygian_half:{name:"Phrygian Half",degrees:[4,5],romanNumerals:["iv6","V"],modes:["aeolian","harmonicMinor","phrygian","minor"],category:"half",strength:"weak"},minor_deceptive:{degrees:[5,6],romanNumerals:["V","VI"],name:"Minor Deceptive",modes:["aeolian","harmonicMinor","minor"],category:"deceptive",strength:"weak"},ii_v_i_minor:{name:"Jazz ii-V-i (Minor)",degrees:[2,5,1],romanNumerals:["ii7♭5","V7","im7"],modes:["aeolian","harmonicMinor","dorian","minor"],category:"jazz",strength:"strong"},dorian_vamp:{name:"Dorian Vamp",degrees:[1,4],romanNumerals:["i","IV"],modes:["dorian"],category:"modal",strength:"medium"},dorian_cadence:{name:"Dorian Cadence",degrees:[2,1],romanNumerals:["ii","i"],modes:["dorian"],category:"modal",strength:"medium"},phrygian_cadence:{name:"Phrygian Cadence",degrees:[2,1],romanNumerals:["♭II","i"],modes:["phrygian"],category:"modal",strength:"strong"},phrygian_dominant:{name:"Phrygian Dominant",degrees:[2,1],romanNumerals:["♭II7","i"],modes:["phrygian","harmonicMinor"],category:"modal",strength:"strong"},lydian_resolution:{name:"Lydian Resolution",degrees:[2,1],romanNumerals:["II","I"],modes:["lydian"],category:"modal",strength:"medium"},lydian_cadence:{name:"Lydian Cadence",degrees:[4,1],romanNumerals:["♯iv°","I"],modes:["lydian"],category:"modal",strength:"medium"},mixolydian_cadence:{name:"Mixolydian Cadence",degrees:[7,1],romanNumerals:["♭VII","I"],modes:["mixolydian"],category:"modal",strength:"strong"},mixolydian_vamp:{name:"Mixolydian Vamp",degrees:[1,7],romanNumerals:["I","♭VII"],modes:["mixolydian"],category:"modal",strength:"medium"},locrian_resolution:{name:"Locrian Resolution",degrees:[5,1],romanNumerals:["♭V","i°"],modes:["locrian"],category:"modal",strength:"weak"},chromatic_mediant:{name:"Chromatic Mediant",degrees:[1,6],romanNumerals:["I","♭VI"],modes:["ionian","aeolian","minor","major"],category:"contemporary",strength:"medium"},neapolitan_sixth:{name:"Neapolitan Sixth",degrees:[2,5,1],romanNumerals:["♭II6","V","i"],modes:["aeolian","harmonicMinor","phrygian","minor"],category:"classical",strength:"strong"},german_sixth:{name:"German Sixth",degrees:[6,5,1],romanNumerals:["Ger+6","V","I"],modes:["ionian","aeolian","major","minor"],category:"classical",strength:"strong"}};_key;_type;_chords;_name;_strength;_relevance;constructor(r,a,o="exact"){this._key=r,this._type=a,this._relevance=o;const u=_t.CADENCE_PATTERNS[a];if(!u)throw new Error(`Cadence pattern for type "${a}" not found.`);this._name=u.name,this._strength=u.strength,this._chords=this.buildChords(u.degrees)}buildChords(r){const a=this._key.chords;return r.map(o=>a[o-1])}get key(){return this._key}get type(){return this._type}get chords(){return[...this._chords]}get name(){return this._name}get strength(){return this._strength}get relevance(){return this._relevance}get romanNumerals(){const r=_t.CADENCE_PATTERNS[this._type];return!r||!r.degrees?[]:r.romanNumerals}getInfo(){return{name:this._name,chords:this._chords.map(r=>r.name),romanNumerals:this.romanNumerals,strength:this._strength,type:this._type,modes:_t.CADENCE_PATTERNS[this._type]?.modes??[],adjustedChords:this.getModifiedChords()}}toString(){return`${this._name} (${this.romanNumerals.join(" - ")})`}static getAllCadences(r){const a=Object.keys(_t.CADENCE_PATTERNS),o=$.getKeyTypeByMode(r.mode),u=[],d=[];a.forEach(p=>{const g=_t.CADENCE_PATTERNS[p];if(!g)return;if(g.modes.includes(r.mode)){u.push(new _t(r,p,"exact"));return}const v=g.modes.map(y=>$.getKeyTypeByMode(y));o!=="other"&&v.includes(o)&&d.push(new _t(r,p,"inclination"))});const f=(p,g)=>{const v={strong:0,medium:1,weak:2};return v[p.strength]-v[g.strength]};return u.sort(f),d.sort(f),[...u,...d]}static getCadencesByStrength(r,a){return _t.getAllCadences(r).filter(o=>o.strength===a)}static getExtendedCadences(r){const a=[];try{const o=r.getSeventhChord(5),u=r.chords[0],d=new _t(r,"authentic");d._chords=[o,u],a.push(d)}catch{}return a}getModifiedChords(){return this.romanNumerals.map(r=>{const a=this.key.chords[0];try{return a.toRomanNumber(r)}catch(o){return console.warn("Ошибка преобразования римского номера:",r,o),null}}).filter(Boolean)}}class ot{static MODULATION_PATTERNS={relative:{name:"Относительная модуляция",getTargetKey:r=>{if(r.mode==="major"){const a=r.tonic.transpose(-3);return new $(a,"minor")}else{const a=r.tonic.transpose(3);return new $(a,"major")}},difficulty:"easy",category:"diatonic",description:"Близкое родство"},parallel:{name:"Параллельная модуляция",getTargetKey:r=>{const a=r.mode==="major"?"minor":"major";return new $(r.tonic,a)},difficulty:"medium",category:"modal",description:"Модальное родство"},dominant:{name:"Доминантовая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(7);return new $(a,r.mode)},difficulty:"easy",category:"diatonic",description:"Близкое родство"},subdominant:{name:"Субдоминантовая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(5);return new $(a,r.mode)},difficulty:"easy",category:"diatonic",description:"Близкое родство"},mediant:{name:"Медиантовая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(4);return new $(a,r.mode)},difficulty:"medium",category:"diatonic",description:"Близкое родство"},submediant:{name:"Субмедиантовая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(9);return new $(a,r.mode)},difficulty:"medium",category:"diatonic",description:"Близкое родство"},neapolitan:{name:"Неаполитанская секста",getTargetKey:r=>{const a=r.tonic.transpose(1);return new $(a,r.mode)},difficulty:"hard",category:"chromatic",description:"Хроматическое родство"},augmented_sixth:{name:"Увеличенная секста",getTargetKey:r=>{const a=r.tonic.transpose(-4);return new $(a,r.mode)},difficulty:"hard",category:"chromatic",description:"Хроматическое родство"},chromatic_mediant:{name:"Хроматическая медианта",getTargetKey:r=>{const a=r.tonic.transpose(3);return new $(a,r.mode)},difficulty:"hard",category:"chromatic",description:"Хроматическое родство"},tritone:{name:"Тритоновая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(6);return new $(a,r.mode)},difficulty:"hard",category:"chromatic",description:"Отдалённое родство"},enharmonic:{name:"Энгармоническая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(5);return new $(a,r.mode)},difficulty:"hard",category:"enharmonic",description:"Энгармоническое родство"},diminished_seventh:{name:"Через уменьшенный септаккорд",getTargetKey:r=>{const a=r.tonic.transpose(3);return new $(a,r.mode)},difficulty:"hard",category:"enharmonic",description:"Энгармоническое родство"},augmented_sixth_enharmonic:{name:"Энгармоническая через ув.6",getTargetKey:r=>{const a=r.tonic.transpose(-3);return new $(a,r.mode)},difficulty:"hard",category:"enharmonic",description:"Энгармоническое родство"},sequential_up_tone:{name:"Секвенция вверх на тон",getTargetKey:r=>{const a=r.tonic.transpose(2);return new $(a,r.mode)},difficulty:"medium",category:"sequential",description:"Отдалённое родство"},sequential_down_tone:{name:"Секвенция вниз на тон",getTargetKey:r=>{const a=r.tonic.transpose(-2);return new $(a,r.mode)},difficulty:"medium",category:"sequential",description:"Отдалённое родство"},sequential_up_semitone:{name:"Секвенция вверх на полутон",getTargetKey:r=>{const a=r.tonic.transpose(1);return new $(a,r.mode)},difficulty:"medium",category:"sequential",description:"Отдалённое родство"},sequential_down_semitone:{name:"Секвенция вниз на полутон",getTargetKey:r=>{const a=r.tonic.transpose(-1);return new $(a,r.mode)},difficulty:"medium",category:"sequential",description:"Отдалённое родство"},circle_of_fifths:{name:"По квинтовому кругу",getTargetKey:r=>{const a=r.tonic.transpose(7);return new $(a,r.mode)},difficulty:"easy",category:"sequential",description:"Близкое родство"},modal_interchange:{name:"Модальная замена",getTargetKey:r=>new $(r.tonic,"dorian"),difficulty:"medium",category:"modal",description:"Модальное родство"},dorian:{name:"В дорийский лад",getTargetKey:r=>new $(r.tonic,"dorian"),difficulty:"medium",category:"modal",description:"Модальное родство"},phrygian:{name:"В фригийский лад",getTargetKey:r=>new $(r.tonic,"phrygian"),difficulty:"medium",category:"modal",description:"Модальное родство"},lydian:{name:"В лидийский лад",getTargetKey:r=>new $(r.tonic,"lydian"),difficulty:"medium",category:"modal",description:"Модальное родство"},mixolydian:{name:"В миксолидийский лад",getTargetKey:r=>new $(r.tonic,"mixolydian"),difficulty:"medium",category:"modal",description:"Модальное родство"},locrian:{name:"В локрийский лад",getTargetKey:r=>new $(r.tonic,"locrian"),difficulty:"hard",category:"modal",description:"Модальное родство"},ii_v_modulation:{name:"Через ii-V",getTargetKey:r=>{const a=r.tonic.transpose(7);return new $(a,r.mode)},difficulty:"medium",category:"jazz",description:"Джазовое родство"},tritone_substitution:{name:"Тритоновая замена",getTargetKey:r=>{const a=r.tonic.transpose(6);return new $(a,r.mode)},difficulty:"hard",category:"jazz",description:"Джазовое родство"},backdoor:{name:"Задняя дверь",getTargetKey:r=>{const a=r.tonic.transpose(-2);return new $(a,r.mode)},difficulty:"medium",category:"jazz",description:"Джазовое родство"},side_slipping:{name:"Боковое скольжение",getTargetKey:r=>{const a=r.tonic.transpose(1);return new $(a,r.mode)},difficulty:"hard",category:"jazz",description:"Джазовое родство"},chromatic_planing:{name:"Хроматическое планирование",getTargetKey:r=>{const a=r.tonic.transpose(1);return new $(a,r.mode)},difficulty:"hard",category:"modern",description:"Современное родство"},quartal:{name:"Квартовая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(5);return new $(a,r.mode)},difficulty:"medium",category:"modern",description:"Современное родство"},whole_tone:{name:"Целотонная модуляция",getTargetKey:r=>{const a=r.tonic.transpose(2);return new $(a,r.mode)},difficulty:"hard",category:"modern",description:"Современное родство"},octatonic:{name:"Октатоническая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(3);return new $(a,r.mode)},difficulty:"hard",category:"modern",description:"Современное родство"},pivot_chord:{name:"Через общий аккорд",getTargetKey:r=>{const a=r.tonic.transpose(7);return new $(a,r.mode)},difficulty:"easy",category:"special",description:"Близкое родство"},common_tone:{name:"Через общий звук",getTargetKey:r=>{const a=r.tonic.transpose(4);return new $(a,r.mode)},difficulty:"medium",category:"special",description:"Близкое родство"},stepwise:{name:"Поступенная модуляция",getTargetKey:r=>{const a=r.tonic.transpose(2);return new $(a,r.mode)},difficulty:"medium",category:"special",description:"Близкое родство"},elision:{name:"Элизия (слияние)",getTargetKey:r=>{const a=r.tonic.transpose(5);return new $(a,r.mode)},difficulty:"medium",category:"special",description:"Близкое родство"},deceptive:{name:"Обманная модуляция",getTargetKey:r=>{const a=r.tonic.transpose(9);return new $(a,r.mode)},difficulty:"medium",category:"special",description:"Близкое родство"},abrupt:{name:"Внезапная модуляция",getTargetKey:r=>{const a=r.tonic.transpose(6);return new $(a,r.mode)},difficulty:"hard",category:"special",description:"Отдалённое родство"},phrase:{name:"Фразовая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(7);return new $(a,r.mode)},difficulty:"medium",category:"special",description:"Близкое родство"},monophonic:{name:"Монофоническая модуляция",getTargetKey:r=>{const a=r.tonic.transpose(5);return new $(a,r.mode)},difficulty:"medium",category:"special",description:"Близкое родство"},chromatic_voice_leading:{name:"Хроматическое голосоведение",getTargetKey:r=>{const a=r.tonic.transpose(1);return new $(a,r.mode)},difficulty:"hard",category:"special",description:"Хроматическое родство"}};_fromKey;_toKey;_type;_name;_pivotChord;_progression;constructor(r,a){this._fromKey=r,this._type=a;const o=ot.MODULATION_PATTERNS[a];this._name=o.name,this._toKey=o.getTargetKey(r),this._pivotChord=this.findPivotChord(),this._progression=this.buildProgression()}findPivotChord(){const r=this._fromKey.chords,a=this._toKey.chords;for(const o of r)for(const u of a)if(o.name===u.name)return o;return null}buildProgression(){const r=[],a=this._fromKey.getChordInfo().map(u=>u.romanNumeral),o=this._toKey.getChordInfo().map(u=>u.romanNumeral);return r.push(this._fromKey.createChordFromRomanNumeral(a[0])),this._pivotChord&&r.push(this._pivotChord),r.push(this._toKey.createChordFromRomanNumeral(o[4])),r.push(this._toKey.createChordFromRomanNumeral(o[0])),r}get fromKey(){return this._fromKey}get toKey(){return this._toKey}get type(){return this._type}get name(){return this._name}get pivotChord(){return this._pivotChord}get progression(){return[...this._progression]}get romanNumerals(){const r=this._fromKey.getChordInfo().map(u=>u.romanNumeral),a=this._toKey.getChordInfo().map(u=>u.romanNumeral),o=[];if(o.push(r[0]),this._pivotChord){const u=this._fromKey.chords.findIndex(d=>d.name===this._pivotChord.name);u!==-1?o.push(r[u]):o.push("?")}return o.push(a[4]),o.push(a[0]),o}getInfo(){const r=this.getReturnModulation();return{fromKey:this._fromKey.name,toKey:this._toKey.name,type:this._type,pivotChord:this._pivotChord?.name,progression:this._progression.map(a=>a.name),romanNumerals:this.romanNumerals,adjustedChords:this.getModifiedChords(),returnProgression:r?r.progression.map(a=>a.name):void 0,returnRomanNumerals:r?r.romanNumerals:void 0,returnAdjustedChords:r?r.getModifiedChords():void 0}}getModifiedChords(){return this._progression}toString(){return`${this._name}: ${this._fromKey.name} → ${this._toKey.name}`}static getAllModulations(r){return Object.keys(ot.MODULATION_PATTERNS).map(o=>new ot(r,o))}static getModulationsByCategory(r,a){return ot.getAllModulations(r).filter(o=>ot.MODULATION_PATTERNS[o.type].category===a)}static getModulationsByDifficulty(r,a){return ot.getAllModulations(r).filter(o=>ot.MODULATION_PATTERNS[o.type].difficulty===a)}static getBasicModulations(r){return["relative","parallel","dominant","subdominant","mediant","submediant"].map(o=>new ot(r,o))}get category(){return ot.MODULATION_PATTERNS[this._type].category}get difficulty(){return ot.MODULATION_PATTERNS[this._type].difficulty}get description(){return ot.MODULATION_PATTERNS[this._type].description}static findModulation(r,a){const o=ot.getAllModulations(r);for(const u of o)if(u.toKey.equals(a))return u;return null}getReturnModulation(){return ot.findModulation(this._toKey,this._fromKey)}}class bd{ctx;unlocked=!1;unlockHandler=this._unlock.bind(this);constructor(){this._attachUnlockListeners()}getContext(){if(!this.ctx){const r=window.AudioContext||window.webkitAudioContext;this.ctx=new r}return this.ctx}async _unlock(){if(!this.unlocked)try{const r=this.getContext();r.state==="suspended"&&await r.resume();const a=r.createBuffer(1,1,22050),o=r.createBufferSource();o.buffer=a,o.connect(r.destination),o.start(0),await new Promise(u=>setTimeout(u,0)),r.state==="running"&&(this.unlocked=!0,this._detachUnlockListeners())}catch{}}_attachUnlockListeners(){const r={once:!1,passive:!0};window.addEventListener("pointerdown",this.unlockHandler,r),window.addEventListener("touchstart",this.unlockHandler,r),window.addEventListener("click",this.unlockHandler,r),window.addEventListener("keydown",this.unlockHandler)}_detachUnlockListeners(){window.removeEventListener("pointerdown",this.unlockHandler),window.removeEventListener("touchstart",this.unlockHandler),window.removeEventListener("click",this.unlockHandler),window.removeEventListener("keydown",this.unlockHandler)}async enable(){await this._unlock()}async close(){this.ctx&&(await this.ctx.close(),this.ctx=void 0,this.unlocked=!1,this._attachUnlockListeners())}}class ng{engine;masterGain;ac;reverb=null;delay=null;constructor(r){this.engine=r||new bd,this.ac=this.engine.getContext(),this.masterGain=this.ac.createGain(),this.masterGain.gain.value=.9,this.masterGain.connect(this.ac.destination),this.reverb=this.ac.createConvolver(),this.reverb.buffer=this.createImpulseResponse(1.2,.5),this.reverb.connect(this.masterGain),this.delay=this.ac.createDelay(),this.delay.delayTime.value=.18,this.delay.connect(this.masterGain)}createImpulseResponse(r,a){const o=this.ac.sampleRate,u=o*r,d=this.ac.createBuffer(2,u,o);for(let f=0;f<2;f++){const p=d.getChannelData(f);for(let g=0;g<u;g++)p[g]=(Math.random()*2-1)*Math.pow(1-g/u,a)}return d}playNote(r,a={}){try{this.ac.state==="suspended"&&this.ac.resume()}catch{}const o=a.duration??5,u=a.decay??.997,d=a.velocity??.28;a.instrument;const f=this.ac.sampleRate,p=Math.max(1,Math.floor(o*f)),g=Math.max(2,Math.floor(f/r)),v=this.ac.createBuffer(1,p,f),y=v.getChannelData(0);for(let H=0;H<g;H++)y[H]=(Math.random()*2-1)*.5;for(let H=g;H<p;H++){const ce=u*.96;y[H]=.5*(y[H-g]+(H-g-1>=0?y[H-g-1]:0))*ce}const k=this.ac.createBufferSource();k.buffer=v;const w=this.ac.createBiquadFilter();w.type="lowpass";const I=300;w.frequency.value=Math.max(I,r*6),w.Q.value=1.5;const j=this.ac.createBiquadFilter();j.type="lowpass",j.frequency.value=Math.max(600,r*4);const R=this.ac.currentTime+0,_=this.ac.createGain();_.gain.setValueAtTime(1e-4,R),_.gain.exponentialRampToValueAtTime(Math.max(1e-4,d),R+.01),_.gain.exponentialRampToValueAtTime(1e-4,R+o);const M=Math.max(.02,d*.4),G=this.ac.createGain();G.gain.setValueAtTime(1e-4,R),G.gain.exponentialRampToValueAtTime(M,R+.02),G.gain.exponentialRampToValueAtTime(1e-4,R+Math.max(o,3));const U=a.reverb??!0,W=a.delay??!1;k.connect(w),w.connect(_),U&&this.reverb&&_.connect(this.reverb),W&&this.delay&&_.connect(this.delay),_.connect(this.masterGain),k.connect(j),j.connect(G),G.connect(this.masterGain),k.start(R),k.stop(R+Math.max(o,3.2)),k.onended=()=>{try{k.disconnect(),w.disconnect(),_.disconnect(),j.disconnect(),G.disconnect()}catch{}}}playChord(r,a={}){r.forEach((o,u)=>{setTimeout(()=>this.playNote(o,a),u*10)})}playArpeggio(r,a={},o){const u=a.direction??"up",d=a.tempo??.35,f=u==="down"?[...r].reverse():r;f.forEach((p,g)=>{setTimeout(()=>this.playNote(p,a),g*d*1e3),g===f.length-1&&o&&setTimeout(o,(g+2)*d*1e3)})}playScale(r,a={}){this.playArpeggio(r,a)}playProgression(r,a={}){const o=a.tempo??1;r.forEach((u,d)=>{setTimeout(()=>this.playChord(u,a),d*o*1e3)})}stop(){this.engine.close()}}const Ed="harmonyGenerator.selectedKey",rg=()=>{try{const l=localStorage.getItem(Ed);if(l){const r=JSON.parse(l);return{selectedNote:r.selectedNote||"C",selectedAccidental:r.selectedAccidental||"",selectedMode:r.selectedMode||"major"}}}catch{}return{selectedNote:"C",selectedAccidental:"",selectedMode:"major"}},ag=()=>{const{t:l}=Kt(),r=rg(),[a,o]=P.useState(r.selectedNote),[u,d]=P.useState(r.selectedAccidental),[f,p]=P.useState(r.selectedMode),[g,v]=P.useState(null),[y,k]=P.useState([]),[w,I]=P.useState([]),[j,R]=P.useState([]),[_,M]=P.useState("cadences"),G=new ng;P.useEffect(()=>{localStorage.setItem(Ed,JSON.stringify({selectedNote:a,selectedAccidental:u,selectedMode:f}))},[a,u,f]);const U=[{value:"C",label:"C"},{value:"D",label:"D"},{value:"E",label:"E"},{value:"F",label:"F"},{value:"G",label:"G"},{value:"A",label:"A"},{value:"B",label:"B"}],W=[{value:"",label:"♮"},{value:"#",label:"#"},{value:"b",label:"♭"}],H=[{label:l("harmony.diatonicGroup"),options:[{value:"major",label:$.getFormattedModeName("major")},{value:"dorian",label:$.getFormattedModeName("dorian")},{value:"phrygian",label:$.getFormattedModeName("phrygian")},{value:"lydian",label:$.getFormattedModeName("lydian")},{value:"mixolydian",label:$.getFormattedModeName("mixolydian")},{value:"aeolian",label:`${$.getFormattedModeName("aeolian")} (natural minor)`},{value:"locrian",label:$.getFormattedModeName("locrian")}]},{label:l("harmony.harmonicGroup"),options:[{value:"harmonicMinor",label:$.getFormattedModeName("harmonicMinor")},{value:"harmonicMajor",label:$.getFormattedModeName("harmonicMajor")},{value:"phrygianDominant",label:`${$.getFormattedModeName("phrygianDominant")} (HM5)`},{value:"lydianSharp2",label:`${$.getFormattedModeName("lydianSharp2")} (HM4)`},{value:"mixolydianFlat9Flat13",label:`${$.getFormattedModeName("mixolydianFlat9Flat13")} (HM5)`},{value:"ultraLocrian",label:`${$.getFormattedModeName("ultraLocrian")} (HM7)`},{value:"doubleHarmonicMajor",label:$.getFormattedModeName("doubleHarmonicMajor")},{value:"hungarianMinor",label:$.getFormattedModeName("hungarianMinor")}]},{label:l("harmony.melodicGroup"),options:[{value:"melodicMinor",label:`${$.getFormattedModeName("melodicMinor")} (asc)`},{value:"dorianFlat2",label:`${$.getFormattedModeName("dorianFlat2")} (MM2)`},{value:"lydianAugmented",label:`${$.getFormattedModeName("lydianAugmented")} (MM3)`},{value:"lydianDominant",label:`${$.getFormattedModeName("lydianDominant")} (MM4)`},{value:"mixolydianFlat6",label:`${$.getFormattedModeName("mixolydianFlat6")} (MM5)`},{value:"locrianNat2",label:`${$.getFormattedModeName("locrianNat2")} (MM6)`},{value:"alteredScale",label:`${$.getFormattedModeName("alteredScale")} (Super Locrian)`}]}];P.useEffect(()=>{if(console.log("useEffect triggered with:",{selectedNote:a,selectedAccidental:u,selectedMode:f}),a)try{const te=a+u,he=new $(te,f);v(he),k(he.getChordInfo());const oe=_t.getAllCadences(he);I(oe.map(fe=>fe.getInfo()));const de=ot.getAllModulations(he);R(de)}catch(te){console.error("Error creating key:",te),v(null),k([]),I([]),R([])}},[a,u,f]);const ce=()=>{if(!g)return;const he=g.notes.map(oe=>oe.frequency);G.playScale(he,{instrument:"guitar",duration:4,decay:.98,velocity:.28,direction:"up",tempo:.35})},ae=te=>{if(!te||!te.notes)return;const he=te.notes.map(oe=>oe.frequency);G.playChord(he,{instrument:"guitar",duration:3,decay:.98,velocity:.32})},Ne=te=>{if(!g||!te.romanNumerals)return;const oe=te.adjustedChords.map(ge=>ge.notes.map(xe=>xe.frequency));let de=0;function fe(){if(de>=oe.length)return;const ge=oe[de];G.playChord(ge,{instrument:"guitar",duration:3,decay:.98,velocity:.32}),de++,de<oe.length&&setTimeout(fe,400)}fe()},Ge=te=>{if(!g||!te.adjustedChords)return;const oe=te.adjustedChords.map(ge=>ge.notes.map(xe=>xe.frequency));let de=0;function fe(){if(de>=oe.length)return;const ge=oe[de];G.playChord(ge,{instrument:"guitar",duration:1.5,decay:.98,velocity:.32}),de++,de<oe.length&&setTimeout(fe,700)}fe()},Le=te=>{if(!g||!te.returnAdjustedChords)return;const oe=te.returnAdjustedChords.map(ge=>ge.notes.map(xe=>xe.frequency));let de=0;function fe(){if(de>=oe.length)return;const ge=oe[de];G.playChord(ge,{instrument:"guitar",duration:1.5,decay:.98,velocity:.32}),de++,de<oe.length&&setTimeout(fe,700)}fe()};return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"text-center",children:h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:l("harmony.title")})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(aa,{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:l("harmony.keySelection")}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("harmony.note")}),h.jsx("div",{className:"flex rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 p-1 gap-1",children:U.map(te=>h.jsx("button",{type:"button",onClick:()=>o(te.value),className:`flex-1 px-3 py-2 text-sm font-medium rounded-md transition-colors ${a===te.value?"bg-primary-500 text-white shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:te.label},te.value))})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("harmony.alteration")}),h.jsx("div",{className:"flex rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 p-1 gap-1 max-w-32",children:W.map(te=>h.jsx("button",{type:"button",onClick:()=>d(te.value),className:`flex-1 px-2 py-2 text-sm font-medium rounded-md transition-colors min-w-0 ${u===te.value?"bg-primary-500 text-white shadow-sm":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-600"}`,children:te.label},te.value))})]}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:l("harmony.modeScale")}),h.jsx("select",{className:"block w-full rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 px-3 py-2 text-sm text-gray-900 dark:text-white transition-colors focus:outline-none focus:ring-2 focus:ring-offset-1 focus:ring-primary-500",value:f,onChange:te=>{console.log("Mode changed to:",te.target.value),p(te.target.value)},children:H.map((te,he)=>h.jsx("optgroup",{label:te.label,children:te.options.map(oe=>h.jsx("option",{value:oe.value,children:oe.label},oe.value))},he))})]})]})]}),g&&h.jsxs(aa,{children:[h.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:l("harmony.scaleInfo")}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[l("harmony.tonic"),":"]}),h.jsx("span",{className:"text-gray-900 dark:text-white",children:g.tonic.name})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[l("harmony.family"),":"]}),h.jsx("span",{className:"text-gray-900 dark:text-white",children:g.mode==="major"||g.mode==="lydian"||g.mode==="mixolydian"?l("harmony.majorFamily"):g.mode==="minor"||g.mode==="aeolian"||g.mode==="dorian"||g.mode==="phrygian"||g.mode==="harmonicMinor"||g.mode==="melodicMinor"?l("harmony.minorFamily"):l("harmony.modalFamily")})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[l("harmony.formula"),":"]}),h.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:g.getModeFormula()})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[l("harmony.intervals"),":"]}),h.jsx("span",{className:"text-gray-900 dark:text-white font-mono text-sm",children:g.getIntervalsFromTonic()})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:[l("harmony.degrees"),":"]}),h.jsx("span",{className:"text-gray-900 dark:text-white",children:y.map(te=>te.romanNumeral).join(" ")})]}),h.jsxs("div",{children:[h.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-300 block mb-2",children:[l("harmony.notes"),":"]}),h.jsx("div",{className:"flex flex-wrap gap-2",children:g.notes.map((te,he)=>h.jsxs("span",{className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-full text-sm font-medium text-gray-900 dark:text-white",children:[he+1,".",te.name]},he))})]}),h.jsx("div",{className:"pt-2",children:h.jsx(Rn,{label:l("harmony.playScale"),playFn:ce,disabled:!g,icon:h.jsx("span",{children:"🎶"}),className:"w-full"})})]})]})]}),g&&y.length>0&&h.jsx(Yh,{currentKey:g,chordInfo:y,handlePlayChord:ae}),h.jsxs("div",{className:"mt-6",children:[h.jsxs("div",{className:"flex border-b border-gray-300 dark:border-gray-600 mb-4",children:[h.jsx("button",{className:`px-4 py-2 font-medium focus:outline-none transition-colors border-b-2 ${_==="cadences"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-primary-500"}`,onClick:()=>M("cadences"),children:l("harmony.cadences")}),h.jsx("button",{className:`px-4 py-2 font-medium focus:outline-none transition-colors border-b-2 ${_==="modulations"?"border-primary-500 text-primary-600 dark:text-primary-400":"border-transparent text-gray-600 dark:text-gray-400 hover:text-primary-500"}`,onClick:()=>M("modulations"),children:l("harmony.modulations")})]}),h.jsxs("div",{children:[_==="cadences"&&w.length>0&&h.jsx(eg,{cadences:w,handlePlayCadence:Ne}),_==="modulations"&&j.length>0&&h.jsx(tg,{modulations:j,handlePlayModulation:Ge,handlePlayReturnModulation:Le})]})]})]})};class ig{engine;ac;masterGain;volumes={kick:.8,snare:.6,hihat:.4,sticks:1,metronome:1};constructor(r){this.engine=r||new bd,this.ac=this.engine.getContext(),this.masterGain=this.ac.createGain(),this.masterGain.gain.value=.9,this.masterGain.connect(this.ac.destination)}setVolume(r,a){this.volumes[r]=a}play(r,a={}){try{this.ac.state==="suspended"&&this.ac.resume()}catch{}const o=(a.velocity??1)*this.volumes[r];switch(r){case"kick":this.playKick({...a,velocity:o});break;case"snare":this.playSnare({...a,velocity:o});break;case"hihat":this.playHiHat({...a,velocity:o});break;case"sticks":this.playSticks({...a,velocity:o});break;case"metronome":this.playMetronome({...a,velocity:o});break}}playMetronome(r){const a=r.duration??.01,o=r.velocity??1,u=this.ac.currentTime,d=this.ac.createOscillator();d.type="square",d.frequency.setValueAtTime(2200,u),d.frequency.linearRampToValueAtTime(1200,u+a);const f=this.ac.createGain();f.gain.setValueAtTime(1.2*o,u),f.gain.exponentialRampToValueAtTime(1e-4,u+a);const p=this.ac.createBiquadFilter();p.type="highpass",p.frequency.value=1200,d.connect(p),p.connect(f),f.connect(this.masterGain),d.start(u),d.stop(u+a),d.onended=()=>{d.disconnect(),p.disconnect(),f.disconnect()}}playSticks(r){const a=r.duration??.025,o=r.velocity??1,u=this.ac.currentTime,d=this.ac.createOscillator();d.type="square",d.frequency.setValueAtTime(950,u),d.frequency.linearRampToValueAtTime(480,u+a);const f=this.ac.createGain();f.gain.setValueAtTime(1.1*o,u),f.gain.exponentialRampToValueAtTime(1e-4,u+a);const p=this.ac.createBiquadFilter();p.type="highpass",p.frequency.value=420,d.connect(p),p.connect(f),f.connect(this.masterGain),d.start(u),d.stop(u+a),d.onended=()=>{d.disconnect(),p.disconnect(),f.disconnect()};const g=a*.5,v=Math.max(1,Math.floor(this.ac.sampleRate*g)),y=this.ac.createBuffer(1,v,this.ac.sampleRate),k=y.getChannelData(0);for(let R=0;R<v;R++)k[R]=Math.random()*2-1;const w=this.ac.createBufferSource();w.buffer=y;const I=this.ac.createGain();I.gain.setValueAtTime(.08*o,u),I.gain.exponentialRampToValueAtTime(1e-4,u+g);const j=this.ac.createBiquadFilter();j.type="highpass",j.frequency.value=420,w.connect(j),j.connect(I),I.connect(this.masterGain),w.start(u),w.stop(u+g),w.onended=()=>{w.disconnect(),j.disconnect(),I.disconnect()}}playKick(r){const a=r.duration??.5,o=r.velocity??.8,u=this.ac.currentTime,d=this.ac.createOscillator();d.type="sine",d.frequency.setValueAtTime(140,u),d.frequency.exponentialRampToValueAtTime(38,u+a);const f=this.ac.createGain();f.gain.setValueAtTime(o,u),f.gain.exponentialRampToValueAtTime(1e-4,u+a);const p=this.ac.createOscillator();p.type="square",p.frequency.setValueAtTime(1200,u),p.frequency.linearRampToValueAtTime(600,u+.02);const g=this.ac.createGain();g.gain.setValueAtTime(.22*o,u),g.gain.exponentialRampToValueAtTime(1e-4,u+.045);const v=this.ac.createBiquadFilter();v.type="lowpass",v.frequency.value=160,v.Q.value=1.2,d.connect(v),v.connect(f),f.connect(this.masterGain);const y=this.ac.createBiquadFilter();y.type="highpass",y.frequency.value=700,p.connect(y),y.connect(g),g.connect(this.masterGain),d.start(u),d.stop(u+a),p.start(u),p.stop(u+.05),d.onended=()=>{d.disconnect(),v.disconnect(),f.disconnect()},p.onended=()=>{p.disconnect(),y.disconnect(),g.disconnect()}}playSnare(r){const a=r.duration??.25,o=r.velocity??.6,u=this.ac.currentTime,d=this.ac.sampleRate*a,f=this.ac.createBuffer(1,d,this.ac.sampleRate),p=f.getChannelData(0);for(let j=0;j<d;j++)p[j]=Math.random()*2-1;const g=this.ac.createBufferSource();g.buffer=f;const v=this.ac.createGain();v.gain.setValueAtTime(o,u),v.gain.exponentialRampToValueAtTime(1e-4,u+a);const y=this.ac.createBiquadFilter();y.type="highpass",y.frequency.value=1200;const k=this.ac.createOscillator();k.type="sine",k.frequency.setValueAtTime(180,u),k.frequency.exponentialRampToValueAtTime(110,u+.13);const w=this.ac.createGain();w.gain.setValueAtTime(.32*o,u),w.gain.exponentialRampToValueAtTime(1e-4,u+.18);const I=this.ac.createBiquadFilter();I.type="lowpass",I.frequency.value=420,I.Q.value=1.1,k.connect(I),I.connect(w),w.connect(this.masterGain),g.connect(y),y.connect(v),v.connect(this.masterGain),k.start(u),k.stop(u+.19),g.start(),g.stop(u+a),g.onended=()=>{g.disconnect(),y.disconnect(),v.disconnect()},k.onended=()=>{k.disconnect(),I.disconnect(),w.disconnect()}}playHiHat(r){const a=r.duration??.08,o=r.velocity??.4,u=this.ac.currentTime,d=this.ac.sampleRate*a,f=this.ac.createBuffer(1,d,this.ac.sampleRate),p=f.getChannelData(0);for(let j=0;j<d;j++)p[j]=Math.random()*2-1;const g=this.ac.createBufferSource();g.buffer=f;const v=this.ac.createGain();v.gain.setValueAtTime(o,u),v.gain.exponentialRampToValueAtTime(1e-4,u+a);const y=this.ac.createBiquadFilter();y.type="bandpass",y.frequency.value=8e3,y.Q.value=1.5;const k=this.ac.createOscillator();k.type="triangle",k.frequency.setValueAtTime(420,u),k.frequency.linearRampToValueAtTime(320,u+a*.7);const w=this.ac.createGain();w.gain.setValueAtTime(.18*o,u),w.gain.exponentialRampToValueAtTime(1e-4,u+a);const I=this.ac.createBiquadFilter();I.type="bandpass",I.frequency.value=1200,I.Q.value=1.2,k.connect(I),I.connect(w),w.connect(this.masterGain),g.connect(y),y.connect(v),v.connect(this.masterGain),k.start(u),k.stop(u+a),g.start(),g.stop(u+a),g.onended=()=>{g.disconnect(),y.disconnect(),v.disconnect()},k.onended=()=>{k.disconnect(),I.disconnect(),w.disconnect()}}stop(){this.engine.close()}}const Ht=[{id:"A",name:"A",pattern:["note","rest","rest","rest"],label:"●---"},{id:"B",name:"B",pattern:["rest","note","rest","rest"],label:"-●--"},{id:"C",name:"C",pattern:["rest","rest","note","rest"],label:"--●-"},{id:"D",name:"D",pattern:["rest","rest","rest","note"],label:"---●"},{id:"E",name:"E",pattern:["note","note","rest","rest"],label:"●●--"},{id:"F",name:"F",pattern:["rest","note","note","rest"],label:"-●●-"},{id:"G",name:"G",pattern:["rest","rest","note","note"],label:"--●●"},{id:"H",name:"H",pattern:["note","rest","rest","note"],label:"●--●"},{id:"I",name:"I",pattern:["note","rest","note","rest"],label:"●-●-"},{id:"J",name:"J",pattern:["rest","note","rest","note"],label:"-●-●"},{id:"K",name:"K",pattern:["note","note","note","rest"],label:"●●●-"},{id:"L",name:"L",pattern:["rest","note","note","note"],label:"-●●●"},{id:"M",name:"M",pattern:["note","rest","note","note"],label:"●-●●"},{id:"N",name:"N",pattern:["note","note","rest","note"],label:"●●-●"},{id:"O",name:"O",pattern:["note","note","note","note"],label:"●●●●"},{id:"P",name:"P",pattern:["rest","rest","rest","rest"],label:"----"},{id:"Q",name:"Q",pattern:["note","rest","rest"],label:"●--"},{id:"R",name:"R",pattern:["rest","note","rest"],label:"-●-"},{id:"S",name:"S",pattern:["rest","rest","note"],label:"--●"},{id:"T",name:"T",pattern:["note","note","rest"],label:"●●-"},{id:"U",name:"U",pattern:["rest","note","note"],label:"-●●"},{id:"V",name:"V",pattern:["note","rest","note"],label:"●-●"},{id:"W",name:"W",pattern:["note","note","note"],label:"●●●"},{id:"X",name:"X",pattern:["rest","rest","rest"],label:"---"}];function og(l){return Ht.find(r=>r.id===l)||Ht[0]}function Ei(l){return l.map(r=>r==="note"?"ti":"ta")}function Ts(l){return{beats:Array.from({length:l.beatCount},()=>({glyph:Ht[0],accents:Ht[0].pattern,syllables:Ei(Ht[0].pattern)})),tempo:l.tempo,soundType:l.soundType,hiHat:l.hiHat}}function sg(l){return{beats:Array.from({length:l.beatCount},()=>{const r=Ht[Math.floor(Math.random()*Ht.length)];return{glyph:r,accents:r.pattern,syllables:Ei(r.pattern)}}),tempo:l.tempo,soundType:l.soundType,hiHat:l.hiHat}}const wi={beatCount:4,tempo:45,soundType:"drums",hiHat:!1,soundVolume:6,metronomeVolume:70},lg=()=>{const[a,o]=P.useState(!1),[u,d]=P.useState(60),[f,p]=P.useState(!1),[g,v]=P.useState(u),y=P.useRef(void 0),k=L=>{const Z=Math.floor(L/60),ee=L%60;return`${Z.toString().padStart(2,"0")}:${ee.toString().padStart(2,"0")}`},[w,I]=P.useState(!1),{t:j}=Kt(),R=()=>{try{const L=localStorage.getItem("rhythmTrainerSettings");return L?JSON.parse(L):wi}catch{return wi}},_=()=>{try{const L=localStorage.getItem("rhythmTrainerPattern");return L?JSON.parse(L):Ts(wi)}catch{return Ts(wi)}},[M,G]=P.useState(R()),[U,W]=P.useState(_()),H=pn.useMemo(()=>({beats:Ht.map(L=>({glyph:L,accents:L.pattern,syllables:Ei(L.pattern)})),tempo:M.tempo,hiHat:M.hiHat}),[M.tempo,M.soundType,M.hiHat]),ce=w?H:U,[ae,Ne]=P.useState(!1),[Ge,Le]=P.useState(null),[te,he]=P.useState(null),[oe,de]=P.useState(!1),[fe,ge]=P.useState(null),[xe,z]=P.useState(null),q=P.useRef(void 0),B=P.useRef(void 0),C=P.useRef(null),[O,ue]=P.useState(null),[le,ye]=P.useState(M.tempo),me=P.useRef(null);P.useEffect(()=>{const L=Z=>{const ee=document.activeElement&&document.activeElement.tagName||"";Z.code==="Space"&&!Z.repeat&&ee!=="INPUT"&&ee!=="TEXTAREA"&&!Z.ctrlKey&&!Z.altKey&&!Z.metaKey&&(Z.preventDefault(),Dn())};return window.addEventListener("keydown",L),()=>{window.removeEventListener("keydown",L)}},[ae,a,u]),P.useEffect(()=>{ye(M.tempo)},[M.tempo]),P.useEffect(()=>(le!==M.tempo&&(me.current&&clearTimeout(me.current),me.current=setTimeout(()=>{ke(le)},400)),()=>{me.current&&clearTimeout(me.current)}),[le]);const be=L=>{const Z={...M,beatCount:L};G(Z),localStorage.setItem("rhythmTrainerSettings",JSON.stringify(Z));let ee=[...U.beats];const ve=Ts(Z).beats;if(L>U.beats.length)for(let Ve=U.beats.length;Ve<L;Ve++)ee.push(ve[Ve]||ve[0]);else L<U.beats.length&&(ee=ee.slice(0,L));ee=ee.filter(Ve=>Ve&&Ve.accents);const De={...U,beats:ee};W(De),localStorage.setItem("rhythmTrainerPattern",JSON.stringify(De)),ae&&setTimeout(()=>Ne(!0),0)},ke=L=>{const Z={...M,tempo:L};G(Z),localStorage.setItem("rhythmTrainerSettings",JSON.stringify(Z)),W(ee=>{const ve={...ee,tempo:L};return localStorage.setItem("rhythmTrainerPattern",JSON.stringify(ve)),ve}),ae&&setTimeout(()=>Ne(!0),0)},Te=L=>{const Z={...M,soundType:L};G(Z),localStorage.setItem("rhythmTrainerSettings",JSON.stringify(Z)),W(ee=>{const ve={...ee,soundType:L};return localStorage.setItem("rhythmTrainerPattern",JSON.stringify(ve)),ve}),ae&&setTimeout(()=>Ne(!0),0)},rt=L=>{const Z={...M,hiHat:L};G(Z),localStorage.setItem("rhythmTrainerSettings",JSON.stringify(Z)),W(ee=>{const ve={...ee,hiHat:L};return localStorage.setItem("rhythmTrainerPattern",JSON.stringify(ve)),ve}),ae&&setTimeout(()=>Ne(!0),0)};P.useEffect(()=>(C.current=new ig,()=>{C.current?.stop()}),[]),P.useEffect(()=>{if(ae){let L=0;Le(L),he(null);const Z=w?H.beats:ce.beats;vn(L,Z),q.current=window.setInterval(()=>{L=(L+1)%Z.length,Le(L),he(null),vn(L,Z)},6e4/M.tempo)}else Le(null),he(null),q.current!==void 0&&(clearInterval(q.current),q.current=void 0);return()=>{q.current!==void 0&&(clearInterval(q.current),q.current=void 0)}},[ae,ce.beats.length,M.tempo,w,H.beats.length]),P.useEffect(()=>{if(oe&&fe!==null){ae&&Ne(!1);let L=0;z(L),yn(fe,L),B.current=window.setInterval(()=>{const Z=ce.beats[fe].accents.length;L=(L+1)%Z,z(L),yn(fe,L)},6e4/M.tempo/ce.beats[fe].accents.length)}else z(null),B.current!==void 0&&(clearInterval(B.current),B.current=void 0);return()=>{B.current!==void 0&&(clearInterval(B.current),B.current=void 0)}},[oe,fe,M.tempo,ce.beats,ae]);function yn(L,Z){if(!C.current)return;const ee=ce.beats[L];if(!ee)return;ee.accents[Z]==="note"&&C.current?.play("metronome",{velocity:M.metronomeVolume}),M.soundType==="sticks"&&Z===0&&C.current?.play("sticks",{velocity:M.soundVolume}),M.soundType==="drums"&&Z===0&&C.current?.play(L%2===0?"kick":"snare",{velocity:M.soundVolume}),M.soundType==="drums"&&M.hiHat&&C.current?.play("hihat",{velocity:M.soundVolume})}function vn(L,Z){if(!C.current)return;const ve=(Z||ce.beats)[L];if(!ve)return;const De=ve.accents.length;he(0);for(let Ve=0;Ve<De;Ve++)setTimeout(()=>{he(Ve),ve.accents[Ve]==="note"&&C.current?.play("metronome",{velocity:M.metronomeVolume}),M.soundType==="sticks"&&Ve===0&&C.current?.play("sticks",{velocity:M.soundVolume}),M.soundType==="drums"&&Ve===0&&C.current?.play(L%2===0?"kick":"snare",{velocity:M.soundVolume}),M.soundType==="drums"&&M.hiHat&&C.current?.play("hihat",{velocity:M.soundVolume})},Ve*(6e4/M.tempo/De));setTimeout(()=>he(0),De*(6e4/M.tempo/De))}const On=()=>{try{const L=sg(M);W(L),localStorage.setItem("rhythmTrainerPattern",JSON.stringify(L)),ue(null),ae&&Ge!==null&&(he(null),setTimeout(()=>{vn(Ge)},0))}catch{ue("Ошибка генерации ритма")}},Dn=()=>{if(!a&&y.current!==void 0&&(clearInterval(y.current),y.current=void 0,p(!1),v(u)),ae||oe){Ne(!1),de(!1),ge(null),Le(null),a&&y.current!==void 0&&(clearInterval(y.current),y.current=void 0,p(!1),v(u));return}Ne(!0),Le(0),a&&(p(!0),v(u),y.current!==void 0&&(clearInterval(y.current),y.current=void 0),y.current=window.setInterval(()=>{v(L=>L<=1?(Ne(!1),de(!1),ge(null),p(!1),clearInterval(y.current),y.current=void 0,u):L-1)},1e3))},sa=(L,Z)=>{const ee=og(Z);if(!ee)return;const ve=U.beats.map((Ve,mr)=>mr===L?{...Ve,glyph:ee,accents:ee.pattern,syllables:Ei(ee.pattern)}:Ve),De={...U,beats:ve};W(De),localStorage.setItem("rhythmTrainerPattern",JSON.stringify(De)),ae&&Ge!==null&&(he(null),setTimeout(()=>{vn(Ge)},0))},fr=L=>{const Z=Math.max(0,Math.min(100,L))/100,ee={...M,soundVolume:L};G(ee),localStorage.setItem("rhythmTrainerSettings",JSON.stringify(ee)),C.current&&["sticks","kick","snare","hihat"].forEach(ve=>{C.current.setVolume(ve,Z)})},An=L=>{const Z=Math.max(0,Math.min(100,L))/100,ee={...M,metronomeVolume:L};G(ee),localStorage.setItem("rhythmTrainerSettings",JSON.stringify(ee)),C.current&&C.current.setVolume("metronome",Z)};return h.jsxs("div",{className:"max-w-8xl w-full mx-auto space-y-6 p-4 min-h-screen",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:j("rhythmTrainer.title")}),h.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:j("rhythmTrainer.description")})]}),h.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4 mb-4 border border-gray-200 dark:border-gray-700",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-2",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold mb-1",children:j("rhythmTrainer.settings.beatCount")}),h.jsx("select",{className:`w-full px-2 py-1 rounded border ${w?"bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-500 border-gray-200 dark:border-gray-800 cursor-not-allowed":"border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}`,value:M.beatCount,onChange:L=>be(Number(L.target.value)),disabled:w,children:[1,2,4,6,8,10,12].map(L=>h.jsx("option",{value:L,children:L},L))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold mb-1",children:j("rhythmTrainer.settings.tempo")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"range",min:40,max:240,value:le,onChange:L=>ye(Number(L.target.value)),className:"w-32"}),h.jsx("input",{className:"w-16 px-2 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",type:"number",min:40,max:240,value:le,onChange:L=>ye(Number(L.target.value))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold mb-1",children:" "}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("button",{className:`btn btn-primary border ${w?"bg-gray-200 dark:bg-gray-900 text-gray-400 dark:text-gray-500 border-gray-200 dark:border-gray-800 cursor-not-allowed":"bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white border-gray-400 dark:border-gray-600 hover:bg-gray-300 dark:hover:bg-gray-600"}`,onClick:On,title:j("rhythmTrainer.tooltips.random"),disabled:w,children:["🎲 ",j("rhythmTrainer.buttons.random")]}),h.jsx("button",{className:"btn btn-secondary bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-white border border-gray-400 dark:border-gray-600 hover:bg-gray-300 dark:hover:bg-gray-600 ml-2",onClick:()=>I(L=>!L),title:j("rhythmTrainer.tooltips.alphabetMode"),children:j(w?"rhythmTrainer.buttons.alphabetOff":"rhythmTrainer.buttons.alphabetOn")})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold mb-1",children:j("rhythmTrainer.settings.soundType")}),h.jsxs("select",{className:"w-full px-2 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",value:M.soundType,onChange:L=>Te(L.target.value),children:[h.jsx("option",{value:"drums",children:j("rhythmTrainer.settings.drums")}),h.jsx("option",{value:"sticks",children:j("rhythmTrainer.settings.sticks")})]}),M.soundType==="drums"&&h.jsxs("div",{children:[h.jsx("input",{type:"checkbox",checked:M.hiHat,onChange:L=>rt(L.target.checked),className:"mr-2 accent-blue-600 dark:accent-blue-400"}),h.jsx("span",{className:"text-xs",children:j("rhythmTrainer.settings.hiHat")})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold mb-1",children:j("rhythmTrainer.settings.soundVolume")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"range",min:0,max:100,step:1,value:M.soundVolume,onChange:L=>fr(Number(L.target.value)),className:"w-32"}),h.jsx("input",{className:"w-16 px-2 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",type:"number",min:0,max:100,step:1,value:M.soundVolume,onChange:L=>fr(Number(L.target.value))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-semibold mb-1",children:j("rhythmTrainer.settings.metronomeVolume")}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("input",{type:"range",min:0,max:100,step:1,value:M.metronomeVolume,onChange:L=>An(Number(L.target.value)),className:"w-32"}),h.jsx("input",{className:"w-16 px-2 py-1 rounded border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white",type:"number",min:0,max:100,step:1,value:M.metronomeVolume,onChange:L=>An(Number(L.target.value))})]})]}),h.jsxs("div",{className:"flex gap-2 mt-2 items-center",children:[h.jsx("button",{className:"btn btn-primary bg-blue-600 dark:bg-blue-500 text-white dark:text-white border-blue-700 dark:border-blue-400 hover:bg-blue-700 dark:hover:bg-blue-600",onClick:Dn,title:j(ae?"rhythmTrainer.tooltips.stop":"rhythmTrainer.tooltips.start"),children:ae?`⏹ ${j("rhythmTrainer.buttons.stop")}`:`▶️ ${j("rhythmTrainer.buttons.start")}`}),h.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[h.jsx("button",{className:`btn btn-secondary px-2 py-1 border ${a?"bg-blue-200 dark:bg-blue-900 text-blue-900 dark:text-blue-200":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300"}`,onClick:()=>{o(L=>!L),p(!1),v(u),y.current&&clearInterval(y.current)},title:j("rhythmTrainer.tooltips.timer"),children:j(a?"rhythmTrainer.buttons.timerStop":"rhythmTrainer.buttons.timerStart")}),h.jsx("input",{type:"text",value:k(f?g:u),disabled:!a||f,onChange:L=>{const Z=L.target.value.split(":");let ee=Number(Z[0]),ve=Number(Z[1]);isNaN(ee)&&(ee=0),isNaN(ve)&&(ve=0);let De=ee*60+ve;De<30&&(De=30),De>900&&(De=900),d(De),v(De)},className:`w-16 px-2 py-1 rounded border transition-colors duration-150
                  border-gray-300 dark:border-gray-700
                  ${f?"bg-blue-50 dark:bg-blue-900 text-blue-700 dark:text-blue-300 font-bold":a?"bg-white dark:bg-gray-900 text-gray-900 dark:text-white":"bg-gray-100 dark:bg-gray-800 text-gray-400 dark:text-gray-500 cursor-not-allowed"}
                `,title:j(f?"rhythmTrainer.tooltips.timerCountdown":"rhythmTrainer.tooltips.timerValue"),pattern:"[0-9]{2}:[0-9]{2}",inputMode:"numeric"}),h.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:j("rhythmTrainer.settings.timer")})]})]}),O&&h.jsx("div",{className:"text-red-600 text-sm mt-2",children:j("rhythmTrainer.errors.generation")})]})}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:(w?H.beats:ce.beats).filter(L=>L&&L.accents).map((L,Z)=>h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute left-2 top-2 z-10",children:h.jsx("select",{value:L.glyph.id,onChange:ee=>sa(Z,ee.target.value),className:`text-xs px-1 py-0.5 rounded border ${w?"bg-gray-100 dark:bg-gray-900 text-gray-400 dark:text-gray-500 border-gray-200 dark:border-gray-800 cursor-not-allowed":"border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white"}`,title:j("rhythmTrainer.tooltips.beatGlyph"),disabled:w,children:Ht.map(ee=>h.jsx("option",{value:ee.id,title:j(`rhythmTrainer.glyphNames.${ee.id}`),children:j(`rhythmTrainer.glyphNames.${ee.id}`)},ee.id))})}),h.jsx("div",{className:"absolute right-2 top-2 z-10",children:h.jsx("button",{className:`text-lg px-1 py-0.5 rounded border bg-white dark:bg-gray-800 shadow ${oe&&fe===Z?"bg-blue-100 dark:bg-blue-900":""} text-gray-900 dark:text-white border-gray-300 dark:border-gray-700`,title:j(oe&&fe===Z?"rhythmTrainer.buttons.stop":"rhythmTrainer.buttons.start"),onClick:()=>{!a&&y.current!==void 0&&(clearInterval(y.current),y.current=void 0,p(!1),v(u)),oe&&fe===Z?(de(!1),ge(null),Ne(!1),Le(null),a&&y.current!==void 0&&(clearInterval(y.current),y.current=void 0,p(!1),v(u))):(Ne(!1),Le(null),de(!0),ge(Z),a&&(p(!0),v(u),y.current!==void 0&&(clearInterval(y.current),y.current=void 0),y.current=window.setInterval(()=>{v(ee=>ee<=1?(de(!1),ge(null),p(!1),clearInterval(y.current),y.current=void 0,u):ee-1)},1e3)))},children:oe&&fe===Z?"⏹":"▶️"})}),h.jsxs("div",{className:`border rounded-lg flex flex-col items-center justify-center min-h-[110px] py-3 px-3 bg-white dark:bg-gray-800 transition-all duration-150 shadow-sm ${ae&&Ge===Z?"border-blue-400 dark:border-blue-300 ring-2 ring-blue-200 dark:ring-blue-700":"border-gray-200 dark:border-gray-700"}`,children:[h.jsx("div",{className:"flex gap-2 mb-1",children:L.accents.map((ee,ve)=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("span",{className:`${ee==="note"?"text-3xl text-blue-600":"text-3xl text-gray-400"} `+(ae&&Ge===Z&&te===ve||oe&&fe===Z&&xe===ve?"animate-pulse bg-yellow-200 rounded px-1":""),style:{minWidth:"1.5em",display:"inline-block",textAlign:"center"},title:j(ee==="note"?"rhythmTrainer.legend.note":"rhythmTrainer.legend.rest"),children:ee==="note"?"●":"–"}),h.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-300",children:j(`rhythmTrainer.${L.syllables[ve]}`)})]},ve))}),h.jsx("span",{className:"text-xs text-gray-400 dark:text-gray-300 mt-1",children:j(`rhythmTrainer.glyphLabels.${L.glyph.id}`)})]})]},L.glyph?.id+"-"+Z))})]})};function ug(){return h.jsx(qh,{children:h.jsx(Lh,{children:h.jsx(Lp,{basename:"/guitar-helper",children:h.jsx(Xh,{children:h.jsxs(Tp,{children:[h.jsx(Is,{path:"/",element:h.jsx(lg,{})}),h.jsx(Is,{path:"/harmony",element:h.jsx(ag,{})})]})})})})})}Lm.createRoot(document.getElementById("root")).render(h.jsx(pn.StrictMode,{children:h.jsx(ug,{})}));
